import{C as J,X as Q,D as o,l as i,u as r,o as a,m as t,A as z,y as c,E as W,G as Y,z as l,p as Z,F as G,t as $,f as g,H as tt}from"./vendor-LkufkiF7.js";import{L as et}from"./Layout-yhAyU3q9.js";import{h as st}from"./utils-Cv2kkzzw.js";import{_ as at}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{Clock as lt,LucideTarget as ot,LucideTrendingUp as it,CheckCircle as rt,Brain as dt,AlertCircle as nt,ArrowLeft as ct,LucideRefreshCw as xt,BarChart3 as mt}from"./ui-DZ0wy3Ge.js";import"./LogoutButton-oKW2oLhJ.js";import"./app-BC8evlMS.js";import"./Logo-CwTRbPbO.js";import"./FlashMessages-Bge5XBye.js";const _t={name:"AIAnalytics",layout:et,components:{Head:Q,Link:J,BarChart3:mt,RefreshCw:xt,ArrowLeft:ct,AlertCircle:nt,Brain:dt,CheckCircle:rt,TrendingUp:it,Target:ot,Clock:lt},setup(){const _=g(null),e=g(!0),x=g(null),s=async()=>{e.value=!0,x.value=null;try{const m=await(await fetch("/dashboard/ai/analytics",{method:"GET",headers:{Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}})).json();m.success?_.value=m.data:x.value=m.message||"Failed to load analytics"}catch(d){console.error("Failed to load AI analytics:",d),x.value="Failed to load analytics. Please try again."}finally{e.value=!1}},h=()=>{s()},p=d=>(d*100).toFixed(1)+"%",b=d=>st(d).fromNow();return tt(()=>{s()}),{analytics:_,loading:e,error:x,refreshAnalytics:h,formatPercentage:p,formatDate:b}}},ft={class:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800"},bt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},gt={class:"mb-8"},ht={class:"flex items-center justify-between"},pt={class:"text-3xl font-bold text-slate-900 dark:text-white flex items-center gap-3"},kt={class:"p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg"},ut={class:"flex items-center gap-3"},yt=["disabled"],wt={key:0,class:"flex items-center justify-center py-12"},vt={key:1,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 mb-8"},Ct={class:"flex items-center gap-3"},At={class:"text-red-600 dark:text-red-400 mt-1"},Lt={key:2,class:"space-y-8"},Tt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},jt={class:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700"},Bt={class:"flex items-center justify-between"},It={class:"text-2xl font-bold text-slate-900 dark:text-white"},Nt={class:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg"},Pt={class:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700"},Rt={class:"flex items-center justify-between"},Ft={class:"text-2xl font-bold text-slate-900 dark:text-white"},Dt={class:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg"},Ut={class:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700"},Et={class:"flex items-center justify-between"},Ht={class:"text-2xl font-bold text-slate-900 dark:text-white"},St={class:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg"},Vt={class:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700"},zt={class:"flex items-center justify-between"},Gt={class:"text-2xl font-bold text-slate-900 dark:text-white"},Mt={class:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg"},Ot={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Xt={class:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700"},qt={class:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2"},Kt={class:"space-y-4"},Jt={class:"flex items-center justify-between"},Qt={class:"text-lg font-semibold text-slate-900 dark:text-white"},Wt={class:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2"},Yt={class:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700"},Zt={class:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2"},$t={class:"space-y-4"},te={class:"flex items-center justify-between"},ee={class:"text-lg font-semibold text-blue-600 dark:text-blue-400"},se={class:"flex items-center justify-between"},ae={class:"text-lg font-semibold text-slate-600 dark:text-slate-400"},le={class:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700"},oe={class:"text-lg font-semibold text-slate-900 dark:text-white mb-6 flex items-center gap-2"},ie={key:0,class:"space-y-4"},re={class:"flex items-center gap-4"},de={class:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg"},ne={class:"font-medium text-slate-900 dark:text-white"},ce={class:"text-sm text-slate-600 dark:text-slate-400"},xe={class:"text-right"},me={class:"text-sm font-medium text-slate-900 dark:text-white"},_e={class:"text-xs text-slate-500 dark:text-slate-400"},fe={key:1,class:"text-center py-8 text-slate-500 dark:text-slate-400"},be={key:0,class:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700"},ge={class:"text-lg font-semibold text-slate-900 dark:text-white mb-6 flex items-center gap-2"},he={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},pe={class:"text-center"},ke={class:"text-2xl font-bold text-slate-900 dark:text-white"},ue={class:"text-center"},ye={class:"text-2xl font-bold text-slate-900 dark:text-white"},we={class:"text-center"},ve={class:"text-2xl font-bold text-slate-900 dark:text-white"};function Ce(_,e,x,s,h,p){var y,w,v,C,A,L,T,j,B,I,N,P,R,F,D,U,E;const b=o("Head"),d=o("BarChart3"),m=o("RefreshCw"),M=o("ArrowLeft"),O=o("Link"),X=o("AlertCircle"),f=o("Brain"),q=o("CheckCircle"),k=o("TrendingUp"),u=o("Target"),K=o("Clock");return r(),i(G,null,[a(b,{title:"AI Analytics"}),t("div",ft,[t("div",bt,[t("div",gt,[t("div",ht,[t("div",null,[t("h1",pt,[t("div",kt,[a(d,{class:"w-6 h-6 text-white"})]),e[1]||(e[1]=c(" AI Analytics Dashboard ",-1))]),e[2]||(e[2]=t("p",{class:"mt-2 text-slate-600 dark:text-slate-400"}," Comprehensive insights into AI performance and ticket classification ",-1))]),t("div",ut,[t("button",{onClick:e[0]||(e[0]=(...n)=>s.refreshAnalytics&&s.refreshAnalytics(...n)),disabled:s.loading,class:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors disabled:opacity-50 flex items-center gap-2"},[a(m,{class:W(["w-4 h-4",{"animate-spin":s.loading}])},null,8,["class"]),e[3]||(e[3]=c(" Refresh ",-1))],8,yt),a(O,{href:_.route("dashboard"),class:"px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all flex items-center gap-2"},{default:Y(()=>[a(M,{class:"w-4 h-4"}),e[4]||(e[4]=c(" Back to Dashboard ",-1))]),_:1},8,["href"])])])]),s.loading?(r(),i("div",wt,[...e[5]||(e[5]=[t("div",{class:"text-center"},[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t("p",{class:"text-slate-600 dark:text-slate-400"},"Loading AI analytics...")],-1)])])):s.error?(r(),i("div",vt,[t("div",Ct,[a(X,{class:"w-6 h-6 text-red-600 dark:text-red-400"}),t("div",null,[e[6]||(e[6]=t("h3",{class:"text-lg font-semibold text-red-800 dark:text-red-200"},"Error Loading Analytics",-1)),t("p",At,l(s.error),1)])])])):s.analytics?(r(),i("div",Lt,[t("div",Tt,[t("div",jt,[t("div",Bt,[t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm font-medium text-slate-600 dark:text-slate-400"},"Total Classifications",-1)),t("p",It,l(((y=s.analytics.classification)==null?void 0:y.total_classifications)||0),1)]),t("div",Nt,[a(f,{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})])])]),t("div",Pt,[t("div",Rt,[t("div",null,[e[8]||(e[8]=t("p",{class:"text-sm font-medium text-slate-600 dark:text-slate-400"},"Applied Classifications",-1)),t("p",Ft,l(((w=s.analytics.classification)==null?void 0:w.applied_classifications)||0),1)]),t("div",Dt,[a(q,{class:"w-6 h-6 text-green-600 dark:text-green-400"})])])]),t("div",Ut,[t("div",Et,[t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm font-medium text-slate-600 dark:text-slate-400"},"High Confidence",-1)),t("p",Ht,l(((v=s.analytics.classification)==null?void 0:v.high_confidence_classifications)||0),1)]),t("div",St,[a(k,{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})])])]),t("div",Vt,[t("div",zt,[t("div",null,[e[10]||(e[10]=t("p",{class:"text-sm font-medium text-slate-600 dark:text-slate-400"},"Average Confidence",-1)),t("p",Gt,l(s.formatPercentage(((C=s.analytics.classification)==null?void 0:C.average_confidence)||0)),1)]),t("div",Mt,[a(u,{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})])])])]),t("div",Ot,[t("div",Xt,[t("h3",qt,[a(u,{class:"w-5 h-5"}),e[11]||(e[11]=c(" Classification Accuracy ",-1))]),t("div",Kt,[t("div",Jt,[e[12]||(e[12]=t("span",{class:"text-sm text-slate-600 dark:text-slate-400"},"Overall Accuracy",-1)),t("span",Qt,l(s.formatPercentage(((A=s.analytics.classification)==null?void 0:A.classification_accuracy)||0)),1)]),t("div",Wt,[t("div",{class:"bg-gradient-to-r from-blue-500 to-indigo-600 h-2 rounded-full transition-all duration-300",style:Z({width:(((L=s.analytics.classification)==null?void 0:L.classification_accuracy)||0)*100+"%"})},null,4)])])]),t("div",Yt,[t("h3",Zt,[a(f,{class:"w-5 h-5"}),e[13]||(e[13]=c(" AI vs Manual Classifications ",-1))]),t("div",$t,[t("div",te,[e[14]||(e[14]=t("span",{class:"text-sm text-slate-600 dark:text-slate-400"},"AI Generated",-1)),t("span",ee,l(((T=s.analytics.classification)==null?void 0:T.ai_generated_classifications)||0),1)]),t("div",se,[e[15]||(e[15]=t("span",{class:"text-sm text-slate-600 dark:text-slate-400"},"Manual",-1)),t("span",ae,l((((j=s.analytics.classification)==null?void 0:j.total_classifications)||0)-(((B=s.analytics.classification)==null?void 0:B.ai_generated_classifications)||0)),1)])])])]),t("div",le,[t("h3",oe,[a(K,{class:"w-5 h-5"}),e[16]||(e[16]=c(" Recent Classification Activity ",-1))]),(N=(I=s.analytics.classification)==null?void 0:I.recent_activity)!=null&&N.length?(r(),i("div",ie,[(r(!0),i(G,null,$(s.analytics.classification.recent_activity,n=>{var H,S,V;return r(),i("div",{key:n.id,class:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg"},[t("div",re,[t("div",de,[a(f,{class:"w-4 h-4 text-blue-600 dark:text-blue-400"})]),t("div",null,[t("p",ne," Ticket #"+l(((H=n.ticket)==null?void 0:H.uid)||"N/A"),1),t("p",ce,l(((S=n.priority)==null?void 0:S.name)||"Unknown")+" â€¢ "+l(((V=n.category)==null?void 0:V.name)||"Unknown"),1)])]),t("div",xe,[t("p",me,l(s.formatPercentage(n.confidence_score)),1),t("p",_e,l(s.formatDate(n.created_at)),1)])])}),128))])):(r(),i("div",fe,[a(f,{class:"w-12 h-12 mx-auto mb-4 text-slate-300 dark:text-slate-600"}),e[17]||(e[17]=t("p",null,"No recent classification activity",-1))]))]),s.analytics.predictions?(r(),i("div",be,[t("h3",ge,[a(k,{class:"w-5 h-5"}),e[18]||(e[18]=c(" Predictive Analytics ",-1))]),t("div",he,[t("div",pe,[e[19]||(e[19]=t("p",{class:"text-sm text-slate-600 dark:text-slate-400"},"Predicted Ticket Volume",-1)),t("p",ke,l(((R=(P=s.analytics.predictions)==null?void 0:P.ticket_volume)==null?void 0:R.predicted)||0),1)]),t("div",ue,[e[20]||(e[20]=t("p",{class:"text-sm text-slate-600 dark:text-slate-400"},"SLA Compliance",-1)),t("p",ye,l(s.formatPercentage(((D=(F=s.analytics.predictions)==null?void 0:F.sla_compliance)==null?void 0:D.predicted)||0)),1)]),t("div",we,[e[21]||(e[21]=t("p",{class:"text-sm text-slate-600 dark:text-slate-400"},"Avg Resolution Time",-1)),t("p",ve,l(((E=(U=s.analytics.predictions)==null?void 0:U.resolution_time)==null?void 0:E.predicted)||0)+"h ",1)])])])):z("",!0)])):z("",!0)])])],64)}const Fe=at(_t,[["render",Ce],["__scopeId","data-v-2adf5da4"]]);export{Fe as default};
