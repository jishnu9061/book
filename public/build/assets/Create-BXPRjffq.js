import{C as k,X as C,D as a,l as m,u as s,o as t,m as u,J as h,M as D,A as L,G as d,F as V,t as g,z as p,y as A}from"./vendor-LkufkiF7.js";import{L as B}from"./Layout-B-7SKJ8y.js";import{F}from"./FileInput-LaJfiilz.js";import{T as S}from"./TextInput-BYPeFz6K.js";import{S as N}from"./SelectInput-BezpKrUW.js";import{L as E}from"./LoadingButton-DNgtCulM.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Cv2kkzzw.js";import"./LogoutButton-C42r2dkh.js";import"./app-DgNNGg9T.js";import"./ui-DZ0wy3Ge.js";import"./Logo-CwTRbPbO.js";import"./FlashMessages-Bge5XBye.js";const I={components:{FileInput:F,Head:C,Link:k,LoadingButton:E,SelectInput:N,TextInput:S},layout:B,props:{countries:Array,cities:Array,departments:Array,title:String,roles:Array},remember:"form",data(){return{form:this.$inertia.form({first_name:"",last_name:"",phone:"",email:"",city:null,address:"",country_id:null,department_id:null,role_id:null,password:"",photo:null})}},computed:{showDepartment(){if(!this.form.role_id)return!1;const o=this.roles.find(r=>r.id===this.form.role_id);return o&&["manager","general"].includes(o.slug)}},watch:{"form.role_id"(o){this.showDepartment||(this.form.department_id=null)}},created(){},methods:{setDefaultValue(o,r,i){const f=o.find(e=>e.name.match(new RegExp(i+".*")));f&&(this.form[r]=f.id)},store(){this.form.post(this.route("users.store"))}}},P={class:"max-w-full bg-white rounded-md shadow overflow-hidden"},T={class:"flex flex-wrap -mb-8 -mr-6 p-8"},M=["value"],R=["value"],j=["value"],z={class:"flex items-center justify-end px-8 py-4 bg-gray-50 border-t border-gray-100"};function G(o,r,i,f,e,b){const y=a("Head"),n=a("text-input"),w=a("select-input"),_=a("file-input"),v=a("loading-button");return s(),m("div",null,[t(y,{title:o.$t(i.title)},null,8,["title"]),u("div",P,[u("form",{onSubmit:r[11]||(r[11]=h((...l)=>b.store&&b.store(...l),["prevent"]))},[u("div",T,[t(n,{modelValue:e.form.first_name,"onUpdate:modelValue":r[0]||(r[0]=l=>e.form.first_name=l),error:e.form.errors.first_name,class:"pb-8 pr-6 w-full lg:w-1/3",label:o.$t("First name")},null,8,["modelValue","error","label"]),t(n,{modelValue:e.form.last_name,"onUpdate:modelValue":r[1]||(r[1]=l=>e.form.last_name=l),error:e.form.errors.last_name,class:"pb-8 pr-6 w-full lg:w-1/3",label:o.$t("Last name")},null,8,["modelValue","error","label"]),t(n,{modelValue:e.form.email,"onUpdate:modelValue":r[2]||(r[2]=l=>e.form.email=l),error:e.form.errors.email,class:"pb-8 pr-6 w-full lg:w-1/3",label:o.$t("Email")},null,8,["modelValue","error","label"]),t(n,{modelValue:e.form.phone,"onUpdate:modelValue":r[3]||(r[3]=l=>e.form.phone=l),error:e.form.errors.phone,class:"pb-8 pr-6 w-full lg:w-1/2",label:o.$t("Phone")},null,8,["modelValue","error","label"]),t(n,{modelValue:e.form.city,"onUpdate:modelValue":r[4]||(r[4]=l=>e.form.city=l),error:e.form.errors.city,class:"pb-8 pr-6 w-full lg:w-1/2",label:o.$t("City")},null,8,["modelValue","error","label"]),t(n,{modelValue:e.form.address,"onUpdate:modelValue":r[5]||(r[5]=l=>e.form.address=l),error:e.form.errors.address,class:"pb-8 pr-6 w-full lg:w-1/3",label:o.$t("Address")},null,8,["modelValue","error","label"]),t(w,{modelValue:e.form.country_id,"onUpdate:modelValue":r[6]||(r[6]=l=>e.form.country_id=l),error:e.form.errors.country_id,class:"pr-6 pb-8 w-full lg:w-1/3",label:o.$t("Country")},{default:d(()=>[r[12]||(r[12]=u("option",{value:null},null,-1)),(s(!0),m(V,null,g(i.countries,l=>(s(),m("option",{key:l.id,value:l.id},p(o.$t(l.name)),9,M))),128))]),_:1},8,["modelValue","error","label"]),t(n,{modelValue:e.form.password,"onUpdate:modelValue":r[7]||(r[7]=l=>e.form.password=l),error:e.form.errors.password,class:"pb-8 pr-6 w-full lg:w-1/3",type:"password",autocomplete:"new-password",label:o.$t("Password")},null,8,["modelValue","error","label"]),t(w,{modelValue:e.form.role_id,"onUpdate:modelValue":r[8]||(r[8]=l=>e.form.role_id=l),error:e.form.errors.role_id,class:"pb-8 pr-6 w-full lg:w-1/2",label:o.$t("Role")},{default:d(()=>[r[13]||(r[13]=u("option",{value:null},null,-1)),(s(!0),m(V,null,g(i.roles,(l,U)=>(s(),m("option",{key:U,value:l.id},p(l.name),9,R))),128))]),_:1},8,["modelValue","error","label"]),b.showDepartment?(s(),D(w,{key:0,modelValue:e.form.department_id,"onUpdate:modelValue":r[9]||(r[9]=l=>e.form.department_id=l),error:e.form.errors.department_id,class:"pb-8 pr-6 w-full lg:w-1/2",label:o.$t("Department")},{default:d(()=>[r[14]||(r[14]=u("option",{value:null},null,-1)),(s(!0),m(V,null,g(i.departments,l=>(s(),m("option",{key:l.id,value:l.id},p(l.name),9,j))),128))]),_:1},8,["modelValue","error","label"])):L("",!0),t(_,{modelValue:e.form.photo,"onUpdate:modelValue":r[10]||(r[10]=l=>e.form.photo=l),error:e.form.errors.photo,class:"pb-8 pr-6 w-full lg:w-1/2",type:"file",accept:"image/*",label:o.$t("Photo")},null,8,["modelValue","error","label"])]),u("div",z,[t(v,{loading:e.form.processing,class:"btn-indigo",type:"submit"},{default:d(()=>[A(p(o.$t("Create"))+" "+p(o.$t("User")),1)]),_:1},8,["loading"])])],32)])])}const re=H(I,[["render",G]]);export{re as default};
