import{L as p}from"./Layout-DdwsTprQ.js";import{X as V,C as D,D as d,l as m,u,o as s,m as e,A as h,J as b,z as r,G as w,y as C,F as k,t as T}from"./vendor-LkufkiF7.js";import{_ as N}from"./DeleteConfirmation-CLnw7UU1.js";import{T as U}from"./TextInput-BYPeFz6K.js";import{I as B}from"./LogoutButton-CfMbGx4V.js";import{L as j}from"./LoadingButton-DNgtCulM.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Logo-CwTRbPbO.js";import"./ui-DZ0wy3Ge.js";import"./utils-Cv2kkzzw.js";import"./FlashMessages-Bge5XBye.js";import"./app-BMhdMQxL.js";const M={layout:p,components:{LoadingButton:j,Layout:p,TextInput:U,Link:D,Head:V,Icon:B,DeleteConfirmation:N},props:{language_data:Object,languages:Object,title:String},remember:"form",data(){return{new_lang_form:!1,form:this.$inertia.form({language_values:this.language_data.data,new_data:{}}),showDeleteModal:!1,deleteConfig:{title:"Are you sure?",message:"This action cannot be undone.",itemName:"this item",itemType:"item",deleteUrl:"",deleteMethod:"delete",deleteData:{},confirmButtonText:"Delete",cancelButtonText:"Cancel"}}},methods:{showDeleteConfirmation(n,t=null){Object.assign(this.deleteConfig,n),this.showDeleteModal=!0,t&&(this.deleteConfig.onConfirmCallback=t)},hideDeleteConfirmation(){this.showDeleteModal=!1,this.deleteConfig.onConfirmCallback=null},confirmDelete(){this.deleteConfig.onConfirmCallback&&this.deleteConfig.onConfirmCallback(),this.hideDeleteConfirmation()},addNew(){this.languages.forEach(n=>{this.form.new_data[n.code]=""}),this.new_lang_form=!0},destroy(n){confirm("Are you sure you want to delete this language data?")&&this.$inertia.delete(this.route("languages.deleteItem",n),{onSuccess:()=>{this.form.reset()}})},store(){const n=[{name:"English",code:"en"},{name:this.language_data.name,code:this.language_data.code}];for(let t=0;t<n.length;t++)if(!this.form.new_data[n[t].code]){alert("Please input text for the "+n[t].name+" language!");return}this.form.post(this.route("languages.newItem"),{onSuccess:()=>{this.form.reset(),this.new_lang_form=!1}})},update(){this.form.put(this.route("languages.update",this.language_data.id))}}},S={class:"bg-white rounded-md shadow overflow-hidden max-w-full"},E={class:"p-8 -mr-6 -mb-8 flex flex-wrap"},I={class:"pr-6 pb-8 w-full lg:w-1/3"},A={class:"font-bold text-sm mb-1"},H={class:"font-light text-sm"},O={class:"pr-6 pb-8 w-full lg:w-1/3"},z={class:"font-bold text-sm mb-1"},F={class:"font-light text-sm"},G={class:"pr-6 pb-8 w-full lg:w-1/3 flex justify-end"},J={class:"flex flex-col mb-5 text-sm"},P={class:"flex justify-start pr-2 pt-3"},X={class:"px-8 py-4 bg-gray-50 border-t border-gray-100 flex items-center"},q={key:0,class:"note-form-overlay"},K={key:1,class:"note-form py-8 transition duration-150 ease-in-out z-10 absolute top-0 right-0 bottom-0 left-0",id:"modal"},Q={role:"alert",class:"container mx-auto"},R={class:"relative py-10 px-6 md:px-10 bg-white shadow-md rounded border border-gray-400"},W={class:"lan_items flex flex-col"},Y={class:"lan__item"},Z={class:"lan__item"},$={class:"flex justify-between"},ee={class:"flex items-center justify-start w-full"};function te(n,t,i,oe,o,a){const v=d("Head"),c=d("icon"),_=d("loading-button"),f=d("text-input"),x=d("DeleteConfirmation");return u(),m("div",null,[s(v,{title:n.$t(i.title)},null,8,["title"]),e("div",S,[e("form",{onSubmit:t[1]||(t[1]=b((...l)=>a.update&&a.update(...l),["prevent"]))},[e("div",E,[e("div",I,[e("div",A,r(n.$t("Language Name")),1),e("div",H,r(i.language_data.name),1)]),e("div",O,[e("div",z,r(n.$t("Code")),1),e("div",F,r(i.language_data.code),1)]),e("div",G,[e("div",{class:"btn-indigo p-3 rounded-full cursor-pointer ml-auto",onClick:t[0]||(t[0]=(...l)=>a.addNew&&a.addNew(...l))},[s(c,{class:"w-5 h-5 fill-gray-100",name:"plus"})]),s(_,{loading:o.form.processing,class:"btn-indigo ml-auto",type:"submit"},{default:w(()=>[C(r(n.$t("Update")),1)]),_:1},8,["loading"])])]),e("div",J,[(u(!0),m(k,null,T(o.form.language_values,(l,y)=>(u(),m("div",{key:y,class:"p-8 -mr-6 -mb-8 flex flex-wrap md:flex-nowrap items-center lang_input"},[s(f,{class:"pr-6 pb-2 w-full lg:w-1/2",modelValue:l.name,"onUpdate:modelValue":g=>l.name=g,label:n.$t("Title")},null,8,["modelValue","onUpdate:modelValue","label"]),s(f,{class:"pr-6 pb-2 w-full lg:w-1/2",modelValue:l.value,"onUpdate:modelValue":g=>l.value=g,label:"Value"},null,8,["modelValue","onUpdate:modelValue"]),e("div",P,[s(c,{name:"trash",class:"w-4 h-4 cursor-pointer focus:outline-none focus:ring-2 focus:ring-offset-2",onClick:g=>a.destroy(l.value)},null,8,["onClick"])])]))),128))]),e("div",X,[s(_,{loading:o.form.processing,class:"btn-indigo ml-auto",type:"submit"},{default:w(()=>[C(r(n.$t("Update")),1)]),_:1},8,["loading"])])],32),o.new_lang_form?(u(),m("div",q)):h("",!0),o.new_lang_form?(u(),m("div",K,[e("div",Q,[e("form",{onSubmit:t[6]||(t[6]=b(l=>a.store(),["prevent"]))},[e("div",R,[e("div",W,[e("div",Y,[s(f,{modelValue:o.form.new_data.en,"onUpdate:modelValue":t[2]||(t[2]=l=>o.form.new_data.en=l),class:"pb-6 w-full",label:"English"},null,8,["modelValue"])]),e("div",Z,[s(f,{modelValue:o.form.new_data[i.language_data.code],"onUpdate:modelValue":t[3]||(t[3]=l=>o.form.new_data[i.language_data.code]=l),class:"pb-6 w-full",label:i.language_data.name},null,8,["modelValue","label"])])]),e("div",$,[e("div",ee,[t[7]||(t[7]=e("button",{type:"submit",class:"focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-700 bg-gray-700 transition duration-150 ease-in-out hover:bg-indigo-600 rounded text-white px-8 py-2 text-sm"},"Submit",-1)),e("span",{class:"cursor-pointer focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 ml-3 bg-gray-100 transition duration-150 text-gray-600 ease-in-out hover:border-gray-400 hover:bg-gray-300 border rounded px-8 py-2 text-sm",onClick:t[4]||(t[4]=l=>o.new_lang_form=!1)},"Cancel")])]),e("span",{onClick:t[5]||(t[5]=l=>o.new_lang_form=!1),class:"cursor-pointer absolute top-0 right-0 mt-4 mr-5 text-gray-400 hover:text-gray-600 transition duration-150 ease-in-out rounded focus:ring-2 focus:outline-none focus:ring-gray-600"},[s(c,{class:"w-6 h-6",name:"close"})])])],32)])])):h("",!0)]),s(x,{show:o.showDeleteModal,title:o.deleteConfig.title,message:o.deleteConfig.message,"item-name":o.deleteConfig.itemName,"item-type":o.deleteConfig.itemType,"delete-url":o.deleteConfig.deleteUrl,"delete-method":o.deleteConfig.deleteMethod,"delete-data":o.deleteConfig.deleteData,"confirm-button-text":o.deleteConfig.confirmButtonText,"cancel-button-text":o.deleteConfig.cancelButtonText,onClose:a.hideDeleteConfirmation,onConfirm:a.confirmDelete},null,8,["show","title","message","item-name","item-type","delete-url","delete-method","delete-data","confirm-button-text","cancel-button-text","onClose","onConfirm"])])}const _e=L(M,[["render",te]]);export{_e as default};
