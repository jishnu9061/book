import{C as E,X as A,D as i,l as d,u as a,m as l,o as s,z as u,G as c,y as h,J as S,F as b,t as y,A as _}from"./vendor-LkufkiF7.js";import{_ as N}from"./DeleteConfirmation-CLnw7UU1.js";import{L as w}from"./Layout-yhAyU3q9.js";import{T as B}from"./TextInput-BYPeFz6K.js";import{F as M}from"./FileInput-LaJfiilz.js";import{S as j}from"./SelectInput-BezpKrUW.js";import{L as F}from"./LoadingButton-DNgtCulM.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{Eye as H,LucideSave as I,LucideTrash2 as O,ArrowLeft as R}from"./ui-DZ0wy3Ge.js";import"./utils-Cv2kkzzw.js";import"./LogoutButton-oKW2oLhJ.js";import"./app-BC8evlMS.js";import"./Logo-CwTRbPbO.js";import"./FlashMessages-Bge5XBye.js";const z={layout:w,components:{FileInput:M,Layout:w,Head:A,Link:E,LoadingButton:F,SelectInput:j,TextInput:B,ArrowLeft:R,Trash2:O,Save:I,Eye:H,DeleteConfirmation:N},props:{auth:Object,countries:Array,user:Object,roles:Array,cities:Array,countries:Array,title:String},remember:"form",data(){var o,t;return{user_access:((t=(o=this.$page.props.auth)==null?void 0:o.user)==null?void 0:t.access)||{},form:this.$inertia.form({_method:"put",first_name:this.user.first_name,last_name:this.user.last_name,email:this.user.email,phone:this.user.phone,city:this.user.city,address:this.user.address,country_id:this.user.country_id,password:"",role:this.user.role,role_id:this.user.role_id,photo:null}),showDeleteModal:!1,deleteConfig:{title:"Are you sure?",message:"This action cannot be undone.",itemName:"this item",itemType:"item",deleteUrl:"",deleteMethod:"delete",deleteData:{},confirmButtonText:"Delete",cancelButtonText:"Cancel"}}},created(){},methods:{setDefaultValue(o,t,n){const p=o.find(e=>e.name.match(new RegExp(n+".*")));p&&(this.form[t]=p.id)},showDeleteConfirmation(o,t=null){Object.assign(this.deleteConfig,o),this.showDeleteModal=!0,t&&(this.deleteConfig.onConfirmCallback=t)},hideDeleteConfirmation(){this.showDeleteModal=!1,this.deleteConfig.onConfirmCallback=null},confirmDelete(){this.deleteConfig.onConfirmCallback&&this.deleteConfig.onConfirmCallback(),this.hideDeleteConfirmation()},update(){this.form.post(this.route("users.update",this.user.id),{onSuccess:()=>this.form.reset("password","photo")})},restore(){confirm("Are you sure you want to restore this user?")&&this.$inertia.put(route("users.restore",this.user.id))},destroy(){this.showDeleteConfirmation({title:"Delete User",message:"This action cannot be undone.",itemName:this.user.name,itemType:"user",deleteUrl:this.route("users.destroy",this.user.id),deleteMethod:"delete"})}}},G={class:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 mb-8"},J={class:"px-6 py-6"},X={class:"flex items-center justify-between"},q={class:"text-2xl font-bold text-slate-900 dark:text-white"},K={class:"mt-1 text-sm text-slate-600 dark:text-slate-400"},Q={class:"flex items-center space-x-3"},W={class:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden"},Y={class:"p-8 space-y-6"},Z={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},$={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ee={value:null},oe=["value"],te={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},re={key:0},le={value:null},se=["value"],ne={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ie={key:0,class:"flex items-center justify-start"},de={class:"relative"},ae=["src"],ue={class:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-20 transition-all duration-200 rounded-full flex items-center justify-center"},me={class:"px-8 py-6 bg-slate-50 dark:bg-slate-700/50 border-t border-slate-200 dark:border-slate-600 flex items-center justify-between"},fe={key:1};function ce(o,t,n,p,e,f){const v=i("Head"),C=i("ArrowLeft"),k=i("Link"),m=i("text-input"),g=i("select-input"),V=i("file-input"),x=i("Eye"),D=i("Trash2"),U=i("Save"),T=i("loading-button"),L=i("DeleteConfirmation");return a(),d(b,null,[l("div",null,[s(v,{title:n.title},null,8,["title"]),l("div",G,[l("div",J,[l("div",X,[l("div",null,[l("h1",q,u(o.$t("User Management")),1),l("p",K,u(o.$t("Update user information and permissions")),1)]),l("div",Q,[s(k,{href:o.route("users"),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"},{default:c(()=>[s(C,{class:"w-4 h-4 mr-2"}),h(" "+u(o.$t("Back to Users")),1)]),_:1},8,["href"])])])])]),l("div",W,[l("form",{onSubmit:t[11]||(t[11]=S((...r)=>f.update&&f.update(...r),["prevent"]))},[l("div",Y,[l("div",Z,[l("div",null,[s(m,{modelValue:e.form.first_name,"onUpdate:modelValue":t[0]||(t[0]=r=>e.form.first_name=r),error:e.form.errors.first_name,label:o.$t("First Name"),placeholder:o.$t("Enter first name"),class:"w-full"},null,8,["modelValue","error","label","placeholder"])]),l("div",null,[s(m,{modelValue:e.form.last_name,"onUpdate:modelValue":t[1]||(t[1]=r=>e.form.last_name=r),error:e.form.errors.last_name,label:o.$t("Last Name"),placeholder:o.$t("Enter last name"),class:"w-full"},null,8,["modelValue","error","label","placeholder"])]),l("div",null,[s(m,{modelValue:e.form.email,"onUpdate:modelValue":t[2]||(t[2]=r=>e.form.email=r),error:e.form.errors.email,label:o.$t("Email Address"),placeholder:o.$t("Enter email address"),type:"email",class:"w-full"},null,8,["modelValue","error","label","placeholder"])])]),l("div",$,[l("div",null,[s(m,{modelValue:e.form.phone,"onUpdate:modelValue":t[3]||(t[3]=r=>e.form.phone=r),error:e.form.errors.phone,label:o.$t("Phone Number"),placeholder:o.$t("Enter phone number"),class:"w-full"},null,8,["modelValue","error","label","placeholder"])]),l("div",null,[s(m,{modelValue:e.form.city,"onUpdate:modelValue":t[4]||(t[4]=r=>e.form.city=r),error:e.form.errors.city,label:o.$t("City"),placeholder:o.$t("Enter city"),class:"w-full"},null,8,["modelValue","error","label","placeholder"])]),l("div",null,[s(g,{modelValue:e.form.country_id,"onUpdate:modelValue":t[5]||(t[5]=r=>e.form.country_id=r),error:e.form.errors.country_id,label:o.$t("Country"),class:"w-full"},{default:c(()=>[l("option",ee,u(o.$t("Select country")),1),(a(!0),d(b,null,y(n.countries,r=>(a(),d("option",{key:r.id,value:r.id},u(r.name),9,oe))),128))]),_:1},8,["modelValue","error","label"])])]),l("div",null,[s(m,{modelValue:e.form.address,"onUpdate:modelValue":t[6]||(t[6]=r=>e.form.address=r),error:e.form.errors.address,label:o.$t("Address"),placeholder:o.$t("Enter full address"),class:"w-full"},null,8,["modelValue","error","label","placeholder"])]),l("div",te,[l("div",null,[s(m,{modelValue:e.form.password,"onUpdate:modelValue":t[7]||(t[7]=r=>e.form.password=r),error:e.form.errors.password,type:"password",autocomplete:"new-password",label:o.$t("New Password"),placeholder:o.$t("Leave blank to keep current password"),class:"w-full"},null,8,["modelValue","error","label","placeholder"])]),n.user.id!==n.auth.user.id?(a(),d("div",re,[s(g,{modelValue:e.form.role_id,"onUpdate:modelValue":t[8]||(t[8]=r=>e.form.role_id=r),error:e.form.errors.role,label:o.$t("User Role"),class:"w-full"},{default:c(()=>[l("option",le,u(o.$t("Select role")),1),(a(!0),d(b,null,y(n.roles,r=>(a(),d("option",{key:r.id,value:r.id},u(r.name),9,se))),128))]),_:1},8,["modelValue","error","label"])])):_("",!0)]),l("div",ne,[l("div",null,[s(V,{modelValue:e.form.photo,"onUpdate:modelValue":t[9]||(t[9]=r=>e.form.photo=r),error:e.form.errors.photo,type:"file",accept:"image/*",label:o.$t("Profile Photo"),class:"w-full"},null,8,["modelValue","error","label"])]),n.user.photo_path?(a(),d("div",ie,[l("div",de,[l("img",{src:n.user.photo_path,class:"w-24 h-24 object-cover rounded-full border-2 border-slate-200 dark:border-slate-600"},null,8,ae),l("div",ue,[s(x,{class:"w-6 h-6 text-white opacity-0 hover:opacity-100 transition-opacity duration-200"})])])])):_("",!0)])]),l("div",me,[n.user.id!==n.auth.user.id&&e.user_access.user.delete?(a(),d("button",{key:0,type:"button",onClick:t[10]||(t[10]=(...r)=>f.destroy&&f.destroy(...r)),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200"},[s(D,{class:"w-4 h-4 mr-2"}),h(" "+u(o.$t("Delete User")),1)])):(a(),d("div",fe)),s(T,{loading:e.form.processing,class:"inline-flex items-center px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",type:"submit"},{default:c(()=>[s(U,{class:"w-4 h-4 mr-2"}),h(" "+u(o.$t("Update User")),1)]),_:1},8,["loading"])])],32)])]),s(L,{show:e.showDeleteModal,title:e.deleteConfig.title,message:e.deleteConfig.message,"item-name":e.deleteConfig.itemName,"item-type":e.deleteConfig.itemType,"delete-url":e.deleteConfig.deleteUrl,"delete-method":e.deleteConfig.deleteMethod,"delete-data":e.deleteConfig.deleteData,"confirm-button-text":e.deleteConfig.confirmButtonText,"cancel-button-text":e.deleteConfig.cancelButtonText,onClose:f.hideDeleteConfirmation,onConfirm:f.confirmDelete},null,8,["show","title","message","item-name","item-type","delete-url","delete-method","delete-data","confirm-button-text","cancel-button-text","onClose","onConfirm"])],64)}const Te=P(z,[["render",ce]]);export{Te as default};
