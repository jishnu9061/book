import{C as L,X as T,D as n,M as U,u,G as c,o as s,m as r,z as d,y as h,J as E,l as f,A as N,F as S,t as A}from"./vendor-LkufkiF7.js";import{_ as B}from"./DeleteConfirmation-CLnw7UU1.js";import{L as M}from"./Layout-yhAyU3q9.js";import{T as j}from"./TextInput-BYPeFz6K.js";import{F}from"./FileInput-LaJfiilz.js";import{S as P}from"./SelectInput-BezpKrUW.js";import{L as H}from"./LoadingButton-DNgtCulM.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{Eye as O,LucideSave as z,LucideTrash2 as G,ArrowLeft as J}from"./ui-DZ0wy3Ge.js";import"./utils-Cv2kkzzw.js";import"./LogoutButton-oKW2oLhJ.js";import"./app-BC8evlMS.js";import"./Logo-CwTRbPbO.js";import"./FlashMessages-Bge5XBye.js";const R={components:{FileInput:F,Layout:M,Head:T,Link:L,LoadingButton:H,SelectInput:P,TextInput:j,ArrowLeft:J,Trash2:G,Save:z,Eye:O,DeleteConfirmation:B},remember:"form",props:{user:Object,auth:Object,countries:Array,cities:Array,title:String},data(){var t,o;return{user_access:((o=(t=this.$page.props.auth)==null?void 0:t.user)==null?void 0:o.access)||{},showDeleteModal:!1,deleteConfig:{title:"Are you sure?",message:"This action cannot be undone.",itemName:"this item",itemType:"item",deleteUrl:"",deleteMethod:"delete",deleteData:{},confirmButtonText:"Delete",cancelButtonText:"Cancel"},form:this.$inertia.form({_method:"put",first_name:this.user.first_name,last_name:this.user.last_name,email:this.user.email,phone:this.user.phone,city:this.user.city,address:this.user.address,country_id:this.user.country_id,password:"",photo_path:null})}},created(){},methods:{setDefaultValue(t,o,i){const p=t.find(e=>e.name.match(new RegExp(i+".*")));p&&(this.form[o]=p.id)},showDeleteConfirmation(t,o=null){Object.assign(this.deleteConfig,t),this.showDeleteModal=!0,o&&(this.deleteConfig.onConfirmCallback=o)},hideDeleteConfirmation(){this.showDeleteModal=!1,this.deleteConfig.onConfirmCallback=null},confirmDelete(){this.deleteConfig.onConfirmCallback&&this.deleteConfig.onConfirmCallback(),this.hideDeleteConfirmation()},destroy(){this.showDeleteConfirmation({title:"Delete Customer",message:"This action cannot be undone.",itemName:this.user.name,itemType:"customer",deleteUrl:this.route("customers.destroy",this.customer.id),deleteMethod:"delete"})},update(){this.form.post(this.route("customers.update",this.user.id),{onSuccess:()=>this.form.reset("password","photo")})},restore(){confirm("Are you sure you want to restore this user?")&&this.$inertia.put(this.route("customers.restore",this.user.id))}}},X={class:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 mb-8"},q={class:"px-6 py-6"},K={class:"flex items-center justify-between"},Q={class:"text-2xl font-bold text-slate-900 dark:text-white"},W={class:"mt-1 text-sm text-slate-600 dark:text-slate-400"},Y={class:"flex items-center space-x-3"},Z={class:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden"},$={class:"p-8 space-y-6"},ee={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},te={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},oe={value:null},re=["value"],le={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},se={key:0,class:"flex justify-start"},ne={class:"relative"},ie=["src"],ae={class:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-20 transition-all duration-200 rounded-full flex items-center justify-center"},de={class:"px-8 py-6 bg-slate-50 dark:bg-slate-700/50 border-t border-slate-200 dark:border-slate-600 flex items-center justify-between"},me={key:1};function ue(t,o,i,p,e,m){const b=n("Head"),g=n("ArrowLeft"),_=n("Link"),a=n("text-input"),y=n("select-input"),w=n("file-input"),C=n("Eye"),v=n("Trash2"),k=n("Save"),V=n("loading-button"),x=n("DeleteConfirmation"),D=n("Layout");return u(),U(D,null,{default:c(()=>[s(b,{title:i.title},null,8,["title"]),r("div",X,[r("div",q,[r("div",K,[r("div",null,[r("h1",Q,d(t.$t("Customer Management")),1),r("p",W,d(t.$t("Update customer information and profile")),1)]),r("div",Y,[s(_,{href:t.route("customers"),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"},{default:c(()=>[s(g,{class:"w-4 h-4 mr-2"}),h(" "+d(t.$t("Back to Customers")),1)]),_:1},8,["href"])])])])]),r("div",Z,[r("form",{onSubmit:o[10]||(o[10]=E((...l)=>m.update&&m.update(...l),["prevent"]))},[r("div",$,[r("div",ee,[r("div",null,[s(a,{modelValue:e.form.first_name,"onUpdate:modelValue":o[0]||(o[0]=l=>e.form.first_name=l),error:e.form.errors.first_name,label:t.$t("First Name"),placeholder:t.$t("Enter first name"),class:"w-full"},null,8,["modelValue","error","label","placeholder"])]),r("div",null,[s(a,{modelValue:e.form.last_name,"onUpdate:modelValue":o[1]||(o[1]=l=>e.form.last_name=l),error:e.form.errors.last_name,label:t.$t("Last Name"),placeholder:t.$t("Enter last name"),class:"w-full"},null,8,["modelValue","error","label","placeholder"])]),r("div",null,[s(a,{modelValue:e.form.email,"onUpdate:modelValue":o[2]||(o[2]=l=>e.form.email=l),error:e.form.errors.email,label:t.$t("Email Address"),placeholder:t.$t("Enter email address"),type:"email",class:"w-full"},null,8,["modelValue","error","label","placeholder"])])]),r("div",te,[r("div",null,[s(a,{modelValue:e.form.phone,"onUpdate:modelValue":o[3]||(o[3]=l=>e.form.phone=l),error:e.form.errors.phone,label:t.$t("Phone Number"),placeholder:t.$t("Enter phone number"),class:"w-full"},null,8,["modelValue","error","label","placeholder"])]),r("div",null,[s(a,{modelValue:e.form.city,"onUpdate:modelValue":o[4]||(o[4]=l=>e.form.city=l),error:e.form.errors.city,label:t.$t("City"),placeholder:t.$t("Enter city"),class:"w-full"},null,8,["modelValue","error","label","placeholder"])]),r("div",null,[s(y,{modelValue:e.form.country_id,"onUpdate:modelValue":o[5]||(o[5]=l=>e.form.country_id=l),error:e.form.errors.country_id,label:t.$t("Country"),class:"w-full"},{default:c(()=>[r("option",oe,d(t.$t("Select country")),1),(u(!0),f(S,null,A(i.countries,l=>(u(),f("option",{key:l.id,value:l.id},d(l.name),9,re))),128))]),_:1},8,["modelValue","error","label"])])]),r("div",null,[s(a,{modelValue:e.form.address,"onUpdate:modelValue":o[6]||(o[6]=l=>e.form.address=l),error:e.form.errors.address,label:t.$t("Address"),placeholder:t.$t("Enter full address"),class:"w-full"},null,8,["modelValue","error","label","placeholder"])]),r("div",le,[r("div",null,[s(a,{modelValue:e.form.password,"onUpdate:modelValue":o[7]||(o[7]=l=>e.form.password=l),error:e.form.errors.password,type:"password",autocomplete:"new-password",label:t.$t("New Password"),placeholder:t.$t("Leave blank to keep current password"),class:"w-full"},null,8,["modelValue","error","label","placeholder"])]),r("div",null,[s(w,{modelValue:e.form.photo_path,"onUpdate:modelValue":o[8]||(o[8]=l=>e.form.photo_path=l),error:e.form.errors.photo_path,type:"file",accept:"image/*",label:t.$t("Profile Photo"),class:"w-full"},null,8,["modelValue","error","label"])])]),i.user.photo_path?(u(),f("div",se,[r("div",ne,[r("img",{src:i.user.photo_path,class:"w-24 h-24 object-cover rounded-full border-2 border-slate-200 dark:border-slate-600"},null,8,ie),r("div",ae,[s(C,{class:"w-6 h-6 text-white opacity-0 hover:opacity-100 transition-opacity duration-200"})])])])):N("",!0)]),r("div",de,[i.user.id!==i.auth.user.id&&e.user_access.customer.delete?(u(),f("button",{key:0,type:"button",onClick:o[9]||(o[9]=(...l)=>m.destroy&&m.destroy(...l)),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200"},[s(v,{class:"w-4 h-4 mr-2"}),h(" "+d(t.$t("Delete Customer")),1)])):(u(),f("div",me)),s(V,{loading:e.form.processing,class:"inline-flex items-center px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",type:"submit"},{default:c(()=>[s(k,{class:"w-4 h-4 mr-2"}),h(" "+d(t.$t("Update Customer")),1)]),_:1},8,["loading"])])],32),s(x,{show:e.showDeleteModal,title:e.deleteConfig.title,message:e.deleteConfig.message,"item-name":e.deleteConfig.itemName,"item-type":e.deleteConfig.itemType,"delete-url":e.deleteConfig.deleteUrl,"delete-method":e.deleteConfig.deleteMethod,"delete-data":e.deleteConfig.deleteData,"confirm-button-text":e.deleteConfig.confirmButtonText,"cancel-button-text":e.deleteConfig.cancelButtonText,onClose:m.hideDeleteConfirmation,onConfirm:m.confirmDelete},null,8,["show","title","message","item-name","item-type","delete-url","delete-method","delete-data","confirm-button-text","cancel-button-text","onClose","onConfirm"])])]),_:1})}const De=I(R,[["render",ue]]);export{De as default};
