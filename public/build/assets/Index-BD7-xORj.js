import{X as q,C as Z,D as c,l as u,u as d,o as i,m as e,z as o,E as f,G as p,A as h,K as w,R as J,F as x,t as b,M as W,N as $,P as L,y as T}from"./vendor-2qHTh_Dj.js";import{I as ee}from"./LogoutButton-COxmScRj.js";import{p as te}from"./pickBy-C5Siwrvl.js";import{L as se}from"./Layout-ShnBwACy.js";import{t as re}from"./throttle-TnhMTZm7.js";import{m as le}from"./mapValues-Bz13fPtY.js";import{P as oe}from"./Pagination-Bh9LEx-7.js";import{S as ie}from"./SelectInput-pKSBvjbC.js";import{S as ae}from"./SearchInput-BsH5RvoD.js";import{S as ne}from"./SelectInputFilter-Doi_MMBD.js";import{h as g,a as P}from"./utils-11VKenW5.js";import{_ as de}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{LucideUserX as A,Clock as C,CheckCircle as I,AlertTriangle as H,Bookmark as ue,Filter as ce,List as me,Grid as fe,LucideX as he,ChevronRight as ge,ChevronDown as pe,ChevronUp as xe,Calendar as be,LucideUserCheck as _e,LucideUser as ve,Download as ke,LucideUpload as ye,LucidePlus as we,LucideTicket as Ce}from"./ui-ChkuEbnX.js";import"./app-BRoCd4Iw.js";import"./Logo-Csl_cBJU.js";import"./FlashMessages-hgZ2_tor.js";function Ye(t,s="fromNow",a="en"){if(!t)return"-";try{let m;if(g.isMoment(t)?m=t:typeof t=="string"?(m=g(t,["YYYY-MM-DDTHH:mm:ss.SSSZ","YYYY-MM-DDTHH:mm:ssZ","YYYY-MM-DDTHH:mm:ss","YYYY-MM-DD HH:mm:ss","YYYY-MM-DD","MMM Do, YYYY","MMMM Do, YYYY","Do MMMM, YYYY","Do MMM, YYYY","DD/MM/YYYY","MM/DD/YYYY","DD-MM-YYYY","MM-DD-YYYY"],!0),m.isValid()||(m=g(t))):t instanceof Date?m=g(t):m=g(String(t)),!m.isValid())return console.warn("Invalid date format:",t),"-";switch(a&&a!=="en"&&(m=m.locale(a)),s){case"fromNow":return m.fromNow();case"fromNowShort":return m.fromNow(!0);case"date":return m.format("MMM DD, YYYY");case"datetime":return m.format("MMM DD, YYYY HH:mm");case"time":return m.format("HH:mm");case"iso":return m.toISOString();default:return m.format(s)}}catch(m){return console.error("Error formatting date:",m,"Date:",t),"-"}}const De={metaInfo:{title:"Tickets"},components:{SearchInput:ae,Icon:ee,Link:Z,Head:q,Pagination:oe,SelectInputFilter:ne,SelectInput:ie,Ticket:Ce,Plus:we,Upload:ye,Download:ke,User:ve,UserCheck:_e,Calendar:be,Clock:C,ChevronUp:xe,ChevronDown:pe,ChevronRight:ge,X:he,Grid3X3:fe,List:me,Filter:ce,Bookmark:ue,AlertTriangle:H,CheckCircle:I,ClockIcon:C,UserX:A},layout:se,props:{title:String,filters:Object,tickets:Object,assignees:Array,auth:Object,priorities:Array,statuses:Array,types:Array,categories:Array,departments:Array,hidden_fields:Object},remember:"form",data(){var t,s;return{headers:[{name:"Key",value:"id",sort:!0},{name:"Subject",value:"subject",sort:!0},{name:"Priority",value:"priority_id",sort:!0},{name:"Status",value:"status_id",sort:!0},{name:"Date",value:"created_at",sort:!0},{name:"Updated",value:"updated_at",sort:!0}],user_access:((s=(t=this.$page.props.auth)==null?void 0:t.user)==null?void 0:s.access)||{},viewMode:"list",activeQuickFilter:null,clients:[],form:{search:this.filters.search,limit:this.filters.limit??10,customer_id:this.filters.customer_id,field:this.filters.field,direction:this.filters.direction,priority_id:this.filters.priority_id??null,status_id:this.filters.status_id??null,type_id:this.filters.type_id??null,category_id:this.filters.category_id??null,department_id:this.filters.department_id??null,date_from:this.filters.date_from??null,date_to:this.filters.date_to??null}}},computed:{quickFilters(){return[{key:"open",label:this.$t("Open"),icon:I,count:this.getOpenTicketsCount(),filter:{status_id:this.getOpenStatusId()}},{key:"high_priority",label:this.$t("High Priority"),icon:H,count:this.getHighPriorityCount(),filter:{priority_id:this.getHighPriorityId()}},{key:"unassigned",label:this.$t("Unassigned"),icon:A,count:this.getUnassignedCount(),filter:{assigned_to:null}},{key:"recent",label:this.$t("Recent"),icon:C,count:this.getRecentTicketsCount(),filter:{date_from:this.getRecentDate()}}]}},watch:{form:{deep:!0,handler:re(function(){this.$inertia.get(this.route("tickets"),te(this.form),{replace:!0,preserveState:!0})},150)}},methods:{doFilter(t){const s=t&&t.target?t.target.value:t||"";P.get(this.route("filter.assignees",{search:s})).then(a=>{this.assignees.splice(0,this.assignees.length,...a.data)})},doFilterClients(t){const s=t&&t.target?t.target.value:t||"";P.get(this.route("filter.clients",{search:s})).then(a=>{this.clients.splice(0,this.clients.length,...a.data)})},sort(t){this.form.field=t,this.form.direction=this.form.direction==="asc"?"desc":"asc"},reset(){this.form=le(this.form,()=>null)},uploadImportCSV(t){t.target.files.length&&this.$inertia.form({file:t.target.files[0]}).post(this.route("ticket.csv.import"))},getOpenTicketsCount(){var t;return((t=this.tickets.data)==null?void 0:t.filter(s=>s.status&&!s.status.toLowerCase().includes("closed")).length)||0},getPriorityClass(t){if(!t)return"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300";const s=t.toLowerCase();return s.includes("high")||s.includes("urgent")?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300":s.includes("medium")||s.includes("normal")?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":s.includes("low")?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"},getStatusClass(t){if(!t)return"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300";const s=t.toLowerCase();return s.includes("open")||s.includes("new")?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":s.includes("pending")||s.includes("waiting")?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":s.includes("closed")||s.includes("resolved")?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":s.includes("cancelled")||s.includes("cancelled")?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"},formatDate(t){const s=this.$t("error")==="error"?"en":"zh-tw";return Ye(t,"fromNow",s)},getSearchResultsCount(){var t;return((t=this.tickets.data)==null?void 0:t.length)||0},getActiveFiltersCount(){let t=0;return this.form.search&&t++,this.form.priority_id&&t++,this.form.status_id&&t++,this.form.type_id&&t++,this.form.category_id&&t++,this.form.department_id&&t++,this.form.assigned_to&&t++,this.form.date_from&&t++,this.form.date_to&&t++,t},getHighPriorityCount(){var t;return((t=this.tickets.data)==null?void 0:t.filter(s=>s.priority&&(s.priority.toLowerCase().includes("high")||s.priority.toLowerCase().includes("urgent"))).length)||0},getUnassignedCount(){var t;return((t=this.tickets.data)==null?void 0:t.filter(s=>!s.assigned_to).length)||0},getRecentTicketsCount(){var s;const t=g().subtract(7,"days");return((s=this.tickets.data)==null?void 0:s.filter(a=>g(a.created_at).isAfter(t)).length)||0},getOpenStatusId(){var s;const t=(s=this.statuses)==null?void 0:s.find(a=>a.name.toLowerCase().includes("open")||a.name.toLowerCase().includes("new"));return(t==null?void 0:t.id)||null},getHighPriorityId(){var s;const t=(s=this.priorities)==null?void 0:s.find(a=>a.name.toLowerCase().includes("high")||a.name.toLowerCase().includes("urgent"));return(t==null?void 0:t.id)||null},getRecentDate(){return g().subtract(7,"days").format("YYYY-MM-DD")},applyQuickFilter(t){this.activeQuickFilter=this.activeQuickFilter===t.key?null:t.key,this.activeQuickFilter===t.key?Object.keys(t.filter).forEach(s=>{this.form[s]=t.filter[s]}):Object.keys(t.filter).forEach(s=>{this.form[s]=null})},saveFilterPreset(){({...this.form},new Date().toISOString()),alert(this.$t("Filter preset saved successfully!"))}},created(){this.moment=g}},Me={class:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/20 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900"},Se={class:"relative overflow-hidden"},Ve={class:"relative bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl border-b border-slate-200/50 dark:border-slate-700/50"},Fe={class:"px-6 py-8"},Ue={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6"},je={class:"flex-1"},Le={class:"flex items-center gap-4 mb-6"},Te={class:"relative"},Pe={class:"w-16 h-16 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/25"},Ae={class:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full flex items-center justify-center"},Ie={class:"text-xs font-bold text-white"},He={class:"text-4xl font-bold bg-gradient-to-r from-slate-900 via-blue-900 to-indigo-900 dark:from-white dark:via-blue-100 dark:to-indigo-100 bg-clip-text text-transparent"},Oe={class:"text-slate-600 dark:text-slate-400 text-lg"},Ne={class:"flex flex-wrap gap-4"},Re={class:"group flex items-center gap-3 px-4 py-3 bg-gradient-to-r from-blue-50 to-blue-100/50 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl border border-blue-200/50 dark:border-blue-700/50 hover:shadow-lg hover:shadow-blue-500/10 transition-all duration-300"},Xe={class:"text-sm font-semibold text-blue-700 dark:text-blue-300"},Be={class:"text-sm text-blue-600 dark:text-blue-400 ml-1"},Ge={class:"group flex items-center gap-3 px-4 py-3 bg-gradient-to-r from-green-50 to-emerald-100/50 dark:from-green-900/20 dark:to-emerald-800/20 rounded-xl border border-green-200/50 dark:border-green-700/50 hover:shadow-lg hover:shadow-green-500/10 transition-all duration-300"},Qe={class:"text-sm font-semibold text-green-700 dark:text-green-300"},Ee={class:"text-sm text-green-600 dark:text-green-400 ml-1"},ze={class:"group flex items-center gap-3 px-4 py-3 bg-gradient-to-r from-orange-50 to-amber-100/50 dark:from-orange-900/20 dark:to-amber-800/20 rounded-xl border border-orange-200/50 dark:border-orange-700/50 hover:shadow-lg hover:shadow-orange-500/10 transition-all duration-300"},Ke={class:"text-sm font-semibold text-orange-700 dark:text-orange-300"},qe={class:"text-sm text-orange-600 dark:text-orange-400 ml-1"},Ze={class:"group flex items-center gap-3 px-4 py-3 bg-gradient-to-r from-purple-50 to-violet-100/50 dark:from-purple-900/20 dark:to-violet-800/20 rounded-xl border border-purple-200/50 dark:border-purple-700/50 hover:shadow-lg hover:shadow-purple-500/10 transition-all duration-300"},Je={class:"text-sm font-semibold text-purple-700 dark:text-purple-300"},We={class:"text-sm text-purple-600 dark:text-purple-400 ml-1"},$e={class:"flex flex-col sm:flex-row gap-4"},et={class:"flex bg-slate-100 dark:bg-slate-700 rounded-lg p-1"},tt={class:"flex gap-2"},st={for:"importCSV",class:"group inline-flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-lg cursor-pointer transition-all duration-200 hover:shadow-md"},rt={class:"text-sm font-medium"},lt=["href"],ot={class:"text-sm font-medium"},it={class:"relative z-10"},at={class:"px-6 py-6"},nt={class:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-2xl shadow-lg border border-slate-200/50 dark:border-slate-700/50 p-6"},dt={class:"flex flex-col lg:flex-row gap-4 mb-6"},ut={class:"flex-1"},ct={class:"relative"},mt={key:0,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},ft={class:"text-xs text-slate-500 dark:text-slate-400"},ht={class:"flex items-center gap-4"},gt={class:"flex items-center gap-2"},pt={class:"text-sm font-medium text-slate-700 dark:text-slate-300"},xt={class:"text-sm text-slate-500 dark:text-slate-400"},bt={class:"flex flex-wrap gap-2 mb-6"},_t=["onClick"],vt={class:"text-xs opacity-75"},kt={class:"space-y-6"},yt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4"},wt={key:0,class:"space-y-2"},Ct={class:"text-sm font-medium text-slate-700 dark:text-slate-300"},Yt={key:1,class:"space-y-2"},Dt={class:"text-sm font-medium text-slate-700 dark:text-slate-300"},Mt={value:null},St=["value"],Vt={key:2,class:"space-y-2"},Ft={class:"text-sm font-medium text-slate-700 dark:text-slate-300"},Ut={value:null},jt=["value"],Lt={class:"space-y-2"},Tt={class:"text-sm font-medium text-slate-700 dark:text-slate-300"},Pt={value:null},At=["value"],It={class:"space-y-2"},Ht={class:"text-sm font-medium text-slate-700 dark:text-slate-300"},Ot={value:null},Nt=["value"],Rt={key:3,class:"space-y-2"},Xt={class:"text-sm font-medium text-slate-700 dark:text-slate-300"},Bt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Gt={class:"space-y-2"},Qt={class:"text-sm font-medium text-slate-700 dark:text-slate-300"},Et={class:"space-y-2"},zt={class:"text-sm font-medium text-slate-700 dark:text-slate-300"},Kt={class:"flex justify-between items-center mt-6 pt-4 border-t border-slate-200 dark:border-slate-700"},qt={class:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400"},Zt={class:"flex gap-2"},Jt={class:"text-sm font-medium"},Wt={class:"text-sm font-medium"},$t={class:"px-6 pb-6"},es={class:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-2xl shadow-lg border border-slate-200/50 dark:border-slate-700/50 overflow-hidden"},ts={key:0},ss={class:"bg-gradient-to-r from-slate-50 to-slate-100/50 dark:from-slate-700/50 dark:to-slate-800/50 px-6 py-4 border-b border-slate-200 dark:border-slate-700"},rs={class:"grid grid-cols-12 gap-4 text-sm font-semibold text-slate-700 dark:text-slate-300"},ls={class:"flex flex-col"},os={class:"flex flex-col"},is={class:"flex flex-col"},as={class:"flex flex-col"},ns={class:"flex flex-col"},ds={class:"flex flex-col"},us={class:"col-span-1 flex items-center justify-end"},cs={class:"text-slate-400 dark:text-slate-500"},ms={class:"divide-y divide-slate-200 dark:divide-slate-700"},fs={class:"grid grid-cols-12 gap-4 px-6 py-4"},hs={class:"col-span-1 flex items-center"},gs={class:"text-sm font-mono text-blue-600 dark:text-blue-400 font-medium group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors duration-200"},ps={class:"col-span-4 flex flex-col gap-2"},xs={class:"text-sm font-medium text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200 line-clamp-2"},bs={class:"flex flex-wrap gap-4 text-xs text-slate-500 dark:text-slate-400"},_s={key:0,class:"flex items-center gap-1"},vs={key:1,class:"flex items-center gap-1"},ks={class:"col-span-1 flex items-center"},ys={class:"col-span-1 flex items-center"},ws={class:"col-span-2 flex items-center"},Cs={class:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400"},Ys={class:"col-span-2 flex items-center"},Ds={class:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400"},Ms={class:"col-span-1 flex items-center justify-end"},Ss={key:1,class:"p-6"},Vs={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},Fs={class:"bg-white dark:bg-slate-700 rounded-xl border border-slate-200 dark:border-slate-600 p-6 hover:shadow-lg hover:shadow-blue-500/10 dark:hover:shadow-blue-400/10 transition-all duration-300 hover:-translate-y-1"},Us={class:"flex items-start justify-between mb-4"},js={class:"flex items-center gap-2"},Ls={class:"text-lg font-mono font-bold text-blue-600 dark:text-blue-400"},Ts={class:"flex gap-2"},Ps={class:"space-y-3"},As={class:"text-sm font-semibold text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200 line-clamp-2"},Is={class:"space-y-2 text-xs text-slate-500 dark:text-slate-400"},Hs={key:0,class:"flex items-center gap-2"},Os={key:1,class:"flex items-center gap-2"},Ns={class:"flex items-center justify-between pt-3 border-t border-slate-200 dark:border-slate-600"},Rs={class:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400"},Xs={key:2,class:"px-6 py-16 text-center"},Bs={class:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-600 rounded-full flex items-center justify-center"},Gs={class:"text-xl font-semibold text-slate-900 dark:text-white mb-3"},Qs={class:"text-slate-600 dark:text-slate-400 mb-8 max-w-md mx-auto"},Es={class:"flex flex-col sm:flex-row gap-3 justify-center"},zs={class:"mt-8"};function Ks(t,s,a,m,l,n){const O=c("Head"),Y=c("Ticket"),N=c("Grid3X3"),R=c("List"),X=c("Upload"),B=c("Download"),D=c("Plus"),k=c("Link"),G=c("search-input"),M=c("select-input-filter"),y=c("select-input"),Q=c("Filter"),S=c("X"),E=c("Bookmark"),_=c("ChevronUp"),v=c("ChevronDown"),V=c("User"),F=c("UserCheck"),U=c("Calendar"),z=c("Clock"),j=c("ChevronRight"),K=c("pagination");return d(),u("div",Me,[i(O,{title:t.$t(a.title)},null,8,["title"]),e("div",Se,[s[28]||(s[28]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-600/5 via-purple-600/5 to-indigo-600/5 dark:from-blue-400/10 dark:via-purple-400/10 dark:to-indigo-400/10"},null,-1)),s[29]||(s[29]=e("div",{class:"absolute inset-0",style:{"background-image":"radial-gradient(circle at 25% 25%, rgba(59, 130, 246, 0.1) 0%, transparent 50%), radial-gradient(circle at 75% 75%, rgba(147, 51, 234, 0.1) 0%, transparent 50%)"}},null,-1)),e("div",Ve,[e("div",Fe,[e("div",Ue,[e("div",je,[e("div",Le,[e("div",Te,[e("div",Pe,[i(Y,{class:"w-8 h-8 text-white"})]),e("div",Ae,[e("span",Ie,o(a.tickets.total||0),1)])]),e("div",null,[e("h1",He,o(t.$t("Tickets")),1),e("p",Oe,o(t.$t("Manage and track support tickets efficiently")),1)])]),e("div",Ne,[e("div",Re,[s[22]||(s[22]=e("div",{class:"w-3 h-3 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full animate-pulse"},null,-1)),e("div",null,[e("span",Xe,o(a.tickets.total||0),1),e("span",Be,o(t.$t("Total Tickets")),1)])]),e("div",Ge,[s[23]||(s[23]=e("div",{class:"w-3 h-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full animate-pulse"},null,-1)),e("div",null,[e("span",Qe,o(n.getOpenTicketsCount()),1),e("span",Ee,o(t.$t("Open")),1)])]),e("div",ze,[s[24]||(s[24]=e("div",{class:"w-3 h-3 bg-gradient-to-r from-orange-500 to-amber-600 rounded-full animate-pulse"},null,-1)),e("div",null,[e("span",Ke,o(n.getHighPriorityCount()),1),e("span",qe,o(t.$t("High Priority")),1)])]),e("div",Ze,[s[25]||(s[25]=e("div",{class:"w-3 h-3 bg-gradient-to-r from-purple-500 to-violet-600 rounded-full animate-pulse"},null,-1)),e("div",null,[e("span",Je,o(n.getUnassignedCount()),1),e("span",We,o(t.$t("Unassigned")),1)])])])]),e("div",$e,[e("div",et,[e("button",{onClick:s[0]||(s[0]=r=>l.viewMode="grid"),class:f(["flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-all duration-200",l.viewMode==="grid"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"])},[i(N,{class:"w-4 h-4"}),e("span",null,o(t.$t("Grid")),1)],2),e("button",{onClick:s[1]||(s[1]=r=>l.viewMode="list"),class:f(["flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-all duration-200",l.viewMode==="list"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"])},[i(R,{class:"w-4 h-4"}),e("span",null,o(t.$t("List")),1)],2)]),e("div",tt,[e("label",st,[i(X,{class:"w-4 h-4 group-hover:scale-110 transition-transform duration-200"}),e("span",rt,o(t.$t("Import")),1),e("input",{onChange:s[2]||(s[2]=(...r)=>n.uploadImportCSV&&n.uploadImportCSV(...r)),class:"hidden",id:"importCSV",type:"file",accept:".csv"},null,32)]),e("a",{href:t.route("ticket.csv.export"),class:"group inline-flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-lg transition-all duration-200 hover:shadow-md"},[i(B,{class:"w-4 h-4 group-hover:scale-110 transition-transform duration-200"}),e("span",ot,o(t.$t("Export")),1)],8,lt)]),i(k,{href:t.route("tickets.create"),class:"group relative inline-flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 hover:from-blue-700 hover:via-blue-800 hover:to-indigo-800 text-white rounded-lg font-medium transition-all duration-300 shadow-lg hover:shadow-xl hover:shadow-blue-500/25 hover:-translate-y-0.5"},{default:p(()=>[s[26]||(s[26]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)),i(D,{class:"w-4 h-4 relative z-10 group-hover:rotate-90 transition-transform duration-300"}),e("span",it,o(t.$t("New Ticket")),1),s[27]||(s[27]=e("div",{class:"absolute inset-0 rounded-lg bg-gradient-to-r from-blue-400/20 to-indigo-400/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1))]),_:1},8,["href"])])])])])]),e("div",at,[e("div",nt,[e("div",dt,[e("div",ut,[e("div",ct,[i(G,{modelValue:l.form.search,"onUpdate:modelValue":s[3]||(s[3]=r=>l.form.search=r),placeholder:t.$t("Search by Key, Subject, Priority, Status, Assign to..."),class:"w-full",onReset:n.reset},null,8,["modelValue","placeholder","onReset"]),l.form.search?(d(),u("div",mt,[e("span",ft,o(n.getSearchResultsCount())+" "+o(t.$t("results")),1)])):h("",!0)])]),e("div",ht,[e("div",gt,[e("label",pt,o(t.$t("Show")),1),w(e("select",{"onUpdate:modelValue":s[4]||(s[4]=r=>l.form.limit=r),class:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"},[...s[30]||(s[30]=[e("option",{value:"10"},"10",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)])],512),[[J,l.form.limit]]),e("span",xt,o(t.$t("per page")),1)])])]),e("div",bt,[(d(!0),u(x,null,b(n.quickFilters,r=>(d(),u("button",{key:r.key,onClick:qs=>n.applyQuickFilter(r),class:f(["inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200",l.activeQuickFilter===r.key?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 border border-blue-200 dark:border-blue-700":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-600"])},[(d(),W($(r.icon),{class:"w-4 h-4"})),e("span",null,o(r.label),1),e("span",vt,"("+o(r.count)+")",1)],10,_t))),128))]),e("div",kt,[e("div",yt,[!(a.hidden_fields&&a.hidden_fields.includes("user_id"))&&l.user_access.ticket.update?(d(),u("div",wt,[e("label",Ct,o(t.$t("Client")),1),i(M,{placeholder:t.$t("Client"),onInput:n.doFilterClients,onFocus:n.doFilterClients,items:l.clients,modelValue:l.form.user_id,"onUpdate:modelValue":s[5]||(s[5]=r=>l.form.user_id=r),class:"w-full"},null,8,["placeholder","onInput","onFocus","items","modelValue"])])):h("",!0),a.hidden_fields&&a.hidden_fields.includes("ticket_type")?h("",!0):(d(),u("div",Yt,[e("label",Dt,o(t.$t("Type")),1),i(y,{modelValue:l.form.type_id,"onUpdate:modelValue":s[6]||(s[6]=r=>l.form.type_id=r),class:"w-full"},{default:p(()=>[e("option",Mt,o(t.$t("All Types")),1),(d(!0),u(x,null,b(a.types,r=>(d(),u("option",{key:r.id,value:r.id},o(r.name),9,St))),128))]),_:1},8,["modelValue"])])),a.hidden_fields&&a.hidden_fields.includes("department")?h("",!0):(d(),u("div",Vt,[e("label",Ft,o(t.$t("Department")),1),i(y,{modelValue:l.form.department_id,"onUpdate:modelValue":s[7]||(s[7]=r=>l.form.department_id=r),class:"w-full"},{default:p(()=>[e("option",Ut,o(t.$t("All Departments")),1),(d(!0),u(x,null,b(a.departments,r=>(d(),u("option",{key:r.id,value:r.id},o(r.name),9,jt))),128))]),_:1},8,["modelValue"])])),e("div",Lt,[e("label",Tt,o(t.$t("Priority")),1),i(y,{modelValue:l.form.priority_id,"onUpdate:modelValue":s[8]||(s[8]=r=>l.form.priority_id=r),class:"w-full"},{default:p(()=>[e("option",Pt,o(t.$t("All Priorities")),1),(d(!0),u(x,null,b(a.priorities,r=>(d(),u("option",{key:r.id,value:r.id},o(r.name),9,At))),128))]),_:1},8,["modelValue"])]),e("div",It,[e("label",Ht,o(t.$t("Status")),1),i(y,{modelValue:l.form.status_id,"onUpdate:modelValue":s[9]||(s[9]=r=>l.form.status_id=r),class:"w-full"},{default:p(()=>[e("option",Ot,o(t.$t("All Statuses")),1),(d(!0),u(x,null,b(a.statuses,r=>(d(),u("option",{key:r.id,value:r.id},o(r.name),9,Nt))),128))]),_:1},8,["modelValue"])]),!(a.hidden_fields&&a.hidden_fields.includes("assigned_to"))&&l.user_access.ticket.update?(d(),u("div",Rt,[e("label",Xt,o(t.$t("Assign To")),1),i(M,{placeholder:t.$t("All Assignees"),onInput:n.doFilter,onFocus:n.doFilter,items:a.assignees,modelValue:l.form.assigned_to,"onUpdate:modelValue":s[10]||(s[10]=r=>l.form.assigned_to=r),class:"w-full"},null,8,["placeholder","onInput","onFocus","items","modelValue"])])):h("",!0)]),e("div",Bt,[e("div",Gt,[e("label",Qt,o(t.$t("Created From")),1),w(e("input",{"onUpdate:modelValue":s[11]||(s[11]=r=>l.form.date_from=r),type:"date",class:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"},null,512),[[L,l.form.date_from]])]),e("div",Et,[e("label",zt,o(t.$t("Created To")),1),w(e("input",{"onUpdate:modelValue":s[12]||(s[12]=r=>l.form.date_to=r),type:"date",class:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"},null,512),[[L,l.form.date_to]])])])]),e("div",Kt,[e("div",qt,[i(Q,{class:"w-4 h-4"}),e("span",null,o(n.getActiveFiltersCount())+" "+o(t.$t("filters active")),1)]),e("div",Zt,[e("button",{onClick:s[13]||(s[13]=(...r)=>n.reset&&n.reset(...r)),class:"inline-flex items-center gap-2 px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 transition-colors duration-200"},[i(S,{class:"w-4 h-4"}),e("span",Jt,o(t.$t("Clear All")),1)]),e("button",{onClick:s[14]||(s[14]=(...r)=>n.saveFilterPreset&&n.saveFilterPreset(...r)),class:"inline-flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-lg transition-colors duration-200"},[i(E,{class:"w-4 h-4"}),e("span",Wt,o(t.$t("Save Preset")),1)])])])])]),e("div",$t,[e("div",es,[l.viewMode==="list"?(d(),u("div",ts,[e("div",ss,[e("div",rs,[e("div",{class:"col-span-1 flex items-center gap-2 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200",onClick:s[15]||(s[15]=r=>n.sort("id"))},[e("span",null,o(t.$t("Key")),1),e("div",ls,[i(_,{class:f(["w-3 h-3",{"text-blue-600 dark:text-blue-400":l.form.direction==="asc"&&l.form.field==="id","text-slate-400":!(l.form.direction==="asc"&&l.form.field==="id")}])},null,8,["class"]),i(v,{class:f(["w-3 h-3 -mt-1",{"text-blue-600 dark:text-blue-400":l.form.direction==="desc"&&l.form.field==="id","text-slate-400":!(l.form.direction==="desc"&&l.form.field==="id")}])},null,8,["class"])])]),e("div",{class:"col-span-4 flex items-center gap-2 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200",onClick:s[16]||(s[16]=r=>n.sort("subject"))},[e("span",null,o(t.$t("Subject")),1),e("div",os,[i(_,{class:f(["w-3 h-3",{"text-blue-600 dark:text-blue-400":l.form.direction==="asc"&&l.form.field==="subject","text-slate-400":!(l.form.direction==="asc"&&l.form.field==="subject")}])},null,8,["class"]),i(v,{class:f(["w-3 h-3 -mt-1",{"text-blue-600 dark:text-blue-400":l.form.direction==="desc"&&l.form.field==="subject","text-slate-400":!(l.form.direction==="desc"&&l.form.field==="subject")}])},null,8,["class"])])]),e("div",{class:"col-span-1 flex items-center gap-2 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200",onClick:s[17]||(s[17]=r=>n.sort("priority_id"))},[e("span",null,o(t.$t("Priority")),1),e("div",is,[i(_,{class:f(["w-3 h-3",{"text-blue-600 dark:text-blue-400":l.form.direction==="asc"&&l.form.field==="priority_id","text-slate-400":!(l.form.direction==="asc"&&l.form.field==="priority_id")}])},null,8,["class"]),i(v,{class:f(["w-3 h-3 -mt-1",{"text-blue-600 dark:text-blue-400":l.form.direction==="desc"&&l.form.field==="priority_id","text-slate-400":!(l.form.direction==="desc"&&l.form.field==="priority_id")}])},null,8,["class"])])]),e("div",{class:"col-span-1 flex items-center gap-2 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200",onClick:s[18]||(s[18]=r=>n.sort("status_id"))},[e("span",null,o(t.$t("Status")),1),e("div",as,[i(_,{class:f(["w-3 h-3",{"text-blue-600 dark:text-blue-400":l.form.direction==="asc"&&l.form.field==="status_id","text-slate-400":!(l.form.direction==="asc"&&l.form.field==="status_id")}])},null,8,["class"]),i(v,{class:f(["w-3 h-3 -mt-1",{"text-blue-600 dark:text-blue-400":l.form.direction==="desc"&&l.form.field==="status_id","text-slate-400":!(l.form.direction==="desc"&&l.form.field==="status_id")}])},null,8,["class"])])]),e("div",{class:"col-span-2 flex items-center gap-2 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200",onClick:s[19]||(s[19]=r=>n.sort("created_at"))},[e("span",null,o(t.$t("Date")),1),e("div",ns,[i(_,{class:f(["w-3 h-3",{"text-blue-600 dark:text-blue-400":l.form.direction==="asc"&&l.form.field==="created_at","text-slate-400":!(l.form.direction==="asc"&&l.form.field==="created_at")}])},null,8,["class"]),i(v,{class:f(["w-3 h-3 -mt-1",{"text-blue-600 dark:text-blue-400":l.form.direction==="desc"&&l.form.field==="created_at","text-slate-400":!(l.form.direction==="desc"&&l.form.field==="created_at")}])},null,8,["class"])])]),e("div",{class:"col-span-2 flex items-center gap-2 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200",onClick:s[20]||(s[20]=r=>n.sort("updated_at"))},[e("span",null,o(t.$t("Updated")),1),e("div",ds,[i(_,{class:f(["w-3 h-3",{"text-blue-600 dark:text-blue-400":l.form.direction==="asc"&&l.form.field==="updated_at","text-slate-400":!(l.form.direction==="asc"&&l.form.field==="updated_at")}])},null,8,["class"]),i(v,{class:f(["w-3 h-3 -mt-1",{"text-blue-600 dark:text-blue-400":l.form.direction==="desc"&&l.form.field==="updated_at","text-slate-400":!(l.form.direction==="desc"&&l.form.field==="updated_at")}])},null,8,["class"])])]),e("div",us,[e("span",cs,o(t.$t("Actions")),1)])])]),e("div",ms,[(d(!0),u(x,null,b(a.tickets.data,r=>(d(),u("div",{key:r.id,class:"group hover:bg-gradient-to-r hover:from-slate-50 hover:to-blue-50/30 dark:hover:from-slate-700/50 dark:hover:to-blue-900/10 transition-all duration-300"},[i(k,{href:t.route("tickets.show",r.uid||r.id),class:"block"},{default:p(()=>[e("div",fs,[e("div",hs,[e("span",gs,"#"+o(r.uid),1)]),e("div",ps,[e("h3",xs,o(r.subject),1),e("div",bs,[r.user?(d(),u("span",_s,[i(V,{class:"w-3 h-3"}),T(" "+o(r.user),1)])):h("",!0),r.assigned_to?(d(),u("span",vs,[i(F,{class:"w-3 h-3"}),T(" "+o(r.assigned_to),1)])):h("",!0)])]),e("div",ks,[e("span",{class:f(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",n.getPriorityClass(r.priority)])},o(r.priority),3)]),e("div",ys,[e("span",{class:f(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",n.getStatusClass(r.status)])},o(r.status),3)]),e("div",ws,[e("div",Cs,[i(U,{class:"w-4 h-4"}),e("span",null,o(n.formatDate(r.created_at)),1)])]),e("div",Ys,[e("div",Ds,[i(z,{class:"w-4 h-4"}),e("span",null,o(n.formatDate(r.updated_at)),1)])]),e("div",Ms,[i(j,{class:"w-4 h-4 text-slate-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200"})])])]),_:2},1032,["href"])]))),128))])])):(d(),u("div",Ss,[e("div",Vs,[(d(!0),u(x,null,b(a.tickets.data,r=>(d(),u("div",{key:r.id,class:"group"},[i(k,{href:t.route("tickets.show",r.uid||r.id),class:"block"},{default:p(()=>[e("div",Fs,[e("div",Us,[e("div",js,[e("span",Ls,"#"+o(r.uid),1)]),e("div",Ts,[e("span",{class:f(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",n.getPriorityClass(r.priority)])},o(r.priority),3),e("span",{class:f(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",n.getStatusClass(r.status)])},o(r.status),3)])]),e("div",Ps,[e("h3",As,o(r.subject),1),e("div",Is,[r.user?(d(),u("div",Hs,[i(V,{class:"w-3 h-3"}),e("span",null,o(r.user),1)])):h("",!0),r.assigned_to?(d(),u("div",Os,[i(F,{class:"w-3 h-3"}),e("span",null,o(r.assigned_to),1)])):h("",!0)]),e("div",Ns,[e("div",Rs,[i(U,{class:"w-3 h-3"}),e("span",null,o(n.formatDate(r.created_at)),1)]),i(j,{class:"w-4 h-4 text-slate-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200"})])])])]),_:2},1032,["href"])]))),128))])])),a.tickets.data.length===0?(d(),u("div",Xs,[e("div",Bs,[i(Y,{class:"w-10 h-10 text-slate-400"})]),e("h3",Gs,o(t.$t("No tickets found")),1),e("p",Qs,o(t.$t("Try adjusting your filters or create a new ticket to get started")),1),e("div",Es,[i(k,{href:t.route("tickets.create"),class:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl"},{default:p(()=>[i(D,{class:"w-4 h-4"}),e("span",null,o(t.$t("Create Ticket")),1)]),_:1},8,["href"]),e("button",{onClick:s[21]||(s[21]=(...r)=>n.reset&&n.reset(...r)),class:"inline-flex items-center gap-2 px-6 py-3 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors duration-200"},[i(S,{class:"w-4 h-4"}),e("span",null,o(t.$t("Clear Filters")),1)])])])):h("",!0)]),e("div",zs,[i(K,{links:a.tickets.links},null,8,["links"])])])])}const mr=de(De,[["render",Ks]]);export{mr as default};
