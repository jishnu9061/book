import{C as E,X as I,D as a,l as d,u as i,o as l,m as e,z as o,G as x,y as h,K as $,R as A,F as k,t as w,A as m,M as F,E as p}from"./vendor-LkufkiF7.js";import{L as y}from"./Layout-DdwsTprQ.js";import{S as Y}from"./SearchInput-BRu-pwEM.js";import{P as H}from"./Pagination-BB47_pKn.js";import{_ as O}from"./DeleteConfirmation-CLnw7UU1.js";import{h as z}from"./utils-Cv2kkzzw.js";import{p as G}from"./pickBy-Z3jOt4S7.js";import{t as v}from"./throttle-DDfrdyG6.js";import{m as q}from"./mapValues-DhmwvAeE.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{LucideUsers as X,LucideTrash2 as J,LucideShield as Q,Flag as W,LucideMapPin as Z,LucidePhone as ee,LucideMail as te,Edit as se,LucideUser as oe,LucidePlus as le}from"./ui-DZ0wy3Ge.js";import"./LogoutButton-CfMbGx4V.js";import"./app-BMhdMQxL.js";import"./Logo-CwTRbPbO.js";import"./FlashMessages-Bge5XBye.js";const ae={layout:y,components:{Head:I,Layout:y,Link:E,SearchInput:Y,Pagination:H,DeleteConfirmation:O,Plus:le,User:oe,Edit:se,Mail:te,Phone:ee,MapPin:Z,Flag:W,Shield:Q,Trash2:J,Users:X},props:{users:Object,filters:Object,roles:Array},data(){return{form:{search:this.filters.search,role_id:this.filters.role_id||null},showDeleteModal:!1,deleteConfig:{title:"Are you sure?",message:"This action cannot be undone.",itemName:"this item",itemType:"item",deleteUrl:"",deleteMethod:"delete",deleteData:{},confirmButtonText:"Delete",cancelButtonText:"Cancel"}}},methods:{search:v(function(){this.$inertia.get(route("users"),G(this.form),{preserveState:!0,showDeleteConfirmation(t,n=null){Object.assign(this.deleteConfig,t),this.showDeleteModal=!0,n&&(this.deleteConfig.onConfirmCallback=n)},hideDeleteConfirmation(){this.showDeleteModal=!1,this.deleteConfig.onConfirmCallback=null},confirmDelete(){this.deleteConfig.onConfirmCallback&&this.deleteConfig.onConfirmCallback(),this.hideDeleteConfirmation()}})},300),reset(){this.form=q(this.form,()=>null),this.$inertia.get(route("users"))},deleteUser(t){this.showDeleteConfirmation({title:this.$t("Delete User"),message:this.$t("This action cannot be undone."),itemName:t.name||t.email,itemType:"user",deleteUrl:route("users.destroy",t.id),deleteMethod:"delete"})},getRoleColor(t){return{admin:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",manager:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",agent:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",customer:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}[t]||"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"},showDeleteConfirmation(t){this.deleteConfig={...this.deleteConfig,...t},this.showDeleteModal=!0},hideDeleteConfirmation(){this.showDeleteModal=!1},confirmDelete(){this.hideDeleteConfirmation()},formatDate(t){if(!t)return"N/A";const n=z(t);return n.isValid()?n.format("MMM DD, YYYY"):(console.warn("Invalid date format:",t),"Invalid Date")}},watch:{form:{deep:!0,handler:v(function(){this.search()},300)}}},re={class:"min-h-screen bg-slate-50 dark:bg-slate-900"},ne={class:"bg-white dark:bg-slate-800 shadow-sm border-b border-slate-200 dark:border-slate-700"},ie={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},de={class:"py-6"},ce={class:"flex items-center justify-between"},he={class:"text-2xl font-bold text-slate-900 dark:text-white"},me={class:"mt-1 text-sm text-slate-500 dark:text-slate-400"},ue={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},fe={class:"mb-6"},xe={class:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-4"},pe={class:"flex flex-col sm:flex-row gap-4"},ge={class:"flex-1"},_e={class:"flex gap-2"},be={value:null},ke=["value"],we={class:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden"},ye={class:"overflow-x-auto"},ve={class:"w-full"},Ce={class:"bg-slate-50 dark:bg-slate-700"},De={class:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider"},Me={class:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider"},Ue={class:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider"},Pe={class:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider"},Le={class:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider"},Se={class:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider"},Te={class:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider"},Ne={class:"divide-y divide-slate-200 dark:divide-slate-700"},Ve={class:"px-6 py-4"},Be={class:"flex-shrink-0"},je={class:"w-10 h-10 rounded-full overflow-hidden bg-slate-100 dark:bg-slate-700 flex items-center justify-center"},Re=["src","alt"],Ee={class:"flex-1 min-w-0"},Ie={class:"text-sm font-medium text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors"},$e={key:0,class:"text-sm text-slate-500 dark:text-slate-400"},Ae={class:"px-6 py-4"},Fe={class:"space-y-1"},Ye={class:"flex items-center gap-2 text-sm text-slate-900 dark:text-white"},He=["href"],Oe={key:0,class:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400"},ze=["href"],Ge={class:"px-6 py-4"},qe={class:"space-y-1"},Ke={key:0,class:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400"},Xe={key:1,class:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400"},Je={class:"px-6 py-4"},Qe={class:"px-6 py-4"},We={class:"px-6 py-4 text-sm text-slate-500 dark:text-slate-400"},Ze={class:"px-6 py-4 text-right"},et={class:"flex items-center justify-end gap-2"},tt=["onClick"],st={key:0,class:"text-center py-12"},ot={class:"w-16 h-16 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4"},lt={class:"text-lg font-medium text-slate-900 dark:text-white mb-2"},at={class:"text-slate-500 dark:text-slate-400 mb-6"},rt={class:"mt-6"};function nt(t,n,u,it,r,c){const C=a("Head"),g=a("Plus"),f=a("Link"),D=a("SearchInput"),M=a("User"),U=a("Mail"),P=a("Phone"),L=a("MapPin"),S=a("Flag"),T=a("Shield"),N=a("Edit"),V=a("Trash2"),B=a("Users"),j=a("Pagination"),R=a("DeleteConfirmation");return i(),d("div",re,[l(C,{title:t.$t("Users")},null,8,["title"]),e("div",ne,[e("div",ie,[e("div",de,[e("div",ce,[e("div",null,[e("h1",he,o(t.$t("Users Management")),1),e("p",me,o(t.$t("Manage user accounts, roles, and permissions")),1)]),l(f,{href:t.route("users.create"),class:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-sm hover:shadow-md"},{default:x(()=>[l(g,{class:"w-4 h-4"}),h(" "+o(t.$t("Create New User")),1)]),_:1},8,["href"])])])])]),e("div",ue,[e("div",fe,[e("div",xe,[e("div",pe,[e("div",ge,[l(D,{modelValue:r.form.search,"onUpdate:modelValue":n[0]||(n[0]=s=>r.form.search=s),class:"w-full",onReset:c.reset,placeholder:t.$t("Search users...")},null,8,["modelValue","onReset","placeholder"])]),e("div",_e,[$(e("select",{"onUpdate:modelValue":n[1]||(n[1]=s=>r.form.role_id=s),class:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",onChange:n[2]||(n[2]=(...s)=>c.search&&c.search(...s))},[e("option",be,o(t.$t("All Roles")),1),(i(!0),d(k,null,w(u.roles,s=>(i(),d("option",{key:s.id,value:s.id},o(s.name),9,ke))),128))],544),[[A,r.form.role_id]])])])])]),e("div",we,[e("div",ye,[e("table",ve,[e("thead",Ce,[e("tr",null,[e("th",De,o(t.$t("User")),1),e("th",Me,o(t.$t("Contact Info")),1),e("th",Ue,o(t.$t("Location")),1),e("th",Pe,o(t.$t("Role")),1),e("th",Le,o(t.$t("Status")),1),e("th",Se,o(t.$t("Created")),1),e("th",Te,o(t.$t("Actions")),1)])]),e("tbody",Ne,[(i(!0),d(k,null,w(u.users.data,s=>{var _,b;return i(),d("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors duration-150"},[e("td",Ve,[l(f,{href:t.route("users.edit",s.id),class:"group flex items-center gap-3"},{default:x(()=>[e("div",Be,[e("div",je,[s.photo?(i(),d("img",{key:0,src:s.photo,alt:s.name,class:"w-full h-full object-cover"},null,8,Re)):(i(),F(M,{key:1,class:"w-5 h-5 text-slate-400 dark:text-slate-500"}))])]),e("div",Ee,[e("p",Ie,o(s.name),1),s.department?(i(),d("p",$e,o(s.department),1)):m("",!0)])]),_:2},1032,["href"])]),e("td",Ae,[e("div",Fe,[e("div",Ye,[l(U,{class:"w-4 h-4 text-slate-400"}),e("a",{href:`mailto:${s.email}`,class:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors"},o(s.email),9,He)]),s.phone?(i(),d("div",Oe,[l(P,{class:"w-4 h-4"}),e("a",{href:`tel:${s.phone}`,class:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors"},o(s.phone),9,ze)])):m("",!0)])]),e("td",Ge,[e("div",qe,[s.city?(i(),d("div",Ke,[l(L,{class:"w-4 h-4"}),e("span",null,o(s.city),1)])):m("",!0),s.country?(i(),d("div",Xe,[l(S,{class:"w-4 h-4"}),e("span",null,o(s.country),1)])):m("",!0)])]),e("td",Je,[e("span",{class:p(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",c.getRoleColor((_=s.role)==null?void 0:_.slug)])},[l(T,{class:"w-3 h-3 mr-1"}),h(" "+o(((b=s.role)==null?void 0:b.name)||t.$t("No Role")),1)],2)]),e("td",Qe,[e("span",{class:p(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.email_verified_at?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"])},[e("div",{class:p(["w-1.5 h-1.5 rounded-full mr-1.5",s.email_verified_at?"bg-green-400":"bg-yellow-400"])},null,2),h(" "+o(s.email_verified_at?t.$t("Verified"):t.$t("Pending")),1)],2)]),e("td",We,o(c.formatDate(s.created_at)),1),e("td",Ze,[e("div",et,[l(f,{href:t.route("users.edit",s.id),class:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors duration-150"},{default:x(()=>[l(N,{class:"w-4 h-4"}),h(" "+o(t.$t("Edit")),1)]),_:1},8,["href"]),e("button",{onClick:dt=>c.deleteUser(s),class:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors duration-150"},[l(V,{class:"w-4 h-4"}),h(" "+o(t.$t("Delete")),1)],8,tt)])])])}),128))])])]),u.users.data.length===0?(i(),d("div",st,[e("div",ot,[l(B,{class:"w-8 h-8 text-slate-400 dark:text-slate-500"})]),e("h3",lt,o(t.$t("No users found")),1),e("p",at,o(t.$t("Get started by creating your first user account.")),1),l(f,{href:t.route("users.create"),class:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200"},{default:x(()=>[l(g,{class:"w-4 h-4"}),h(" "+o(t.$t("Create User")),1)]),_:1},8,["href"])])):m("",!0)]),e("div",rt,[l(j,{links:u.users.links},null,8,["links"])]),l(R,{show:r.showDeleteModal,title:r.deleteConfig.title,message:r.deleteConfig.message,"item-name":r.deleteConfig.itemName,"item-type":r.deleteConfig.itemType,"delete-url":r.deleteConfig.deleteUrl,"delete-method":r.deleteConfig.deleteMethod,"delete-data":r.deleteConfig.deleteData,"confirm-button-text":r.deleteConfig.confirmButtonText,"cancel-button-text":r.deleteConfig.cancelButtonText,onClose:c.hideDeleteConfirmation,onConfirm:c.confirmDelete},null,8,["show","title","message","item-name","item-type","delete-url","delete-method","delete-data","confirm-button-text","cancel-button-text","onClose","onConfirm"])])])}const Dt=K(ae,[["render",nt]]);export{Dt as default};
