import{C as B,X as $,D as i,l as d,u as n,o as a,m as e,z as o,G as f,y as m,K as j,R as E,F as _,t as g,A as x,M as I,E as k}from"./vendor-LkufkiF7.js";import{_ as A}from"./DeleteConfirmation-CLnw7UU1.js";import{L as Y}from"./Layout-DdwsTprQ.js";import{S as H}from"./SearchInput-BRu-pwEM.js";import{P as O}from"./Pagination-BB47_pKn.js";import{h as R}from"./utils-Cv2kkzzw.js";import{p as z}from"./pickBy-Z3jOt4S7.js";import{t as b}from"./throttle-DDfrdyG6.js";import{m as F}from"./mapValues-DhmwvAeE.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{LucideTrash2 as q,LucideUsers as K,LucideTicket as X,LucideMapPin as J,LucidePhone as Q,LucideMail as W,Edit as Z,LucideUser as ee,LucidePlus as te}from"./ui-DZ0wy3Ge.js";import"./LogoutButton-CfMbGx4V.js";import"./app-BMhdMQxL.js";import"./Logo-CwTRbPbO.js";import"./FlashMessages-Bge5XBye.js";const se={layout:Y,components:{Head:$,Link:B,SearchInput:H,Pagination:O,Plus:te,User:ee,Edit:Z,Mail:W,Phone:Q,MapPin:J,Ticket:X,Users:K,Trash2:q,DeleteConfirmation:A},props:{users:Object,filters:Object,cities:Array},data(){return{form:{search:this.filters.search,city:this.filters.city||""},showDeleteModal:!1,deleteConfig:{title:"Are you sure?",message:"This action cannot be undone.",itemName:"this item",itemType:"item",deleteUrl:"",deleteMethod:"delete",deleteData:{},confirmButtonText:"Delete",cancelButtonText:"Cancel"}}},methods:{search:b(function(){this.$inertia.get(route("customers"),z(this.form),{preserveState:!0})},300),showDeleteConfirmation(t,r=null){Object.assign(this.deleteConfig,t),this.showDeleteModal=!0,r&&(this.deleteConfig.onConfirmCallback=r)},hideDeleteConfirmation(){this.showDeleteModal=!1,this.deleteConfig.onConfirmCallback=null},confirmDelete(){this.deleteConfig.onConfirmCallback&&this.deleteConfig.onConfirmCallback(),this.hideDeleteConfirmation()},reset(){this.form=F(this.form,()=>null),this.$inertia.get(route("customers"))},viewTickets(t){this.$inertia.get(route("tickets"),{customer:t.id})},deleteCustomer(t){this.showDeleteConfirmation({title:this.$t("Delete Customer"),message:this.$t("This action cannot be undone."),itemName:t.name||t.email,itemType:"customer",deleteUrl:route("customers.destroy",t.id),deleteMethod:"delete"})},formatDate(t){if(!t)return"N/A";const r=R(t);return r.isValid()?r.format("MMM DD, YYYY"):(console.warn("Invalid date format:",t),"Invalid Date")}},watch:{form:{deep:!0,handler:b(function(){this.search()},300)}}},oe={class:"min-h-screen bg-slate-50 dark:bg-slate-900"},ae={class:"bg-white dark:bg-slate-800 shadow-sm border-b border-slate-200 dark:border-slate-700"},le={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ie={class:"py-6"},re={class:"flex items-center justify-between"},ne={class:"text-2xl font-bold text-slate-900 dark:text-white"},de={class:"mt-1 text-sm text-slate-500 dark:text-slate-400"},ce={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},me={class:"mb-6"},he={class:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-4"},ue={class:"flex flex-col sm:flex-row gap-4"},fe={class:"flex-1"},xe={class:"flex gap-2"},pe={value:""},_e=["value"],ge={class:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden"},ke={class:"overflow-x-auto"},be={class:"w-full"},ve={class:"bg-slate-50 dark:bg-slate-700"},we={class:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider"},ye={class:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider"},Ce={class:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider"},De={class:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider"},Me={class:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider"},Te={class:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider"},Pe={class:"divide-y divide-slate-200 dark:divide-slate-700"},Le={class:"px-6 py-4"},Ue={class:"flex-shrink-0"},Ne={class:"w-10 h-10 rounded-full overflow-hidden bg-slate-100 dark:bg-slate-700 flex items-center justify-center"},Ve=["src","alt"],Se={class:"flex-1 min-w-0"},Be={class:"text-sm font-medium text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors"},$e={key:0,class:"text-sm text-slate-500 dark:text-slate-400"},je={class:"px-6 py-4"},Ee={class:"space-y-1"},Ie={class:"flex items-center gap-2 text-sm text-slate-900 dark:text-white"},Ae=["href"],Ye={key:0,class:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400"},He=["href"],Oe={class:"px-6 py-4"},Re={class:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400"},ze={class:"px-6 py-4"},Fe={class:"px-6 py-4 text-sm text-slate-500 dark:text-slate-400"},Ge={class:"px-6 py-4 text-right"},qe={class:"flex items-center justify-end gap-2"},Ke=["onClick"],Xe=["onClick"],Je={key:0,class:"text-center py-12"},Qe={class:"w-16 h-16 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4"},We={class:"text-lg font-medium text-slate-900 dark:text-white mb-2"},Ze={class:"text-slate-500 dark:text-slate-400 mb-6"},et={class:"mt-6"};function tt(t,r,h,st,l,c){const v=i("Head"),p=i("Plus"),u=i("Link"),w=i("SearchInput"),y=i("User"),C=i("Mail"),D=i("Phone"),M=i("MapPin"),T=i("Edit"),P=i("Trash2"),L=i("Ticket"),U=i("Users"),N=i("Pagination"),V=i("DeleteConfirmation");return n(),d("div",oe,[a(v,{title:t.$t("Customers")},null,8,["title"]),e("div",ae,[e("div",le,[e("div",ie,[e("div",re,[e("div",null,[e("h1",ne,o(t.$t("Customers Management")),1),e("p",de,o(t.$t("Manage your customer accounts and information")),1)]),a(u,{href:t.route("customers.create"),class:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-sm hover:shadow-md"},{default:f(()=>[a(p,{class:"w-4 h-4"}),m(" "+o(t.$t("Create New Customer")),1)]),_:1},8,["href"])])])])]),e("div",ce,[e("div",me,[e("div",he,[e("div",ue,[e("div",fe,[a(w,{modelValue:l.form.search,"onUpdate:modelValue":r[0]||(r[0]=s=>l.form.search=s),class:"w-full",onReset:c.reset,placeholder:t.$t("Search customers...")},null,8,["modelValue","onReset","placeholder"])]),e("div",xe,[j(e("select",{"onUpdate:modelValue":r[1]||(r[1]=s=>l.form.city=s),class:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",onChange:r[2]||(r[2]=(...s)=>c.search&&c.search(...s))},[e("option",pe,o(t.$t("All Cities")),1),(n(!0),d(_,null,g(h.cities,s=>(n(),d("option",{key:s,value:s},o(s),9,_e))),128))],544),[[E,l.form.city]])])])])]),e("div",ge,[e("div",ke,[e("table",be,[e("thead",ve,[e("tr",null,[e("th",we,o(t.$t("Customer")),1),e("th",ye,o(t.$t("Contact Info")),1),e("th",Ce,o(t.$t("Location")),1),e("th",De,o(t.$t("Status")),1),e("th",Me,o(t.$t("Created")),1),e("th",Te,o(t.$t("Actions")),1)])]),e("tbody",Pe,[(n(!0),d(_,null,g(h.users.data,s=>(n(),d("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors duration-150"},[e("td",Le,[a(u,{href:t.route("customers.edit",s.id),class:"group flex items-center gap-3"},{default:f(()=>[e("div",Ue,[e("div",Ne,[s.photo?(n(),d("img",{key:0,src:s.photo,alt:s.name,class:"w-full h-full object-cover"},null,8,Ve)):(n(),I(y,{key:1,class:"w-5 h-5 text-slate-400 dark:text-slate-500"}))])]),e("div",Se,[e("p",Be,o(s.name),1),s.company?(n(),d("p",$e,o(s.company),1)):x("",!0)])]),_:2},1032,["href"])]),e("td",je,[e("div",Ee,[e("div",Ie,[a(C,{class:"w-4 h-4 text-slate-400"}),e("a",{href:`mailto:${s.email}`,class:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors"},o(s.email),9,Ae)]),s.phone?(n(),d("div",Ye,[a(D,{class:"w-4 h-4"}),e("a",{href:`tel:${s.phone}`,class:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors"},o(s.phone),9,He)])):x("",!0)])]),e("td",Oe,[e("div",Re,[a(M,{class:"w-4 h-4"}),e("span",null,o(s.city||t.$t("Not specified")),1)])]),e("td",ze,[e("span",{class:k(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.email_verified_at?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"])},[e("div",{class:k(["w-1.5 h-1.5 rounded-full mr-1.5",s.email_verified_at?"bg-green-400":"bg-yellow-400"])},null,2),m(" "+o(s.email_verified_at?t.$t("Verified"):t.$t("Pending")),1)],2)]),e("td",Fe,o(c.formatDate(s.created_at)),1),e("td",Ge,[e("div",qe,[a(u,{href:t.route("customers.edit",s.id),class:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors duration-150"},{default:f(()=>[a(T,{class:"w-4 h-4"}),m(" "+o(t.$t("Edit")),1)]),_:1},8,["href"]),e("button",{onClick:S=>c.deleteCustomer(s),class:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors duration-150"},[a(P,{class:"w-4 h-4"}),m(" "+o(t.$t("Delete")),1)],8,Ke),e("button",{onClick:S=>c.viewTickets(s),class:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-slate-600 dark:text-slate-400 hover:text-green-600 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors duration-150"},[a(L,{class:"w-4 h-4"}),m(" "+o(t.$t("Tickets")),1)],8,Xe)])])]))),128))])])]),h.users.data.length===0?(n(),d("div",Je,[e("div",Qe,[a(U,{class:"w-8 h-8 text-slate-400 dark:text-slate-500"})]),e("h3",We,o(t.$t("No customers found")),1),e("p",Ze,o(t.$t("Get started by creating your first customer account.")),1),a(u,{href:t.route("customers.create"),class:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200"},{default:f(()=>[a(p,{class:"w-4 h-4"}),m(" "+o(t.$t("Create Customer")),1)]),_:1},8,["href"])])):x("",!0)]),e("div",et,[a(N,{links:h.users.links},null,8,["links"])])]),a(V,{show:l.showDeleteModal,title:l.deleteConfig.title,message:l.deleteConfig.message,"item-name":l.deleteConfig.itemName,"item-type":l.deleteConfig.itemType,"delete-url":l.deleteConfig.deleteUrl,"delete-method":l.deleteConfig.deleteMethod,"delete-data":l.deleteConfig.deleteData,"confirm-button-text":l.deleteConfig.confirmButtonText,"cancel-button-text":l.deleteConfig.cancelButtonText,onClose:c.hideDeleteConfirmation,onConfirm:c.confirmDelete},null,8,["show","title","message","item-name","item-type","delete-url","delete-method","delete-data","confirm-button-text","cancel-button-text","onClose","onConfirm"])])}const gt=G(se,[["render",tt]]);export{gt as default};
