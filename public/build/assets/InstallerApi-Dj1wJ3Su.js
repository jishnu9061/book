function s(){var e;const t=(e=document.querySelector('meta[name="csrf-token"]'))==null?void 0:e.getAttribute("content");return t||(console.error("CSRF token not found. This may cause installation issues."),"installer-csrf-fallback")}async function o(t,e={}){const r={method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":s(),Accept:"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"},a={...r,...e,headers:{...r.headers,...e.headers}};return fetch(t,a)}async function c(t){if(!t.ok){let e="Request failed";try{e=(await t.json()).message||e}catch{e=t.statusText||e}throw new Error(e)}try{return await t.json()}catch{throw new Error("Invalid response format")}}export{c as h,o as i};
