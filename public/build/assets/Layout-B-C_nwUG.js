import{C as Y,D as $,l as n,u as i,m as e,o as d,G as M,A as m,E as S,y,z as a,F as K,t as J,O as se,J as Z,K as A,P as z,R as oe,S as G,f as F,H as Q,s as ee,U as W,a0 as re,n as ae,V as k}from"./vendor-2qHTh_Dj.js";import{h as te,a as H}from"./utils-11VKenW5.js";import{L as V}from"./Logo-Csl_cBJU.js";import{_ as le,D as ne,I as ie}from"./LogoutButton-COxmScRj.js";import{g as de,l as ce}from"./app-BRoCd4Iw.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{L as ue}from"./LoadingButton-COF3xohK.js";import{BarChart3 as ge,FileText as he,Headphones as me,ExternalLink as pe,Instagram as fe,Linkedin as ve,LucideTwitter as be,Facebook as _e,LucideSend as ye,LucideMail as xe,ArrowRight as we,LucideStar as ke}from"./ui-ChkuEbnX.js";import{F as $e}from"./FlashMessages-hgZ2_tor.js";const Ce={components:{Logo:V,Icon:ie,Dropdown:ne,Link:Y,LogoutButton:le},data(){var s,t;return{active_menu:"home",enable_option:{},locale:((t=(s=this.$page.props.auth)==null?void 0:s.user)==null?void 0:t.locale)||this.$page.props.locale}},computed:{selected_language(){return!this.$page.props.languages||!Array.isArray(this.$page.props.languages)?{code:"en",name:"English"}:this.$page.props.languages.find(s=>s.code===this.$page.props.locale)||{code:"en",name:"English"}},languages_except_selected(){return!this.$page.props.languages||!Array.isArray(this.$page.props.languages)?[]:this.$page.props.languages.filter(s=>s.code!==this.$page.props.locale)}},methods:{updateLanguage(s){const t=document.querySelector('meta[name="csrf-token"]'),v=t?t.getAttribute("content"):"",_=new FormData;_.append("_token",v),fetch(`/language/${s}`,{method:"POST",body:_,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(o=>o.json()).then(o=>{o.success&&window.location.reload()}).catch(o=>{console.error("Failed to update language:",o)})},toggleMenu(){document.getElementById("isToggle").classList.toggle("open");var s=document.getElementById("navigation");s.style.display==="block"?s.style.display="none":s.style.display="block"},windowScroll(){const s=document.getElementById("topnav");s!=null&&(document.body.scrollTop>=50||document.documentElement.scrollTop>=50?s.classList.add("sticky"):s.classList.remove("sticky"))}},mounted(){this.active_menu=this.$page.url.substr(1)||"home",this.$nextTick(()=>{const s=document.getElementById("navbarToggler"),t=document.getElementById("navbarCollapse");s&&t&&s.addEventListener("click",()=>{s.classList.toggle("navbarTogglerActive"),t.classList.toggle("hidden")})})},created(){this.$page.props.enable_options&&JSON.parse(this.$page.props.enable_options.value).forEach(t=>{this.enable_option[t.slug]=!!t.value}),window.addEventListener("scroll",s=>{s.preventDefault(),this.windowScroll()}),de()!==this.$page.props.locale&&ce(this.$page.props.locale)}},Se={id:"topnav",class:"ud-header relative z-40 flex w-full items-center bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700"},Me={class:"container"},Te={class:"relative -mx-4 flex items-center justify-between"},Le={class:"w-60 max-w-full px-4"},Ee={class:"flex w-full items-center justify-between px-4"},Fe={id:"navbarCollapse",class:"absolute right-4 top-full hidden w-full max-w-[250px] rounded-lg bg-white py-5 shadow-lg lg:static lg:block lg:w-full lg:max-w-full lg:bg-transparent lg:py-0 lg:px-4 lg:shadow-none xl:px-6"},je={class:"blcok lg:flex"},Ie={class:"flex items-center gap-4"},Be={class:"placement-top-right"},Pe={class:"flex items-center cursor-pointer group language_menu"},Ue={class:"font-bold mr-1 rtl:mr-0 whitespace-nowrap w-[7rem]"},Ne={class:"rtl:mr-[6px] language_text text-slate-900 dark:text-white"},Ae={class:"py-0 shadow-xl rounded text-sm language_menu_list"},Oe=["onClick"],ze={class:"lang_name rtl:mr-[6px]"},Re={key:0,class:"justify-end pr-16 flex lg:pr-0"},De={class:"dd__wrapper"},He={class:"flex items-center cursor-pointer group"},Ve={class:"mr-1 whitespace-nowrap text-slate-900 dark:text-white"},qe=["alt","src"],Ke={key:1,src:"/images/svg/profile.svg",class:"w-8 h-8",alt:"user profile"},Je={class:"hidden"},We={class:"hidden"},Ge={class:"shadow-xl bg-white rounded text-sm"},Qe={key:1,class:"hidden justify-end pr-16 sm:flex lg:pr-0"},Xe=["href"];function Ye(s,t,v,_,o,l){const C=$("Logo"),r=$("Link"),x=$("icon"),b=$("dropdown"),j=$("LogoutButton");return i(),n("nav",Se,[t[9]||(t[9]=e("div",{id:"dropdown"},null,-1)),e("div",Me,[e("div",Te,[e("div",Le,[d(r,{href:s.route("home"),class:"logo pl-0 mt-2 mb-2"},{default:M(()=>[d(C,{class:"help-desk-logo"}),d(C,{name:"white",class:"help-desk-logo white"})]),_:1},8,["href"])]),e("div",Ee,[e("div",null,[t[6]||(t[6]=e("button",{id:"navbarToggler",class:"absolute right-4 top-1/2 block -translate-y-1/2 rounded-lg px-3 py-[6px] ring-primary lg:hidden"},[e("span",{class:"relative my-[6px] block h-[2px] w-[30px] bg-slate-900 dark:bg-white"}),e("span",{class:"relative my-[6px] block h-[2px] w-[30px] bg-slate-900 dark:bg-white"}),e("span",{class:"relative my-[6px] block h-[2px] w-[30px] bg-slate-900 dark:bg-white"})],-1)),e("nav",Fe,[e("ul",je,[e("li",{class:S(["group relative",{active:o.active_menu==="home"}]),onClick:t[0]||(t[0]=f=>o.active_menu="home")},[d(r,{href:s.route("home"),class:"ud-menu-scroll mx-8 flex py-2 text-base text-dark group-hover:text-primary lg:mr-0 lg:inline-flex lg:py-6 lg:px-0 lg:text-slate-900 dark:lg:text-white lg:group-hover:text-primary"},{default:M(()=>[y(a(s.$t("Home")),1)]),_:1},8,["href"])],2),this.enable_option&&this.enable_option.service?(i(),n("li",{key:0,class:S(["group relative",{active:o.active_menu==="services"}]),onClick:t[1]||(t[1]=f=>o.active_menu="services")},[d(r,{href:s.route("services"),class:"ud-menu-scroll mx-8 flex py-2 text-base text-dark group-hover:text-primary lg:mr-0 lg:inline-flex lg:py-6 lg:px-0 lg:text-slate-900 dark:lg:text-white lg:group-hover:text-primary"},{default:M(()=>[y(a(s.$t("Services")),1)]),_:1},8,["href"])],2)):m("",!0),this.enable_option&&this.enable_option.kb?(i(),n("li",{key:1,class:S(["group relative",{active:o.active_menu==="kb"}]),onClick:t[2]||(t[2]=f=>o.active_menu="kb")},[d(r,{href:s.route("kb"),class:"ud-menu-scroll mx-8 flex py-2 text-base text-dark group-hover:text-primary lg:mr-0 lg:inline-flex lg:py-6 lg:px-0 lg:text-slate-900 dark:lg:text-white lg:group-hover:text-primary"},{default:M(()=>[y(a(s.$t("Knowledge")),1)]),_:1},8,["href"])],2)):m("",!0),this.enable_option&&this.enable_option.faq?(i(),n("li",{key:2,class:S(["group relative",{active:o.active_menu==="faq"}]),onClick:t[3]||(t[3]=f=>o.active_menu="faq")},[d(r,{href:s.route("faq"),class:"ud-menu-scroll mx-8 flex py-2 text-base text-dark group-hover:text-primary lg:mr-0 lg:inline-flex lg:py-6 lg:px-0 lg:text-slate-900 dark:lg:text-white lg:group-hover:text-primary"},{default:M(()=>[y(a(s.$t("FAQs")),1)]),_:1},8,["href"])],2)):m("",!0),this.enable_option&&this.enable_option.blog?(i(),n("li",{key:3,class:S(["group relative",{active:o.active_menu==="blog"}]),onClick:t[4]||(t[4]=f=>o.active_menu="blog")},[d(r,{href:s.route("blog"),class:"ud-menu-scroll mx-8 flex py-2 text-base text-dark group-hover:text-primary lg:mr-0 lg:inline-flex lg:py-6 lg:px-0 lg:text-slate-900 dark:lg:text-white lg:group-hover:text-primary"},{default:M(()=>[y(a(s.$t("Blog")),1)]),_:1},8,["href"])],2)):m("",!0),this.enable_option&&this.enable_option.contact_page?(i(),n("li",{key:4,class:S(["group relative",{active:o.active_menu==="contact"}]),onClick:t[5]||(t[5]=f=>o.active_menu="contact")},[d(r,{href:s.route("contact"),class:"ud-menu-scroll mx-8 flex py-2 text-base text-dark group-hover:text-primary lg:mr-0 lg:inline-flex lg:py-6 lg:px-0 lg:text-slate-900 dark:lg:text-white lg:group-hover:text-primary"},{default:M(()=>[y(a(s.$t("Contact")),1)]),_:1},8,["href"])],2)):m("",!0)])])]),e("div",Ie,[e("div",Be,[d(b,{class:"mt-1 rtl:ml-2 language_menu_wrapper",placement:"bottom-end"},{default:M(()=>[e("div",Pe,[e("div",Ue,[d(x,{class:"w-5 h-5",name:l.selected_language.code},null,8,["name"]),t[7]||(t[7]=y()),e("span",Ne,a(l.selected_language.name),1)]),d(x,{class:"w-5 h-5 drop-down-caret-icon fill-slate-900 dark:fill-white",name:"cheveron-down"})])]),dropdown:M(()=>[e("div",Ae,[(i(!0),n(K,null,J(l.languages_except_selected,f=>(i(),n("div",{key:f.code,class:"flex gap-2 cursor-pointer px-3 py-2 hover:bg-indigo-500 hover:text-white",onClick:w=>l.updateLanguage(f.code)},[d(x,{class:"w-5 h-5",name:f.code},null,8,["name"]),t[8]||(t[8]=y()),e("span",ze,a(f.name),1)],8,Oe))),128))])]),_:1})]),s.$page.props.auth&&s.$page.props.auth.user?(i(),n("div",Re,[e("div",De,[d(b,{class:"mt-1 select_user",placement:"bottom-end"},{default:M(()=>{var f,w,u,c,p,I,U,N,B,R;return[e("div",He,[e("div",Ve,[(w=(f=s.$page.props.auth)==null?void 0:f.user)!=null&&w.photo?(i(),n("img",{key:0,class:"user_photo w-8 h-8",alt:((c=(u=s.$page.props.auth)==null?void 0:u.user)==null?void 0:c.first_name)||"User",src:(I=(p=s.$page.props.auth)==null?void 0:p.user)==null?void 0:I.photo},null,8,qe)):(i(),n("img",Ke)),e("span",Je,a(((N=(U=s.$page.props.auth)==null?void 0:U.user)==null?void 0:N.first_name)||"User"),1),e("span",We,a(((R=(B=s.$page.props.auth)==null?void 0:B.user)==null?void 0:R.last_name)||""),1)]),d(x,{class:"w-5 h-5 drop-down-caret-icon fill-slate-900 dark:fill-white",name:"cheveron-down"})])]}),dropdown:M(()=>[e("div",Ge,[d(r,{class:"block px-6 py-2 hover:bg-indigo-500 hover:text-white",href:s.route("dashboard")},{default:M(()=>[y(a(s.$t("Dashboard")),1)]),_:1},8,["href"]),d(r,{class:"block px-6 py-2 hover:bg-indigo-500 hover:text-white",href:s.route("tickets")},{default:M(()=>[y(a(s.$t("Tickets")),1)]),_:1},8,["href"]),d(r,{class:"block px-6 py-2 hover:bg-indigo-500 hover:text-white",href:s.route("users.edit.profile")},{default:M(()=>[y(a(s.$t("Edit Profile")),1)]),_:1},8,["href"]),d(j)])]),_:1})])])):(i(),n("div",Qe,[e("a",{href:s.route("login"),class:"signUpBtn rounded-lg bg-primary py-3 px-6 text-base font-medium text-white duration-300 ease-in-out hover:bg-primary-600"},a(s.$t("Login")),9,Xe)]))])])])])])}const Ze=q(Ce,[["render",Ye]]),et={components:{Logo:V,LoadingButton:ue,Link:Y,Star:ke,ArrowRight:we,Mail:xe,Send:ye,Facebook:_e,Twitter:be,Linkedin:ve,Instagram:fe,ExternalLink:pe,Headphones:me,FileText:he,BarChart3:ge},props:{footer:Object},data(){return{footer_content:this.footer?JSON.parse(this.footer.html):[],footer_text:this.footer?JSON.parse(this.footer.html).text:"Start working with HelpDesk that can provide everything you need to generate awareness, drive traffic, connect.",form:this.$inertia.form({email:""}),enable_option:{}}},methods:{subscribe(){this.form.post(this.route("subscribe.news")),this.form.email=""}},created(){this.$page.props.enable_options&&JSON.parse(this.$page.props.enable_options.value).forEach(t=>{this.enable_option[t.slug]=!!t.value})}},tt={class:"relative overflow-hidden"},st={class:"relative z-10"},ot={class:"py-16 lg:py-20"},rt={class:"container"},at={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12"},lt={class:"lg:col-span-1"},nt={class:"mb-8"},it=["innerHTML"],dt={class:"space-y-4"},ct={class:"flex items-center gap-3"},ut={href:"#",class:"group w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl flex items-center justify-center hover:from-blue-700 hover:to-blue-800 transition-all duration-300 hover:scale-110 hover:shadow-xl"},gt={href:"#",class:"group w-12 h-12 bg-gradient-to-br from-sky-500 to-sky-600 rounded-2xl flex items-center justify-center hover:from-sky-600 hover:to-sky-700 transition-all duration-300 hover:scale-110 hover:shadow-xl"},ht={href:"#",class:"group w-12 h-12 bg-gradient-to-br from-blue-700 to-blue-800 rounded-2xl flex items-center justify-center hover:from-blue-800 hover:to-blue-900 transition-all duration-300 hover:scale-110 hover:shadow-xl"},mt={href:"#",class:"group w-12 h-12 bg-gradient-to-br from-pink-500 to-pink-600 rounded-2xl flex items-center justify-center hover:from-pink-600 hover:to-pink-700 transition-all duration-300 hover:scale-110 hover:shadow-xl"},pt={class:"text-2xl font-bold text-white mb-8 flex items-center gap-3"},ft={class:"space-y-4"},vt={key:0},bt=["href"],_t={class:"text-lg"},yt={key:1},xt=["href"],wt={class:"text-lg"},kt={key:2},$t=["href"],Ct={class:"text-lg"},St={class:"text-2xl font-bold text-white mb-8 flex items-center gap-3"},Mt={class:"space-y-4"},Tt={key:0},Lt=["href"],Et={class:"text-lg"},Ft={key:1},jt=["href"],It={class:"text-lg"},Bt={key:2},Pt=["href"],Ut={class:"text-lg"},Nt={key:0},At={class:"text-2xl font-bold text-white mb-8 flex items-center gap-3"},Ot={class:"text-slate-300 mb-8 text-lg"},zt={class:"relative group"},Rt={class:"relative"},Dt={class:"border-t border-white/10 bg-gradient-to-r from-slate-900/50 to-slate-800/50",style:{"backdrop-filter":"blur(20px)"}},Ht={class:"container py-8"},Vt={class:"flex flex-col lg:flex-row items-center justify-between gap-8"},qt={class:"text-center lg:text-left"},Kt=["innerHTML"],Jt={class:"flex items-center gap-8"},Wt={href:"#",class:"group text-slate-400 hover:text-white transition-all duration-300 flex items-center gap-2"},Gt={href:"#",class:"group text-slate-400 hover:text-white transition-all duration-300 flex items-center gap-2"},Qt={href:"#",class:"group text-slate-400 hover:text-white transition-all duration-300 flex items-center gap-2"};function Xt(s,t,v,_,o,l){const C=$("Logo"),r=$("Link"),x=$("Facebook"),b=$("Twitter"),j=$("Linkedin"),f=$("Instagram"),w=$("ArrowRight"),u=$("Mail"),c=$("Send"),p=$("loading-button"),I=$("Headphones"),U=$("FileText"),N=$("BarChart3");return i(),n("footer",tt,[t[17]||(t[17]=se('<div class="absolute inset-0"><div class="absolute inset-0 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900"></div><div class="absolute inset-0 bg-gradient-to-br from-primary-600/15 via-transparent to-blue-600/15 animate-pulse"></div><div class="absolute inset-0 opacity-30"><div class="absolute inset-0 bg-grid-pattern bg-center bg-repeat animate-pulse" style="background-image:url(&#39;/images/patterns/grid.svg&#39;);mask-image:radial-gradient(ellipse_at_center,white,transparent_70%);animation-duration:4s;"></div></div><div class="absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-br from-primary-500/20 to-blue-500/10 rounded-full blur-3xl animate-pulse"></div><div class="absolute top-1/3 right-1/4 w-80 h-80 bg-gradient-to-br from-purple-500/15 to-pink-500/10 rounded-full blur-3xl animate-pulse delay-1000"></div><div class="absolute bottom-1/4 left-1/3 w-72 h-72 bg-gradient-to-br from-cyan-500/20 to-blue-500/15 rounded-full blur-3xl animate-pulse delay-500"></div><div class="absolute top-20 left-20 w-2 h-2 bg-white/40 rounded-full animate-ping"></div><div class="absolute top-40 right-32 w-3 h-3 bg-primary-300/60 rounded-full animate-ping delay-1000"></div><div class="absolute bottom-32 left-16 w-1 h-1 bg-blue-300/80 rounded-full animate-ping delay-500"></div><div class="absolute top-60 right-1/4 w-2 h-2 bg-purple-300/50 rounded-full animate-ping delay-700"></div></div>',1)),e("div",st,[e("div",ot,[e("div",rt,[e("div",at,[e("div",lt,[e("div",nt,[d(r,{href:s.route("home"),class:"inline-block mb-8 group"},{default:M(()=>[d(C,{class:"help-desk-logo group-hover:scale-105 transition-transform duration-300"})]),_:1},8,["href"]),e("p",{class:"text-slate-300 leading-relaxed mb-8 text-lg",innerHTML:s.$t(o.footer_text)},null,8,it),e("div",dt,[t[2]||(t[2]=e("h5",{class:"text-white font-semibold mb-4"},"Follow Us",-1)),e("div",ct,[e("a",ut,[d(x,{class:"w-6 h-6 text-white group-hover:scale-110 transition-transform duration-300"})]),e("a",gt,[d(b,{class:"w-6 h-6 text-white group-hover:scale-110 transition-transform duration-300"})]),e("a",ht,[d(j,{class:"w-6 h-6 text-white group-hover:scale-110 transition-transform duration-300"})]),e("a",mt,[d(f,{class:"w-6 h-6 text-white group-hover:scale-110 transition-transform duration-300"})])])])])]),e("div",null,[e("h4",pt,[t[3]||(t[3]=e("div",{class:"w-2 h-8 bg-gradient-to-b from-primary-500 to-primary-600 rounded-full"},null,-1)),y(" "+a(s.$t("Company")),1)]),e("ul",ft,[this.enable_option&&this.enable_option.show_login?(i(),n("li",vt,[e("a",{href:s.route("login"),class:"group text-slate-300 hover:text-white transition-all duration-300 flex items-center gap-3 py-2"},[t[4]||(t[4]=e("div",{class:"w-1 h-1 bg-primary-400 rounded-full group-hover:scale-150 transition-transform duration-300"},null,-1)),e("span",_t,a(s.$t("Login")),1),d(w,{class:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:translate-x-1"})],8,bt)])):m("",!0),this.enable_option&&this.enable_option.show_login?(i(),n("li",yt,[e("a",{href:s.route("register"),class:"group text-slate-300 hover:text-white transition-all duration-300 flex items-center gap-3 py-2"},[t[5]||(t[5]=e("div",{class:"w-1 h-1 bg-primary-400 rounded-full group-hover:scale-150 transition-transform duration-300"},null,-1)),e("span",wt,a(s.$t("Register")),1),d(w,{class:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:translate-x-1"})],8,xt)])):m("",!0),this.enable_option&&this.enable_option.blog?(i(),n("li",kt,[e("a",{href:s.route("blog"),class:"group text-slate-300 hover:text-white transition-all duration-300 flex items-center gap-3 py-2"},[t[6]||(t[6]=e("div",{class:"w-1 h-1 bg-primary-400 rounded-full group-hover:scale-150 transition-transform duration-300"},null,-1)),e("span",Ct,a(s.$t("Blog")),1),d(w,{class:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:translate-x-1"})],8,$t)])):m("",!0)])]),e("div",null,[e("h4",St,[t[7]||(t[7]=e("div",{class:"w-2 h-8 bg-gradient-to-b from-blue-500 to-blue-600 rounded-full"},null,-1)),y(" "+a(s.$t("Useful Links")),1)]),e("ul",Mt,[this.enable_option&&this.enable_option.terms_of_services?(i(),n("li",Tt,[e("a",{href:s.route("terms_service"),class:"group text-slate-300 hover:text-white transition-all duration-300 flex items-center gap-3 py-2"},[t[8]||(t[8]=e("div",{class:"w-1 h-1 bg-blue-400 rounded-full group-hover:scale-150 transition-transform duration-300"},null,-1)),e("span",Et,a(s.$t("Terms of Services")),1),d(w,{class:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:translate-x-1"})],8,Lt)])):m("",!0),this.enable_option&&this.enable_option.privacy_policy?(i(),n("li",Ft,[e("a",{href:s.route("privacy"),class:"group text-slate-300 hover:text-white transition-all duration-300 flex items-center gap-3 py-2"},[t[9]||(t[9]=e("div",{class:"w-1 h-1 bg-blue-400 rounded-full group-hover:scale-150 transition-transform duration-300"},null,-1)),e("span",It,a(s.$t("Privacy Policy")),1),d(w,{class:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:translate-x-1"})],8,jt)])):m("",!0),this.enable_option&&this.enable_option.kb?(i(),n("li",Bt,[e("a",{href:s.route("kb"),class:"group text-slate-300 hover:text-white transition-all duration-300 flex items-center gap-3 py-2"},[t[10]||(t[10]=e("div",{class:"w-1 h-1 bg-blue-400 rounded-full group-hover:scale-150 transition-transform duration-300"},null,-1)),e("span",Ut,a(s.$t("Knowledge Base")),1),d(w,{class:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:translate-x-1"})],8,Pt)])):m("",!0)])]),this.enable_option&&this.enable_option.newsletter?(i(),n("div",Nt,[e("h4",At,[t[11]||(t[11]=e("div",{class:"w-2 h-8 bg-gradient-to-b from-green-500 to-green-600 rounded-full"},null,-1)),y(" "+a(s.$t("Newsletter")),1)]),e("p",Ot,a(s.$t("Join our newsletter service.")),1),e("form",{onSubmit:t[1]||(t[1]=Z((...B)=>l.subscribe&&l.subscribe(...B),["prevent"])),class:"space-y-6"},[e("div",zt,[t[12]||(t[12]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-primary-500/20 to-blue-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)),e("div",Rt,[d(u,{class:"w-6 h-6 absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 group-hover:text-primary-400 transition-colors duration-300"}),A(e("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=B=>o.form.email=B),class:"w-full pl-14 pr-4 py-4 bg-white/10 border border-white/20 rounded-2xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300 text-lg",placeholder:"Enter your email address",required:"",style:{"backdrop-filter":"blur(20px)"}},null,512),[[z,o.form.email]])])]),d(p,{loading:o.form.processing,class:"w-full group relative inline-flex items-center justify-center gap-3 px-8 py-4 bg-gradient-to-r from-green-600 to-green-700 text-white font-bold rounded-2xl hover:from-green-700 hover:to-green-800 transition-all duration-300 hover:scale-105 hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-green-300 text-lg",type:"submit"},{default:M(()=>[d(c,{class:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300"}),e("span",null,a(s.$t("Subscribe Now")),1)]),_:1},8,["loading"]),t[13]||(t[13]=e("p",{class:"text-xs text-slate-400 text-center"}," By subscribing, you agree to our privacy policy and terms of service. ",-1))],32)])):m("",!0)])])]),e("div",Dt,[e("div",Ht,[e("div",Vt,[e("div",qt,[e("p",{class:"text-slate-400 text-lg",innerHTML:s.$t(o.footer_content.copyright)},null,8,Kt)]),e("div",Jt,[e("a",Wt,[d(I,{class:"w-4 h-4 group-hover:scale-110 transition-transform duration-300"}),t[14]||(t[14]=e("span",{class:"text-sm font-medium"},"Support",-1))]),e("a",Gt,[d(U,{class:"w-4 h-4 group-hover:scale-110 transition-transform duration-300"}),t[15]||(t[15]=e("span",{class:"text-sm font-medium"},"Documentation",-1))]),e("a",Qt,[d(N,{class:"w-4 h-4 group-hover:scale-110 transition-transform duration-300"}),t[16]||(t[16]=e("span",{class:"text-sm font-medium"},"Status",-1))])])])])])])])}const Yt=q(et,[["render",Xt]]),Zt={components:{Logo:V},props:{messages:Array,isTyping:Boolean,typingUser:{type:Object,default:null},currentUserId:{type:[Number,String],default:null}},emits:["send-message","close","typing"],data(){return{message:"",uploadedFiles:[],isMinimized:!1}},methods:{getInitials(s){return s?s.contact_id?"C":"A":"?"},getTypingMessage(){return this.typingUser?this.typingUser.contact_id?this.$t("Customer is typing..."):this.typingUser.user_id?this.$t("Agent is typing..."):this.$t("Someone is typing..."):this.$t("Someone is typing...")},formatMessage(s){return s?typeof s=="object"?s.text?s.text:s.content?s.content:s.message?s.message:JSON.stringify(s):String(s||"").replace(/\n/g,"<br>"):""},formatTime(s){return s?te(s).format("h:mm A"):""},handleKeyDown(s){s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),this.sendMessage())},handleTyping(){this.$emit("typing",{isTyping:!0,user:{id:this.currentUserId,contact_id:null,user_id:this.currentUserId}})},sendMessage(){(this.message.trim()||this.uploadedFiles.length)&&(this.$emit("send-message",{message:this.message,files:this.uploadedFiles}),this.message="",this.uploadedFiles=[])},triggerFileUpload(){this.$refs.fileInput.click()},handleFileUpload(s){const t=Array.from(s.target.files);this.uploadedFiles.push(...t)},removeFile(s){this.uploadedFiles.splice(s,1)},toggleEmojiPicker(){const s=["ðŸ˜€","ðŸ˜ƒ","ðŸ˜„","ðŸ˜","ðŸ˜†","ðŸ˜…","ðŸ˜‚","ðŸ¤£","ðŸ˜Š","ðŸ˜‡","ðŸ™‚","ðŸ™ƒ","ðŸ˜‰","ðŸ˜Œ","ðŸ˜","ðŸ¥°","ðŸ˜˜","ðŸ˜—","ðŸ˜™","ðŸ˜š","ðŸ˜‹","ðŸ˜›","ðŸ˜","ðŸ˜œ","ðŸ¤ª","ðŸ¤¨","ðŸ§","ðŸ¤“","ðŸ˜Ž","ðŸ¤©","ðŸ¥³","ðŸ˜","ðŸ˜’","ðŸ˜ž","ðŸ˜”","ðŸ˜Ÿ","ðŸ˜•","ðŸ™","â˜¹ï¸","ðŸ˜£","ðŸ˜–","ðŸ˜«","ðŸ˜©","ðŸ¥º","ðŸ˜¢","ðŸ˜­","ðŸ˜¤","ðŸ˜ ","ðŸ˜¡","ðŸ¤¬","ðŸ¤¯","ðŸ˜³","ðŸ¥µ","ðŸ¥¶","ðŸ˜±","ðŸ˜¨","ðŸ˜°","ðŸ˜¥","ðŸ˜“","ðŸ¤—","ðŸ¤”","ðŸ¤­","ðŸ¤«","ðŸ¤¥","ðŸ˜¶","ðŸ˜","ðŸ˜‘","ðŸ˜¬","ðŸ™„","ðŸ˜¯","ðŸ˜¦","ðŸ˜§","ðŸ˜®","ðŸ˜²","ðŸ¥±","ðŸ˜´","ðŸ¤¤","ðŸ˜ª","ðŸ˜µ","ðŸ¤","ðŸ¥´","ðŸ¤¢","ðŸ¤®","ðŸ¤§","ðŸ˜·","ðŸ¤’","ðŸ¤•","ðŸ¤‘","ðŸ¤ ","ðŸ˜ˆ","ðŸ‘¿","ðŸ‘¹","ðŸ‘º","ðŸ¤¡","ðŸ’©","ðŸ‘»","ðŸ’€","â˜ ï¸","ðŸ‘½","ðŸ‘¾","ðŸ¤–","ðŸŽƒ","ðŸ˜º","ðŸ˜¸","ðŸ˜¹","ðŸ˜»","ðŸ˜¼","ðŸ˜½","ðŸ™€","ðŸ˜¿","ðŸ˜¾"],t=s[Math.floor(Math.random()*s.length)];this.message+=t},toggleMinimize(){this.isMinimized=!this.isMinimized},handleScroll(){this.$nextTick(()=>{const s=this.$refs.messagesContainer;s&&(s.scrollTop=s.scrollHeight)})}},watch:{messages:{handler(){this.handleScroll()},deep:!0}}},es={class:"w-80 h-96 bg-white rounded-lg shadow-2xl flex flex-col"},ts={class:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-t-lg px-4 py-3 flex items-center justify-between"},ss={class:"flex items-center"},os={class:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center mr-3"},rs={class:"text-white font-semibold text-sm"},as={class:"flex items-center"},ls={class:"text-blue-100 text-xs"},ns={class:"flex items-center space-x-2"},is={key:0,class:"text-center py-8"},ds={class:"text-gray-700 font-semibold mb-2"},cs={class:"text-gray-500 text-sm"},us={class:"flex-shrink-0"},gs=["innerHTML"],hs={class:"text-xs"},ms={key:0,class:"ml-2"},ps={key:0,class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},fs={key:1,class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},vs={key:1,class:"flex justify-start"},bs={class:"flex items-center space-x-2 bg-white px-4 py-2 rounded-lg shadow-sm"},_s={class:"text-xs text-gray-500"},ys={class:"border-t bg-white rounded-b-lg"},xs={key:0,class:"px-4 py-2 border-b bg-gray-50"},ws={class:"flex items-center space-x-2"},ks={class:"text-xs text-gray-600"},$s=["onClick"],Cs={class:"flex items-end p-4 space-x-2"},Ss={class:"flex-1 relative"},Ms=["placeholder"],Ts=["disabled"];function Ls(s,t,v,_,o,l){const C=$("Logo");return i(),n("div",es,[e("div",ts,[e("div",ss,[e("div",os,[d(C,{class:"w-5 h-5 fill-white"})]),e("div",null,[e("h3",rs,a(s.$t("Live Support")),1),e("div",as,[t[10]||(t[10]=e("div",{class:"w-2 h-2 bg-green-400 rounded-full mr-2"},null,-1)),e("span",ls,a(s.$t("Online now")),1)])])]),e("div",ns,[e("button",{onClick:t[0]||(t[0]=(...r)=>l.toggleMinimize&&l.toggleMinimize(...r)),class:"text-blue-100 hover:text-white transition-colors"},[...t[11]||(t[11]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])]),e("button",{onClick:t[1]||(t[1]=r=>s.$emit("close")),class:"text-blue-100 hover:text-white transition-colors"},[...t[12]||(t[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",{ref:"messagesContainer",class:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50",onScroll:t[2]||(t[2]=(...r)=>l.handleScroll&&l.handleScroll(...r))},[v.messages.length?m("",!0):(i(),n("div",is,[t[13]||(t[13]=e("div",{class:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1)),e("h4",ds,a(s.$t("Welcome to our support!")),1),e("p",cs,a(s.$t("We're here to help. Send us a message to get started.")),1)])),(i(!0),n(K,null,J(v.messages,r=>(i(),n("div",{key:r.id,class:S(["flex",r.contact_id?"justify-start":"justify-end"])},[e("div",{class:S(["flex max-w-xs lg:max-w-md",r.contact_id?"flex-row":"flex-row-reverse"])},[e("div",us,[e("div",{class:S(["w-8 h-8 rounded-full flex items-center justify-center",r.contact_id?"bg-gray-300":"bg-blue-600"])},[e("span",{class:S(["text-xs font-semibold",r.contact_id?"text-gray-600":"text-white"])},a(l.getInitials(r)),3)],2)]),e("div",{class:S(["ml-2 mr-2",r.contact_id?"ml-2":"mr-2"])},[e("div",{class:S(["px-4 py-2 rounded-lg",r.contact_id?"bg-white shadow-sm":"bg-blue-600 text-white"])},[e("div",{class:"text-sm",innerHTML:l.formatMessage(r.message)},null,8,gs),e("div",{class:S(["flex items-center mt-1",r.contact_id?"text-gray-500":"text-blue-100"])},[e("span",hs,a(l.formatTime(r.created_at)),1),r.contact_id?m("",!0):(i(),n("div",ms,[r.status==="sent"?(i(),n("svg",ps,[...t[14]||(t[14]=[e("path",{d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"},null,-1)])])):r.status==="delivered"?(i(),n("svg",fs,[...t[15]||(t[15]=[e("path",{d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"},null,-1)])])):m("",!0)]))],2)],2)],2)],2)],2))),128)),v.isTyping&&v.typingUser&&v.typingUser.id!==v.currentUserId?(i(),n("div",vs,[e("div",bs,[t[16]||(t[16]=e("div",{class:"flex space-x-1"},[e("div",{class:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e("div",{class:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{"animation-delay":"0.1s"}}),e("div",{class:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{"animation-delay":"0.2s"}})],-1)),e("span",_s,a(l.getTypingMessage()),1)])])):m("",!0)],544),e("div",ys,[o.uploadedFiles.length?(i(),n("div",xs,[e("div",ws,[e("span",ks,a(s.$t("Attachments:")),1),(i(!0),n(K,null,J(o.uploadedFiles,(r,x)=>(i(),n("div",{key:x,class:"flex items-center space-x-1 bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs"},[e("span",null,a(r.name),1),e("button",{onClick:b=>l.removeFile(x),class:"text-blue-600 hover:text-blue-800"},[...t[17]||(t[17]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,$s)]))),128))])])):m("",!0),e("div",Cs,[e("button",{onClick:t[3]||(t[3]=(...r)=>l.triggerFileUpload&&l.triggerFileUpload(...r)),class:"text-gray-400 hover:text-gray-600 transition-colors"},[...t[18]||(t[18]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1)])]),e("button",{onClick:t[4]||(t[4]=(...r)=>l.toggleEmojiPicker&&l.toggleEmojiPicker(...r)),class:"text-gray-400 hover:text-gray-600 transition-colors"},[...t[19]||(t[19]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])]),e("div",Ss,[A(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=r=>o.message=r),onKeydown:t[6]||(t[6]=(...r)=>l.handleKeyDown&&l.handleKeyDown(...r)),onInput:t[7]||(t[7]=(...r)=>l.handleTyping&&l.handleTyping(...r)),placeholder:s.$t("Type your message..."),class:"w-full px-3 py-2 border border-gray-300 rounded-lg resize-none focus:outline-none focus:border-blue-500 text-sm",rows:"1",ref:"messageInput"},null,40,Ms),[[z,o.message]])]),e("button",{onClick:t[8]||(t[8]=(...r)=>l.sendMessage&&l.sendMessage(...r)),disabled:!o.message.trim()&&!o.uploadedFiles.length,class:S(["p-2 rounded-lg transition-all duration-200",o.message.trim()||o.uploadedFiles.length?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-400 cursor-not-allowed"])},[...t[20]||(t[20]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1)])],10,Ts)]),e("input",{ref:"fileInput",type:"file",multiple:"",accept:"image/*,.pdf,.doc,.docx,.txt",onChange:t[9]||(t[9]=(...r)=>l.handleFileUpload&&l.handleFileUpload(...r)),class:"hidden"},null,544)])])}const Es=q(Zt,[["render",Ls]]),Fs={components:{Logo:V},props:{onSubmit:Function},data(){return{form:{first_name:"",last_name:"",email:"",subject:""},errors:{},isSubmitting:!1,submitError:null}},computed:{isFormValid(){return this.form.first_name.trim()&&this.form.last_name.trim()&&this.form.email.trim()&&this.isValidEmail(this.form.email)&&!this.isSubmitting}},methods:{validateField(s){switch(this.errors[s]="",s){case"first_name":this.form.first_name.trim()?this.form.first_name.trim().length<2&&(this.errors.first_name=this.$t("First name must be at least 2 characters")):this.errors.first_name=this.$t("First name is required");break;case"last_name":this.form.last_name.trim()?this.form.last_name.trim().length<2&&(this.errors.last_name=this.$t("Last name must be at least 2 characters")):this.errors.last_name=this.$t("Last name is required");break;case"email":this.form.email.trim()?this.isValidEmail(this.form.email)||(this.errors.email=this.$t("Please enter a valid email address")):this.errors.email=this.$t("Email is required");break}},isValidEmail(s){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)},async handleSubmit(){if(Object.keys(this.form).forEach(s=>{s!=="subject"&&this.validateField(s)}),!!this.isFormValid){this.isSubmitting=!0,this.submitError=null;try{await this.onSubmit(this.form)}catch(s){this.submitError=s.message||this.$t("Failed to start chat. Please try again.")}finally{this.isSubmitting=!1}}}}},js={class:"w-80 h-auto bg-white rounded-lg shadow-2xl"},Is={class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 rounded-t-lg flex flex-col items-center pt-4 pb-2"},Bs={class:"text-sm font-medium text-blue-100 text-center px-4 mt-2"},Ps={class:"p-6"},Us={class:"grid grid-cols-2 gap-3"},Ns={class:"block text-sm font-semibold text-gray-700 mb-1",for:"first_name"},As=["placeholder","disabled"],Os={key:0,class:"text-red-500 text-xs mt-1"},zs={class:"block text-sm font-semibold text-gray-700 mb-1",for:"last_name"},Rs=["placeholder","disabled"],Ds={key:0,class:"text-red-500 text-xs mt-1"},Hs={class:"block text-sm font-semibold text-gray-700 mb-1",for:"email"},Vs=["placeholder","disabled"],qs={key:0,class:"text-red-500 text-xs mt-1"},Ks={class:"block text-sm font-semibold text-gray-700 mb-1",for:"subject"},Js={class:"text-gray-400 text-xs"},Ws=["disabled"],Gs={value:""},Qs={value:"general"},Xs={value:"technical"},Ys={value:"billing"},Zs={value:"feature"},eo={value:"bug"},to={key:0,class:"bg-red-50 border border-red-200 rounded-md p-3"},so={class:"text-red-700 text-sm"},oo=["disabled"],ro={key:0,class:"flex items-center"},ao={key:1,class:"flex items-center"},lo={class:"text-xs text-gray-500 text-center"},no={href:"/privacy",class:"text-blue-600 hover:underline"};function io(s,t,v,_,o,l){const C=$("Logo");return i(),n("div",js,[e("nav",Is,[d(C,{class:"block mx-auto max-w-xs fill-white",height:"40"}),e("p",Bs,a(s.$t("Let us know who you are, and let's get talking.")),1)]),e("div",Ps,[e("form",{onSubmit:t[7]||(t[7]=Z((...r)=>l.handleSubmit&&l.handleSubmit(...r),["prevent"])),class:"space-y-4"},[e("div",Us,[e("div",null,[e("label",Ns,[y(a(s.$t("First name"))+" ",1),t[8]||(t[8]=e("span",{class:"text-red-500"},"*",-1))]),A(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>o.form.first_name=r),class:S(["w-full px-3 py-2 border rounded-md text-sm transition-colors duration-200",o.errors.first_name?"border-red-500 focus:border-red-500":"border-gray-300 focus:border-blue-500"]),id:"first_name",type:"text",placeholder:s.$t("Enter first name"),disabled:o.isSubmitting,onBlur:t[1]||(t[1]=r=>l.validateField("first_name"))},null,42,As),[[z,o.form.first_name]]),o.errors.first_name?(i(),n("p",Os,a(o.errors.first_name),1)):m("",!0)]),e("div",null,[e("label",zs,[y(a(s.$t("Last name"))+" ",1),t[9]||(t[9]=e("span",{class:"text-red-500"},"*",-1))]),A(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>o.form.last_name=r),class:S(["w-full px-3 py-2 border rounded-md text-sm transition-colors duration-200",o.errors.last_name?"border-red-500 focus:border-red-500":"border-gray-300 focus:border-blue-500"]),id:"last_name",type:"text",placeholder:s.$t("Enter last name"),disabled:o.isSubmitting,onBlur:t[3]||(t[3]=r=>l.validateField("last_name"))},null,42,Rs),[[z,o.form.last_name]]),o.errors.last_name?(i(),n("p",Ds,a(o.errors.last_name),1)):m("",!0)])]),e("div",null,[e("label",Hs,[y(a(s.$t("Email Address"))+" ",1),t[10]||(t[10]=e("span",{class:"text-red-500"},"*",-1))]),A(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>o.form.email=r),class:S(["w-full px-3 py-2 border rounded-md text-sm transition-colors duration-200",o.errors.email?"border-red-500 focus:border-red-500":"border-gray-300 focus:border-blue-500"]),id:"email",type:"email",placeholder:s.$t("Enter email address"),disabled:o.isSubmitting,onBlur:t[5]||(t[5]=r=>l.validateField("email"))},null,42,Vs),[[z,o.form.email]]),o.errors.email?(i(),n("p",qs,a(o.errors.email),1)):m("",!0)]),e("div",null,[e("label",Ks,[y(a(s.$t("How can we help?"))+" ",1),e("span",Js,"("+a(s.$t("Optional"))+")",1)]),A(e("select",{"onUpdate:modelValue":t[6]||(t[6]=r=>o.form.subject=r),class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:border-blue-500 focus:outline-none",disabled:o.isSubmitting},[e("option",Gs,a(s.$t("Select a topic")),1),e("option",Qs,a(s.$t("General Inquiry")),1),e("option",Xs,a(s.$t("Technical Support")),1),e("option",Ys,a(s.$t("Billing Question")),1),e("option",Zs,a(s.$t("Feature Request")),1),e("option",eo,a(s.$t("Bug Report")),1)],8,Ws),[[oe,o.form.subject]])]),o.submitError?(i(),n("div",to,[e("p",so,a(o.submitError),1)])):m("",!0),e("button",{type:"submit",disabled:o.isSubmitting||!l.isFormValid,class:S(["w-full py-2 px-4 rounded-md text-sm font-semibold transition-all duration-200 flex items-center justify-center",o.isSubmitting||!l.isFormValid?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 shadow-md hover:shadow-lg"])},[o.isSubmitting?(i(),n("div",ro,[t[11]||(t[11]=e("div",{class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"},null,-1)),y(" "+a(s.$t("Starting chat...")),1)])):(i(),n("div",ao,[t[12]||(t[12]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),y(" "+a(s.$t("Start Chat")),1)]))],10,oo),e("p",lo,[y(a(s.$t("By starting a chat, you agree to our"))+" ",1),e("a",no,a(s.$t("Privacy Policy")),1)])],32)])])}const co=q(Fs,[["render",io]]);function uo(){G();const s=F(null),t=F(!1),v=F(0),_=F(0),o=F(0),l=F(null),C=F(!1),r=F(null),x=F(null),b=F({first_name:"",last_name:"",email:""}),j=()=>{t.value=!t.value},f=async()=>{var g,E,P;if(!b.value.email||!b.value.first_name||!b.value.last_name){console.warn("Public Chat: Missing required user information"),alert("Please fill in all required fields (First Name, Last Name, Email)");return}console.log("Public Chat: Starting chat initialization...");const h={first_name:b.value.first_name,last_name:b.value.last_name,email:b.value.email,subject:b.value.subject||null,department:b.value.department||null,priority:b.value.priority||null,source:b.value.source||null};console.log("Public Chat: Sending data to backend:",h);try{const T=await H.post(route("chat.init"),h);if(T.data&&T.data.success&&T.data.conversation)s.value=T.data.conversation,_.value=s.value.id,o.value=s.value.contact_id,s.value.messages||(s.value.messages=[]),localStorage.setItem("chat_id",_.value),localStorage.setItem("contact_id",o.value),console.log("Public Chat: Chat initialized successfully",s.value),t.value=!0,setTimeout(()=>{U()},1e3);else throw new Error(((g=T.data)==null?void 0:g.message)||"Failed to initialize chat")}catch(T){if(console.error("Public Chat: Failed to initialize chat:",T),((E=T.response)==null?void 0:E.status)===422){const D=T.response.data.errors,L=Object.values(D)[0];alert(L?L[0]:"Please check your information and try again.")}else((P=T.response)==null?void 0:P.status)===500?alert("Server error. Please try again later."):T.code==="NETWORK_ERROR"?alert("Network error. Please check your connection."):alert("Failed to start chat. Please try again.")}},w=h=>{b.value=h,f()},u=h=>{h&&h.isTyping&&c()},c=h=>{console.log("Public Chat: Typing indicator disabled (direct Echo implementation)")},p=async h=>{var E,P,T,D;if(!h.message||!h.message.trim()){console.warn("Public Chat: Empty message, not sending");return}const g={message:h.message,contact_id:s.value.contact_id,conversation_id:s.value.id};try{const L=await H.post(route("chat.send_message"),g);if(L.data&&L.data.success&&L.data.message)console.log("Public Chat: Message sent successfully"),W(()=>{const O=document.querySelector(".chat-messages");O&&(O.scrollTop=O.scrollHeight)});else throw new Error(((E=L.data)==null?void 0:E.message)||"Failed to send message")}catch(L){if(console.error("Public Chat: Failed to send message:",L),((P=L.response)==null?void 0:P.status)===422){const O=L.response.data.errors,X=Object.values(O)[0];alert(X?X[0]:"Please check your message and try again.")}else((T=L.response)==null?void 0:T.status)===429?alert("Please wait a moment before sending another message."):((D=L.response)==null?void 0:D.status)===500?alert("Server error. Please try again later."):L.code==="NETWORK_ERROR"?alert("Network error. Please check your connection."):alert("Failed to send message. Please try again.")}},I=async()=>{const h={message:l.value,contact_id:s.value.contact_id,conversation_id:s.value.id};l.value="";try{const g=await H.post(route("chat.send_message"),h);g.data&&g.data.success&&g.data.message&&s.value.messages.push(g.data.message)}catch(g){console.error("Error sending message:",g)}},U=()=>{if(!_.value||!window.Echo){console.warn("Public Chat: Cannot watch messages - missing chatId or Echo");return}try{const h=window.Echo.channel(`chat.${_.value}`);h.listen("NewChatMessage",g=>{if(g&&g.chatMessage){const E={id:g.chatMessage.id,message:g.chatMessage.message||"",conversation_id:g.chatMessage.conversation_id,user_id:g.chatMessage.user_id,contact_id:g.chatMessage.contact_id,created_at:g.chatMessage.created_at,updated_at:g.chatMessage.updated_at,user:g.chatMessage.user,contact:g.chatMessage.contact};s.value.messages||(s.value.messages=[]),s.value.messages.push(E),W(()=>{const P=document.querySelector(".chat-messages");P&&(P.scrollTop=P.scrollHeight)})}}),h.listen("TypingIndicator",g=>{g&&g.user_id&&g.user_id!==o.value&&N(g)})}catch(h){console.error("Public Chat: Error setting up message watching:",h)}},N=h=>{h&&h.user_id&&h.user_id!==o.value&&(C.value=!0,r.value=h.user,x.value&&clearTimeout(x.value),x.value=setTimeout(()=>{C.value=!1,r.value=null},3e3))},B=()=>{const h=localStorage.getItem("chat_id"),g=localStorage.getItem("contact_id");h&&g&&(_.value=parseInt(h),o.value=parseInt(g),H.get(route("chat.conversation",[_.value,o.value])).then(E=>{E.data&&E.data.success&&(s.value=E.data.conversation,t.value=!0,U())}).catch(E=>{console.error("Failed to load existing chat:",E),localStorage.removeItem("chat_id"),localStorage.removeItem("contact_id")}))},R=()=>{s.value=null,t.value=!1,_.value=0,o.value=0,l.value=null,C.value=!1,r.value=null,localStorage.removeItem("chat_id"),localStorage.removeItem("contact_id")};return Q(()=>{B()}),ee(()=>{x.value&&clearTimeout(x.value)}),{currentChat:s,openChat:t,unreadCount:v,chatId:_,contactId:o,message:l,isTyping:C,typingUser:r,initUser:b,toggleChat:j,startChat:f,handleStartChat:w,handleTyping:u,handleSendMessage:p,sendMessage:I,watchMessage:U,loadExistingChat:B,clearChat:R}}function go(){const s=G(),t=F("light"),v=F("ltr"),_=F({color_picker:!1}),o=()=>{const c=document.getElementById("back-to-top");c!=null&&(document.body.scrollTop>500||document.documentElement.scrollTop>500?(c.classList.add("block"),c.classList.remove("hidden")):(c.classList.add("hidden"),c.classList.remove("block")))},l=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},C=()=>{t.value=t.value==="light"?"dark":"light",localStorage.setItem("current_mode",t.value),r()},r=()=>{const c=document.getElementsByTagName("html")[0];c.className=t.value},x=()=>{const c=document.getElementsByTagName("html")[0];c.dir=v.value},b=c=>{c.preventDefault();const p=c.currentTarget;p.getAttribute("data-expend")!=="yes"?(p.setAttribute("style","right:-10px !important"),p.setAttribute("data-expend","yes")):(p.setAttribute("style","right:-154px !important"),p.setAttribute("data-expend","no"))},j=c=>{c.preventDefault();const p=c.currentTarget.getAttribute("data-scheme"),I=["scheme-indigo","scheme-orange","scheme-amber","scheme-yellow","scheme-lime","scheme-green","scheme-cyan","scheme-sky","scheme-violet","scheme-purple","scheme-fuchsia","scheme-pink","scheme-rose"];document.getElementsByTagName("body")[0].classList.remove(...I),document.getElementsByTagName("body")[0].classList.add(p),localStorage.setItem("scheme",p)},f=()=>{if(localStorage.getItem("scheme")){const c=["scheme-indigo","scheme-orange","scheme-amber","scheme-yellow","scheme-lime","scheme-green","scheme-cyan","scheme-sky","scheme-violet","scheme-purple","scheme-fuchsia","scheme-pink","scheme-rose"];document.getElementsByTagName("body")[0].classList.remove(...c),document.getElementsByTagName("body")[0].classList.add(localStorage.getItem("scheme"))}},w=()=>{f(),localStorage.getItem("current_dir")&&(v.value=localStorage.getItem("current_dir"),x()),s.props.enable_options&&JSON.parse(s.props.enable_options.value).forEach(p=>{_.value[p.slug]=!!p.value})},u=()=>{window.onscroll=o};return Q(()=>{w(),u()}),re(()=>{f()}),{currentMode:t,currentDir:v,enableOption:_,scrollFunction:o,topFunction:l,switchMode:C,changeTheme:r,changeDir:x,actionColorScheme:b,setColorScheme:j,setColorSchemeFromStorage:f,initializeTheme:w,setupScrollListener:u}}const ho=["dir"],mo={key:0,class:"chat_public"},po={key:0,class:"chat__box"},fo={class:"flex justify-center items-center"},vo={key:1,class:"init_chat"},bo={class:"flex justify-center items-center"},_o={key:0,class:"notification_badge"},yo={key:1,class:"chat__icn hover:scale-125 duration-300"},xo={key:2,class:"chat__close hover:scale-125 duration-300"},Fo={__name:"Layout",props:{title:String,footer:Object},setup(s){G();const{currentChat:t,openChat:v,unreadCount:_,chatId:o,contactId:l,toggleChat:C,handleStartChat:r,handleSendMessage:x}=uo(),{currentMode:b,enableOption:j,topFunction:f}=go();window.moment=te;let w=null;return Q(()=>{if(window.Echo&&o.value)try{w=window.Echo.channel(`chat.${o.value}`),w.listen("NewChatMessage",u=>{if(console.log("Public Chat: Received message via Echo:",u),u&&u.chatMessage&&typeof u.chatMessage=="object"){console.log("Public Chat: Processing message:",u.chatMessage);const c={id:u.chatMessage.id,message:u.chatMessage.message||"",conversation_id:u.chatMessage.conversation_id,user_id:u.chatMessage.user_id,contact_id:u.chatMessage.contact_id,created_at:u.chatMessage.created_at,updated_at:u.chatMessage.updated_at,user:u.chatMessage.user,contact:u.chatMessage.contact};console.log("Public Chat: Adding message to chat:",c),t.value&&!t.value.messages&&(t.value.messages=[]),t.value&&(t.value.messages.push(c),console.log("Public Chat: Total messages:",t.value.messages.length),W(()=>{const p=document.querySelector(".chat-messages");p&&(p.scrollTop=p.scrollHeight)}))}else console.warn("Public Chat: Invalid message structure received:",u)})}catch(u){console.error("Public Chat: Failed to setup Echo channel:",u)}else console.warn("Public Chat: Echo not available or chatId not set")}),ee(()=>{if(w)try{window.Echo.leave(`chat.${o.value}`),w=null}catch(u){console.error("Public Chat: Failed to leave Echo channel:",u)}}),(u,c)=>(i(),n("div",{class:S(["text-base text-black dark:text-white dark:bg-slate-900 layout_landing",k(b)]),dir:u.$page.props.dir},[d(Ze),d($e),ae(u.$slots,"default"),d(Yt,{footer:s.footer},null,8,["footer"]),e("a",{id:"back-to-top",onClick:c[0]||(c[0]=(...p)=>k(f)&&k(f)(...p)),href:"javascript:void(0)",class:"back-to-top flex fixed hidden bottom-5 right-5 left-auto z-[999] h-10 w-10 items-center justify-center rounded-md bg-primary text-white shadow-md transition duration-300 ease-in-out hover:bg-dark"},[...c[2]||(c[2]=[e("span",{class:"mt-[6px] h-3 w-3 rotate-45 border-t border-l border-white"},null,-1)])]),k(j)&&k(j).chat?(i(),n("div",mo,[k(v)&&k(t)?(i(),n("div",po,[e("div",fo,[d(Es,{messages:k(t).messages||[],"current-user-id":k(l),onSendMessage:k(x),onClose:k(C)},null,8,["messages","current-user-id","onSendMessage","onClose"])])])):m("",!0),k(v)&&!k(t)?(i(),n("div",vo,[e("div",bo,[d(co,{onSubmit:k(r)},null,8,["onSubmit"])])])):m("",!0),e("button",{class:"chat_bubble",onClick:c[1]||(c[1]=(...p)=>k(C)&&k(C)(...p))},[k(_)?(i(),n("span",_o,a(k(_)),1)):m("",!0),k(v)?m("",!0):(i(),n("span",yo,[...c[3]||(c[3]=[e("img",{src:"/images/svg/chat-logo-v2.svg",alt:"Live Chat"},null,-1)])])),k(v)?(i(),n("span",xo,[...c[4]||(c[4]=[e("img",{src:"/images/svg/close.svg",alt:"Close Chat"},null,-1)])])):m("",!0),c[5]||(c[5]=e("span",{class:"bottom_text"},"Let's talk",-1))])])):m("",!0),c[6]||(c[6]=e("span",{class:"disabled_button"},null,-1))],10,ho))}};export{Fo as _};
