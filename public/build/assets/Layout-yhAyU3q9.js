import{I as H,_ as oe,D as ne}from"./LogoutButton-oKW2oLhJ.js";import{L as le}from"./Logo-CwTRbPbO.js";import{C as V,D as h,l,u as o,F as N,t as O,A as b,m as t,z as g,M,G as k,E as _,o as i,f as y,H as W,s as ie,T as I,S as Z,J as q,V as P,y as R,e as de,n as ue}from"./vendor-LkufkiF7.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{ChevronDown as Q,Home as ce,LogOut as pe,LucideUser as ge,LucideMoon as he,LucideSun as me,ChevronRight as fe,LucideX as ve,LucideMenu as be}from"./ui-DZ0wy3Ge.js";import{F as _e}from"./FlashMessages-Bge5XBye.js";import{h as xe}from"./utils-Cv2kkzzw.js";import{g as ke,l as we}from"./app-BC8evlMS.js";const ye={components:{Icon:H,Link:V,ChevronDown:Q},data(){return{user:null,expandedMenus:[],menu_items:[{name:"Dashboard",route:"dashboard",url:"dashboard",icon:"dashboard"},{name:"Tickets",route:"tickets",url:"tickets",icon:"ticket"}],enable_option:{}}},computed:{menuGroups(){const r=[{title:"Main",items:[]},{title:"Content",items:[]},{title:"Management",items:[]},{title:"Configuration",items:[]},{title:"System",items:[]}];return this.menu_items.forEach(s=>{["Dashboard","Tickets"].includes(s.name)?r[0].items.push(s):["Chat","FAQs","Blog","Knowledge Base","Front Pages"].includes(s.name)?r[1].items.push(s):["Customers","Notes","Contacts","Organizations","Manage Users"].includes(s.name)?r[2].items.push(s):["Settings"].includes(s.name)?r[3].items.push(s):["Latest Updates"].includes(s.name)?r[4].items.push(s):r[2].items.push(s)}),r.filter(s=>s.items.length>0)}},methods:{isUrl(...r){let s=this.$page.url.substr(1);return s=s.replace("dashboard/",""),r[0]===""?s==="":r.filter(u=>s.startsWith(u)).length},toggleSubmenu(r){const s=this.expandedMenus.indexOf(r);s>-1?this.expandedMenus.splice(s,1):this.expandedMenus.push(r)},addActiveClass(r){r.currentTarget.classList.toggle("hover")}},created(){var r;try{if(this.user=(r=this.$page.props.auth)==null?void 0:r.user,!this.user){this.menu_items=[];return}const s=this.user.access||{};let u={};if(this.$page.props.enable_options&&this.$page.props.enable_options.value)try{JSON.parse(this.$page.props.enable_options.value).forEach(m=>{u[m.slug]=!!m.value})}catch(n){console.warn("MainMenu: Error parsing enable_options:",n)}const e=(n,m="read")=>s[n]&&s[n][m];u.chat&&(e("chat","read")||e("chat","update")||e("chat","create")||e("chat","delete"))&&this.menu_items.push({name:"Chat",route:"chat.index",url:"chat",icon:"chat"}),u.faq&&(e("faq","read")||e("faq","update")||e("faq","create")||e("faq","delete"))&&this.menu_items.push({name:"FAQs",route:"faqs",url:"faqs",icon:"faq"}),u.blog&&(e("blog","read")||e("blog","update")||e("blog","create")||e("blog","delete"))&&this.menu_items.push({name:"Blog",route:"posts",url:"posts",icon:"post"}),u.kb&&(e("knowledge_base","read")||e("knowledge_base","update")||e("knowledge_base","create")||e("knowledge_base","delete"))&&this.menu_items.push({name:"Knowledge Base",route:"knowledge_base",url:"knowledge_base",icon:"knowledge"}),(e("customer","read")||e("customer","update")||e("customer","create")||e("customer","delete"))&&this.menu_items.push({name:"Customers",route:"customers",url:"customers",icon:"all_users"}),u.note&&this.menu_items.push({name:"Notes",route:"notes",url:"notes",icon:"notes"}),u.contact&&(e("contact","read")||e("contact","update")||e("contact","create")||e("contact","delete"))&&this.menu_items.push({name:"Contacts",route:"contacts",url:"contacts",icon:"contact"}),u.organization&&(e("organization","read")||e("organization","update")||e("organization","create")||e("organization","delete"))&&this.menu_items.push({name:"Organizations",route:"organizations",url:"organizations",icon:"office"}),(e("user","read")||e("user","update")||e("user","create")||e("user","delete"))&&this.menu_items.push({name:"Manage Users",route:"users",url:"users",icon:"users"});const a=[];this.user.role&&this.user.role.slug==="admin"&&a.push({name:"User Roles",route:"roles",url:"settings/roles",icon:"user_role"}),(e("global","read")||e("global","update")||e("global","create")||e("global","delete"))&&a.push({name:"Global",route:"global",url:"settings/global",icon:"global_setting"}),(e("global","read")||e("global","update")||e("global","create")||e("global","delete"))&&a.push({name:"Custom fields",route:"tickets.builder",url:"settings/custom-form",icon:"form-builder"}),(e("department","read")||e("department","update")||e("department","create")||e("department","delete"))&&a.push({name:"Departments",route:"departments",url:"settings/departments",icon:"departments"}),(e("category","read")||e("category","update")||e("category","create")||e("category","delete"))&&a.push({name:"Categories",route:"categories",url:"settings/categories",icon:"category"}),(e("status","read")||e("status","update")||e("status","create")||e("status","delete"))&&a.push({name:"Status",route:"statuses",url:"settings/statuses",icon:"status"}),(e("priority","read")||e("priority","update")||e("priority","create")||e("priority","delete"))&&a.push({name:"Priorities",route:"priorities",url:"settings/priorities",icon:"priorities"}),(e("type","read")||e("type","update")||e("type","create")||e("type","delete"))&&a.push({name:"Types",route:"types",url:"settings/types",icon:"types"}),(e("language","read")||e("language","update")||e("language","create")||e("language","delete"))&&a.push({name:"Languages",route:"languages",url:"settings/languages",icon:"edit"}),(e("email_template","read")||e("email_template","update")||e("email_template","create")||e("email_template","delete"))&&a.push({name:"Email Templates",route:"templates",url:"settings/templates",icon:"email"}),(e("smtp","read")||e("smtp","update")||e("smtp","create")||e("smtp","delete"))&&a.push({name:"SMTP Mail",route:"settings.smtp",url:"settings/smtp",icon:"email_template"}),(e("pusher","read")||e("pusher","update")||e("pusher","create")||e("pusher","delete"))&&a.push({name:"Pusher Chat",route:"settings.pusher",url:"settings/pusher",icon:"chat"}),this.user.role&&this.user.role.slug==="admin"&&(a.push({name:"Email to ticket",route:"settings.piping",url:"settings/piping",icon:"ticket"}),a.push({name:"Ai Settings",route:"settings.ai",url:"settings/ai",icon:"settings"}),a.push({name:"License",route:"license.settings",url:"settings/license",icon:"user_role"}),a.push({name:"Latest Updates",route:"settings.update",url:"settings/update",icon:"archive"})),a.length&&this.menu_items.push({name:"Settings",route:"",url:"settings",icon:"settings",submenu:a}),(e("front_page","read")||e("front_page","update")||e("front_page","create")||e("front_page","delete"))&&this.menu_items.push({name:"Front Pages",route:"",url:"front_pages",icon:"gear",submenu:[{name:"Home",route:"front_pages.page",url:"front_pages/home",icon:"page",param:"home"},{name:"Contact",route:"front_pages.page",url:"front_pages/contact",icon:"page",param:"contact"},{name:"Services",route:"front_pages.page",url:"front_pages/services",icon:"page",param:"services"},{name:"Privacy Policy",route:"front_pages.page",url:"front_pages/privacy",icon:"page",param:"privacy"},{name:"Terms of services",route:"front_pages.page",url:"front_pages/terms",icon:"page",param:"terms"},{name:"Footer",route:"front_pages.page",url:"front_pages/footer",icon:"page",param:"footer"}]})}catch(s){console.error("MainMenu: Error in created hook:",s),this.menu_items=[{name:"Dashboard",route:"dashboard",url:"dashboard",icon:"dashboard"},{name:"Tickets",route:"tickets",url:"tickets",icon:"ticket"}]}}},Ce={class:"px-3 py-4 space-y-1"},Me={key:0,class:"px-3 mb-3"},$e={class:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider"},Se={class:"space-y-1"},Ue={class:"group"},Ee={key:0,class:"absolute inset-0 bg-gradient-to-r from-primary-400 to-primary-500 opacity-20 animate-pulse"},Le={class:"flex-1 relative z-10"},Te={key:1,class:"relative z-10 w-2 h-2 bg-white rounded-full shadow-sm"},Ae={key:1},Be=["onClick"],je={key:0,class:"absolute inset-0 bg-gradient-to-r from-primary-400 to-primary-500 opacity-20 animate-pulse"},ze={class:"flex items-center gap-3 relative z-10"},De={class:"flex-1 text-left"},Ne={key:0,class:"mt-2 ml-4 space-y-1 border-l-2 border-slate-200 dark:border-slate-700 pl-4 animate-in slide-in-from-top-2 duration-200"},Oe={key:0,class:"absolute inset-0 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-800/20"},Ie={class:"flex-1 relative z-10"},Fe={key:1,class:"relative z-10 w-1.5 h-1.5 bg-primary-600 dark:bg-primary-400 rounded-full"};function Ye(r,s,u,e,a,n){const m=h("icon"),x=h("Link"),w=h("ChevronDown");return o(),l("nav",Ce,[(o(!0),l(N,null,O(n.menuGroups,(p,c)=>(o(),l("div",{key:c,class:"mb-6"},[p.title?(o(),l("div",Me,[t("h3",$e,g(p.title),1)])):b("",!0),t("div",Se,[(o(!0),l(N,null,O(p.items,(d,C)=>(o(),l("div",{key:C,class:"relative"},[t("div",Ue,[d.submenu?(o(),l("div",Ae,[t("button",{onClick:f=>n.toggleSubmenu(C),class:_(["flex items-center justify-between w-full px-3 py-2.5 text-sm font-medium rounded-xl transition-all duration-200 group relative overflow-hidden",n.isUrl(d.url)?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg shadow-primary-500/25":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700/50 hover:text-slate-900 dark:hover:text-white"])},[n.isUrl(d.url)?(o(),l("div",je)):b("",!0),t("div",ze,[t("div",{class:_(["flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-lg transition-all duration-200",n.isUrl(d.url)?"bg-white/20 backdrop-blur-sm":"bg-slate-100 dark:bg-slate-700 group-hover:bg-slate-200 dark:group-hover:bg-slate-600"])},[i(m,{name:d.icon,class:_(["w-4 h-4 transition-all duration-200",n.isUrl(d.url)?"text-white":"text-slate-600 dark:text-slate-400 group-hover:text-slate-700 dark:group-hover:text-slate-300"])},null,8,["name","class"])],2),t("span",De,g(r.$t(d.name)),1)]),i(w,{class:_(["w-4 h-4 transition-all duration-200 relative z-10",[a.expandedMenus.includes(C)?"rotate-180":"",n.isUrl(d.url)?"text-white":"text-slate-500 dark:text-slate-400 group-hover:text-slate-700 dark:group-hover:text-slate-300"]])},null,8,["class"]),s[1]||(s[1]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1))],10,Be),a.expandedMenus.includes(C)?(o(),l("div",Ne,[(o(!0),l(N,null,O(d.submenu,(f,F)=>(o(),M(x,{key:F,href:f.param?r.route(f.route,f.param):r.route(f.route),class:_(["flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-all duration-200 group relative overflow-hidden",n.isUrl(f.url)?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 border border-primary-200 dark:border-primary-800":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-slate-700/50"])},{default:k(()=>[n.isUrl(f.url)?(o(),l("div",Oe)):b("",!0),t("div",{class:_(["relative flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-md transition-all duration-200",n.isUrl(f.url)?"bg-primary-200 dark:bg-primary-800":"bg-slate-100 dark:bg-slate-700 group-hover:bg-slate-200 dark:group-hover:bg-slate-600"])},[f.icon?(o(),M(m,{key:0,name:f.icon,class:_(["w-3 h-3 transition-all duration-200",n.isUrl(f.url)?"text-primary-600 dark:text-primary-400":"text-slate-500 dark:text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-300"])},null,8,["name","class"])):(o(),M(m,{key:1,name:"dash",class:_(["w-3 h-3 transition-all duration-200",n.isUrl(f.url)?"text-primary-600 dark:text-primary-400":"text-slate-500 dark:text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-300"])},null,8,["class"]))],2),t("span",Ie,g(r.$t(f.name)),1),n.isUrl(f.url)?(o(),l("div",Fe)):b("",!0),s[2]||(s[2]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1))]),_:2},1032,["href","class"]))),128))])):b("",!0)])):(o(),M(x,{key:0,href:d.route?r.route(d.route):"#",class:_(["flex items-center gap-3 px-3 py-2.5 text-sm font-medium rounded-xl transition-all duration-200 relative overflow-hidden",n.isUrl(d.url)?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg shadow-primary-500/25":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700/50 hover:text-slate-900 dark:hover:text-white"])},{default:k(()=>[n.isUrl(d.url)?(o(),l("div",Ee)):b("",!0),t("div",{class:_(["relative flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-lg transition-all duration-200",n.isUrl(d.url)?"bg-white/20 backdrop-blur-sm":"bg-slate-100 dark:bg-slate-700 group-hover:bg-slate-200 dark:group-hover:bg-slate-600"])},[i(m,{name:d.icon,class:_(["w-4 h-4 transition-all duration-200",n.isUrl(d.url)?"text-white":"text-slate-600 dark:text-slate-400 group-hover:text-slate-700 dark:group-hover:text-slate-300"])},null,8,["name","class"])],2),t("span",Le,g(r.$t(d.name)),1),n.isUrl(d.url)?(o(),l("div",Te)):b("",!0),s[0]||(s[0]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1))]),_:2},1032,["href","class"]))])]))),128))])]))),128))])}const qe=K(ye,[["render",Ye]]),Pe={key:0,class:"fixed top-4 right-4 z-50 max-w-sm"},Re={class:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded shadow-lg"},He={class:"flex items-center justify-between"},Ve={class:"flex items-center"},Xe={class:"font-semibold text-sm"},Ge={class:"text-xs"},Je=120,J=5,We={__name:"SessionTimeout",setup(r){const s=y(!1),u=y(0),e=y(null),a=y(null);W(()=>{n()}),ie(()=>{w()});const n=()=>{const p=(Je-J)*60*1e3;e.value=setTimeout(()=>{s.value=!0,u.value=J*60,m()},p)},m=()=>{a.value=setInterval(()=>{u.value--,u.value<=0&&(w(),I.visit("/login",{method:"get",data:{message:"Your session has expired. Please log in again."}}))},1e3)},x=async()=>{try{await I.get("/dashboard",{},{preserveState:!0,preserveScroll:!0}),s.value=!1,w(),n()}catch(p){console.error("Failed to extend session:",p),I.visit("/login",{method:"get",data:{message:"Your session has expired. Please log in again."}})}},w=()=>{e.value&&(clearTimeout(e.value),e.value=null),a.value&&(clearInterval(a.value),a.value=null)};return(p,c)=>s.value?(o(),l("div",Pe,[t("div",Re,[t("div",He,[t("div",Ve,[c[0]||(c[0]=t("div",{class:"w-4 h-4 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin mr-2"},null,-1)),t("div",null,[t("p",Xe,g(p.$t("Session Expiring Soon")),1),t("p",Ge,g(p.$t("Your session will expire in"))+" "+g(u.value)+" "+g(p.$t("seconds")),1)])]),t("button",{onClick:x,class:"ml-2 text-yellow-600 hover:text-yellow-800"},[...c[1]||(c[1]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])])])])])):b("",!0)}};function Ze(r,s){return o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Ke(r,s){return o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"})])}const Qe={class:"relative flex"},et={key:0,class:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center"},tt={class:"flex justify-between items-center px-4 py-2 text-sm text-gray-700 font-bold border-b"},st={class:"relative"},rt={key:0,class:"max-h-96 overflow-y-auto"},at=["onClick"],ot={class:"text-gray-800"},nt={class:"text-xs text-gray-400 mt-1"},lt={key:1,class:"px-4 py-5 text-center"},it={__name:"NotificationBell",setup(r){const s=y(!1),u=y(!1),e=y(!1),a=Z(),n=y(a.props.notifications||[]),m=y(a.props.notification_count||0),x=p=>{I.post(route("notifications.read",p.id),{},{onSuccess:()=>{s.value=!1}})},w=()=>{I.post(route("notifications.markAllAsRead"),{},{preserveScroll:!0,onSuccess:()=>{n.value.forEach(p=>p.read_at=new Date().toISOString()),m.value=0,u.value=!1,s.value=!1}})};return W(()=>{var p;window.Echo&&((p=a.props.auth)!=null&&p.user)&&(window.Echo.options.authEndpoint?(console.log("ðŸ”” NotificationBell: Using private channel with authentication"),window.Echo.private(`App.Models.User.${a.props.auth.user.id}`).notification(c=>{const d={id:c.id,data:{...c},read_at:null};n.value.unshift(d),m.value++,e.value=!0,setTimeout(()=>{e.value=!1},700)})):console.log("ðŸ”” NotificationBell: Authentication not configured, skipping private channel subscription"))}),(p,c)=>(o(),l("div",Qe,[t("button",{onClick:c[0]||(c[0]=d=>s.value=!s.value),type:"button",class:"relative rounded-full text-gray-600 hover:text-black focus:outline-none"},[c[4]||(c[4]=t("span",{class:"sr-only"},"View notifications",-1)),i(H,{name:"notification",class:_(["h-7 w-7",{"animate-bell-shake":e.value}]),"aria-hidden":"true"},null,8,["class"]),m.value>0?(o(),l("span",et,g(m.value),1)):b("",!0)]),s.value?(o(),l("div",{key:0,onClick:c[3]||(c[3]=d=>s.value=!1),class:"absolute right-0 z-10 top-7 w-80 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},[t("div",tt,[c[6]||(c[6]=t("span",null,"Notifications",-1)),t("div",st,[t("button",{onClick:c[1]||(c[1]=q(d=>u.value=!u.value,["stop"])),class:"p-1 rounded-full hover:bg-gray-200"},[i(P(Ke),{class:"h-5 w-5"})]),u.value?(o(),l("div",{key:0,onClick:c[2]||(c[2]=d=>u.value=!1),class:"absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5"},[t("a",{onClick:q(w,["prevent"]),href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},"Mark all as read"),i(P(V),{href:p.route("notifications.index"),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},{default:k(()=>[...c[5]||(c[5]=[R("All Notifications",-1)])]),_:1},8,["href"])])):b("",!0)])]),n.value.length>0?(o(),l("div",rt,[(o(!0),l(N,null,O(n.value,d=>(o(),l("a",{key:d.id,onClick:q(C=>x(d),["prevent"]),href:"#",class:_(["block px-4 py-3 text-sm text-gray-600 hover:bg-gray-100 border-b",{"font-semibold":!d.read_at}])},[t("p",ot,g(d.data.message),1),t("p",nt,g(p.$t("Ticket"))+": "+g(d.data.ticket_subject),1)],10,at))),128))])):(o(),l("div",lt,[i(P(Ze),{class:"h-8 w-8 text-green-400 mx-auto mb-2"}),c[7]||(c[7]=t("p",{class:"text-sm text-gray-500"},"You're all caught up!",-1))]))])):b("",!0)]))}},dt={components:{NotificationBell:it,Dropdown:ne,FlashMessages:_e,Icon:H,Logo:le,Link:V,LogoutButton:oe,MainMenu:qe,SessionTimeout:We,Menu:be,X:ve,ChevronDown:Q,ChevronRight:fe,Sun:me,Moon:he,User:ge,LogOut:pe,Home:ce},props:{title:String},data(){return{time:"",current_mode:"light",modes:["dark","light"],edit_route:"",locale:this.$page.props.auth&&this.$page.props.auth.user&&this.$page.props.auth.user.locale||this.$page.props.settings&&this.$page.props.settings.default_language||"en",mobileMenuOpen:!1}},computed:{selected_language(){return!this.$page.props.languages||!Array.isArray(this.$page.props.languages)?{code:"en",name:"English"}:this.$page.props.languages.find(r=>r.code===(this.$page.props.locale||"en"))||{code:"en",name:"English"}},languages_except_selected(){return!this.$page.props.languages||!Array.isArray(this.$page.props.languages)?[]:this.$page.props.languages.filter(r=>r.code!==(this.$page.props.locale||"en"))}},setup(){const r=Z();return{license_invalid:de(()=>r.props.license_invalid)}},methods:{updateLanguage(r){const s=document.querySelector('meta[name="csrf-token"]'),u=s?s.getAttribute("content"):"",e=new FormData;e.append("_token",u),fetch(`/language/${r}`,{method:"POST",body:e,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(a=>a.json()).then(a=>{a.success&&window.location.reload()}).catch(a=>{console.error("Failed to update language:",a)})},switchMode(){this.current_mode=this.current_mode==="light"?"dark":"light",localStorage.setItem("current_mode",this.current_mode)},detectCurrentUrl(){const r=this.$page.url,s=r.split("/");let u=["edit","create"].includes(r.substring(r.lastIndexOf("/")+1));u||(u=s[s.length-2]==="tickets");let e=r.split("/")[2];["settings","front_pages"].includes(e)&&(e=r.split("/")[3]),this.edit_route=u?e:""},closeMobileMenu(){this.mobileMenuOpen=!1}},updated(){this.detectCurrentUrl()},created(){this.moment=xe;let r=this;localStorage.getItem("current_mode")&&(this.current_mode=localStorage.getItem("current_mode")),r.time=r.moment().format("MMMM Do YYYY, h:mm A"),window.setInterval(function(){r.time=r.moment().format("MMMM Do YYYY, h:mm A")},1e3),this.detectCurrentUrl(),ke()!==this.locale&&we(this.locale)}},ut=["dir"],ct={class:"flex h-screen overflow-hidden"},pt={class:"hidden lg:flex lg:flex-col lg:w-72 lg:shrink-0"},gt={class:"relative border-b border-primary-500/20"},ht={class:"relative flex items-center justify-between px-6 py-5"},mt={class:"h-10 bg-white/20 flex items-center justify-center transition-all duration-300"},ft={class:"flex-1 overflow-y-auto bg-white dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700"},vt={key:1,class:"fixed inset-y-0 left-0 z-50 w-72 bg-white dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700 lg:hidden"},bt={class:"relative border-b border-primary-500/20"},_t={class:"relative flex items-center justify-between px-6 py-5"},xt={class:"h-10 flex items-center justify-center group-hover:bg-white/30 transition-all duration-300"},kt={class:"overflow-y-auto h-full"},wt={class:"flex-1 flex flex-col overflow-hidden"},yt={class:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 shadow-sm"},Ct={class:"flex items-center justify-between px-4 py-3 lg:px-6"},Mt={class:"flex items-center gap-4"},$t={class:"flex items-center justify-between"},St={class:"text-2xl font-bold text-slate-900 dark:text-white"},Ut={class:"flex items-center space-x-2 text-sm mt-1"},Et={class:"text-slate-900 dark:text-white font-medium"},Lt={class:"flex items-center gap-3"},Tt={class:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors duration-200"},At={class:"hidden sm:block text-sm font-medium text-slate-700 dark:text-slate-300"},Bt={class:"py-2 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 min-w-[160px]"},jt=["onClick"],zt={class:"text-sm font-medium text-slate-700 dark:text-slate-300"},Dt=["title","aria-label"],Nt={class:"flex items-center gap-3 p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors duration-200"},Ot={class:"relative"},It=["alt","src"],Ft={key:1,class:"w-8 h-8 rounded-full bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center"},Yt={class:"hidden sm:block text-left"},qt={class:"text-sm font-medium text-slate-900 dark:text-white"},Pt={class:"text-xs text-slate-500 dark:text-slate-400"},Rt={class:"py-2 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 min-w-[240px]"},Ht={class:"px-4 py-3 border-b border-slate-200 dark:border-slate-700"},Vt={class:"flex items-center gap-3"},Xt=["alt","src"],Gt={key:1,class:"w-12 h-12 rounded-full bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center"},Jt={class:"font-semibold text-slate-900 dark:text-white"},Wt={class:"text-sm text-slate-500 dark:text-slate-400"},Zt={class:"py-1"},Kt={class:"flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-900"},Qt={class:"p-4 lg:p-6"};function es(r,s,u,e,a,n){const m=h("Logo"),x=h("Link"),w=h("X"),p=h("main-menu"),c=h("Menu"),d=h("Home"),C=h("ChevronRight"),f=h("NotificationBell"),F=h("icon"),X=h("ChevronDown"),G=h("dropdown"),ee=h("Sun"),te=h("Moon"),Y=h("User"),se=h("LogoutButton"),re=h("flash-messages"),ae=h("SessionTimeout");return o(),l("div",{class:_(["min-h-screen bg-slate-50 dark:bg-slate-900 transition-colors duration-300",a.current_mode]),dir:r.$page.props.dir},[s[9]||(s[9]=t("div",{id:"dropdown"},null,-1)),t("div",ct,[a.mobileMenuOpen?(o(),l("div",{key:0,class:"fixed inset-0 z-50 lg:hidden",onClick:s[0]||(s[0]=v=>a.mobileMenuOpen=!1)},[...s[5]||(s[5]=[t("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm"},null,-1)])])):b("",!0),t("div",pt,[t("div",gt,[s[6]||(s[6]=t("div",{class:"absolute inset-0 opacity-50",style:{"background-image":`url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.05"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')`}},null,-1)),t("div",ht,[i(x,{href:"/",class:"group flex items-center space-x-3"},{default:k(()=>[t("div",mt,[i(m,{class:"h-5 text-white group-hover:scale-110 transition-transform duration-300"})])]),_:1}),t("button",{onClick:s[1]||(s[1]=v=>a.mobileMenuOpen=!1),class:"lg:hidden p-2 rounded-lg hover:bg-white/10 transition-colors duration-200"},[i(w,{class:"w-5 h-5 text-white/80"})])])]),t("div",ft,[i(p)])]),a.mobileMenuOpen?(o(),l("div",vt,[t("div",bt,[s[7]||(s[7]=t("div",{class:"absolute inset-0 opacity-50",style:{"background-image":`url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.05"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')`}},null,-1)),t("div",_t,[i(x,{href:"/",class:"group flex items-center space-x-3"},{default:k(()=>[t("div",xt,[i(m,{class:"h-6 text-white"})])]),_:1}),t("button",{onClick:s[2]||(s[2]=v=>a.mobileMenuOpen=!1),class:"p-2 rounded-lg hover:bg-gray-200 transition-colors duration-200"},[i(w,{class:"w-5 h-5 text-gray-900"})])])]),t("div",kt,[i(p)])])):b("",!0),t("div",wt,[t("header",yt,[t("div",Ct,[t("div",Mt,[t("button",{onClick:s[3]||(s[3]=v=>a.mobileMenuOpen=!0),class:"lg:hidden p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors duration-200"},[i(c,{class:"w-5 h-5 text-slate-600 dark:text-slate-400"})]),t("div",$t,[t("div",null,[t("h1",St,g(r.$t(u.title||"")),1),t("nav",Ut,[i(x,{href:r.route("dashboard"),class:"text-slate-500 dark:text-slate-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200"},{default:k(()=>[i(d,{class:"w-4 h-4"})]),_:1},8,["href"]),i(C,{class:"w-4 h-4 text-slate-400"}),a.edit_route?(o(),M(x,{key:0,href:r.route(a.edit_route),class:"text-slate-500 dark:text-slate-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200 capitalize"},{default:k(()=>[R(g(a.edit_route),1)]),_:1},8,["href"])):b("",!0),a.edit_route?(o(),M(C,{key:1,class:"w-4 h-4 text-slate-400"})):b("",!0),t("span",Et,g(r.$t(u.title||"")),1)])])])]),t("div",Lt,[i(f),i(G,{class:"language_menu_wrapper",placement:"bottom-end"},{default:k(()=>[t("button",Tt,[i(F,{class:"w-5 h-5",name:n.selected_language.code},null,8,["name"]),t("span",At,g(n.selected_language.name),1),i(X,{class:"w-4 h-4 text-slate-500"})])]),dropdown:k(()=>[t("div",Bt,[(o(!0),l(N,null,O(n.languages_except_selected,v=>(o(),l("div",{key:v.code,class:"flex items-center gap-3 px-4 py-2 hover:bg-slate-100 dark:hover:bg-slate-700 cursor-pointer transition-colors duration-200",onClick:$=>n.updateLanguage(v.code)},[i(F,{class:"w-5 h-5",name:v.code},null,8,["name"]),t("span",zt,g(v.name),1)],8,jt))),128))])]),_:1}),t("button",{onClick:s[4]||(s[4]=(...v)=>n.switchMode&&n.switchMode(...v)),class:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors duration-200",title:`Switch to ${a.current_mode==="light"?"dark":"light"} mode`,"aria-label":`Switch to ${a.current_mode==="light"?"dark":"light"} mode`},[a.current_mode==="light"?(o(),M(ee,{key:0,class:"w-5 h-5 text-slate-600 dark:text-slate-400"})):(o(),M(te,{key:1,class:"w-5 h-5 text-slate-600 dark:text-slate-400"}))],8,Dt),i(G,{class:"select_user",placement:"bottom-end"},{default:k(()=>{var v,$,S,U,E,L,T,A,B,j,z,D;return[t("button",Nt,[t("div",Ot,[($=(v=r.$page.props.auth)==null?void 0:v.user)!=null&&$.photo?(o(),l("img",{key:0,class:"w-8 h-8 rounded-full object-cover ring-2 ring-slate-200 dark:ring-slate-700",alt:((U=(S=r.$page.props.auth)==null?void 0:S.user)==null?void 0:U.first_name)||"User",src:(L=(E=r.$page.props.auth)==null?void 0:E.user)==null?void 0:L.photo},null,8,It)):(o(),l("div",Ft,[i(Y,{class:"w-4 h-4 text-white"})])),s[8]||(s[8]=t("div",{class:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-slate-800"},null,-1))]),t("div",Yt,[t("p",qt,g(((A=(T=r.$page.props.auth)==null?void 0:T.user)==null?void 0:A.first_name)||"User")+" "+g(((j=(B=r.$page.props.auth)==null?void 0:B.user)==null?void 0:j.last_name)||""),1),t("p",Pt,g(((D=(z=r.$page.props.auth)==null?void 0:z.user)==null?void 0:D.email)||"user@example.com"),1)]),i(X,{class:"w-4 h-4 text-slate-500"})])]}),dropdown:k(()=>{var v,$,S,U,E,L,T,A,B,j,z,D;return[t("div",Rt,[t("div",Ht,[t("div",Vt,[($=(v=r.$page.props.auth)==null?void 0:v.user)!=null&&$.photo?(o(),l("img",{key:0,class:"w-12 h-12 rounded-full object-cover",alt:((U=(S=r.$page.props.auth)==null?void 0:S.user)==null?void 0:U.first_name)||"User",src:(L=(E=r.$page.props.auth)==null?void 0:E.user)==null?void 0:L.photo},null,8,Xt)):(o(),l("div",Gt,[i(Y,{class:"w-6 h-6 text-white"})])),t("div",null,[t("p",Jt,g(((A=(T=r.$page.props.auth)==null?void 0:T.user)==null?void 0:A.first_name)||"User")+" "+g(((j=(B=r.$page.props.auth)==null?void 0:B.user)==null?void 0:j.last_name)||""),1),t("p",Wt,g(((D=(z=r.$page.props.auth)==null?void 0:z.user)==null?void 0:D.email)||"user@example.com"),1)])])]),t("div",Zt,[i(x,{href:r.route("users.edit.profile"),class:"flex items-center gap-3 px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors duration-200"},{default:k(()=>[i(Y,{class:"w-4 h-4"}),R(" "+g(r.$t("Edit Profile")),1)]),_:1},8,["href"]),i(se)])])]}),_:1})])])]),t("main",Kt,[i(re),t("div",Qt,[ue(r.$slots,"default")])])])]),i(ae)],10,ut)}const ds=K(dt,[["render",es]]);export{ds as L};
