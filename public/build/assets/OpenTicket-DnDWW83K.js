import{C as A,X as I,D as p,l as a,u as o,o as n,m as t,O as L,y as u,J as P,A as m,K as b,z as d,P as y,E as f,R as v,F as g,t as _,Q as z,L as R,G as O,M as D}from"./vendor-LkufkiF7.js";import{_ as X}from"./Layout-DvEpW4oX.js";import{L as N}from"./LoadingButton-DNgtCulM.js";import{_ as H}from"./RichEditor-Cvb5EqjX.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{AlertCircle as Q,LucideSend as Y,LucideX as J,File as K,LucideUpload as W,FileText as Z,CheckCircle as $,LucideTicket as ee,LucideUser as te,LucideSettings as se}from"./ui-DZ0wy3Ge.js";import"./utils-Cv2kkzzw.js";import"./Logo-CwTRbPbO.js";import"./LogoutButton-oKW2oLhJ.js";import"./app-BC8evlMS.js";import"./FlashMessages-Bge5XBye.js";const re={metaInfo:{title:"Open Ticket"},layout:X,components:{Settings:se,User:te,LoadingButton:N,Head:I,Link:A,RichEditor:H,Ticket:ee,CheckCircle:$,FileText:Z,Upload:W,File:K,X:J,Send:Y,AlertCircle:Q},props:{all_categories:Array,departments:Array,types:Array,priorities:{type:Array,default:[]},title:String,hide_ticket_fields:Array,auth:Object,custom_fields:Object},remember:"form",data(){var r;return{accept_terms:!1,categories:[],sub_categories:[],validationErrors:{},isSubmitting:!1,form:this.$inertia.form({first_name:"",last_name:"",email:"",priority_id:(r=this.priorities)!=null&&r.length?this.priorities[1].id:null,department_id:null,category_id:null,sub_category_id:null,type_id:null,subject:null,details:"",files:[],custom_field:{}})}},methods:{validateForm(){this.validationErrors={};let r=!0;return!this.form.first_name||this.form.first_name.trim()===""?(this.validationErrors.first_name="First name is required",r=!1):this.form.first_name.length<2&&(this.validationErrors.first_name="First name must be at least 2 characters",r=!1),!this.form.last_name||this.form.last_name.trim()===""?(this.validationErrors.last_name="Last name is required",r=!1):this.form.last_name.length<2&&(this.validationErrors.last_name="Last name must be at least 2 characters",r=!1),!this.form.email||this.form.email.trim()===""?(this.validationErrors.email="Email address is required",r=!1):this.isValidEmail(this.form.email)||(this.validationErrors.email="Please enter a valid email address",r=!1),this.form.priority_id||(this.validationErrors.priority_id="Priority is required",r=!1),!this.form.subject||this.form.subject.trim()===""?(this.validationErrors.subject="Subject is required",r=!1):this.form.subject.length<5&&(this.validationErrors.subject="Subject must be at least 5 characters",r=!1),!this.form.details||this.form.details.trim()===""?(this.validationErrors.details="Ticket details are required",r=!1):this.form.details.length<10&&(this.validationErrors.details="Please provide more details (at least 10 characters)",r=!1),this.custom_fields.forEach(e=>{e.required&&(!this.form.custom_field[e.name]||this.form.custom_field[e.name].trim()==="")&&(this.validationErrors[`custom_field_${e.name}`]=`${e.label} is required`,r=!1)}),this.form.files.length>0&&this.form.files.forEach((e,h)=>{e.size>10*1024*1024&&(this.validationErrors[`file_${h}`]=`File "${e.name}" is too large. Maximum size is 10MB`,r=!1)}),this.accept_terms||(this.validationErrors.terms="You must accept the terms and conditions",r=!1),r},isValidEmail(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)},clearValidationError(r){this.validationErrors[r]&&delete this.validationErrors[r]},getFieldError(r){return this.validationErrors[r]||this.form.errors[r]},hasFieldError(r){return!!(this.validationErrors[r]||this.form.errors[r])},getCategories(){this.categories=this.all_categories.filter(r=>r.department_id===this.form.department_id),this.form.category_id=null,this.form.sub_category_id=null,this.sub_categories=[],this.$refs.category&&(this.$refs.category.selected=null),this.$refs.sub_category&&(this.$refs.sub_category.selected=null),this.clearValidationError("category_id"),this.clearValidationError("sub_category_id")},getSubCategories(){this.sub_categories=this.all_categories.filter(r=>r.parent_id===this.form.category_id),this.form.sub_category_id=null,this.$refs.sub_category&&(this.$refs.sub_category.selected=null),this.clearValidationError("sub_category_id")},uploadFiles(){this.form.files=this.$refs.files.files},store(){if(this.validationErrors={},!this.validateForm()){this.scrollToFirstError();return}this.isSubmitting=!0,this.form.post(this.route("ticket_store"),{onSuccess:()=>{this.form.reset(),this.accept_terms=!1,this.validationErrors={},this.isSubmitting=!1,this.showSuccessMessage()},onError:r=>{this.isSubmitting=!1,this.handleServerErrors(r)},onFinish:()=>{this.isSubmitting=!1}})},handleServerErrors(r){Object.keys(r).forEach(e=>{this.validationErrors[e]=r[e]}),this.scrollToFirstError()},scrollToFirstError(){this.$nextTick(()=>{const r=document.querySelector(".border-red-500, .text-red-500");r&&(r.scrollIntoView({behavior:"smooth",block:"center"}),r.focus())})},showSuccessMessage(){alert("Ticket submitted successfully! We will get back to you soon.")},fileInputChange(r){let e=r.target.files,h=[],k=!1;for(let i=0;i<e.length;i++){const l=e[i];if(l.size>10*1024*1024){this.validationErrors[`file_${i}`]=`File "${l.name}" is too large. Maximum size is 10MB`,k=!0;continue}if(!["image/jpeg","image/png","image/gif","image/webp","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain","application/zip"].includes(l.type)){this.validationErrors[`file_${i}`]=`File "${l.name}" type is not supported`,k=!0;continue}h.push(l)}k&&this.scrollToFirstError(),this.form.files=[...this.form.files,...h]},fileRemove(r,e){this.form.files.splice(e,1),delete this.validationErrors[`file_${e}`]},getFileSize(r){const e=Math.floor(Math.log(r)/Math.log(1024));return(r/Math.pow(1024,e)).toFixed(2)*1+" "+["B","kB","MB","GB","TB"][e]},fileBrowse(){this.$refs.file.click()},validateField(r,e){switch(this.clearValidationError(r),r){case"first_name":!e||e.trim()===""?this.validationErrors.first_name="First name is required":e.length<2&&(this.validationErrors.first_name="First name must be at least 2 characters");break;case"last_name":!e||e.trim()===""?this.validationErrors.last_name="Last name is required":e.length<2&&(this.validationErrors.last_name="Last name must be at least 2 characters");break;case"email":!e||e.trim()===""?this.validationErrors.email="Email address is required":this.isValidEmail(e)||(this.validationErrors.email="Please enter a valid email address");break;case"subject":!e||e.trim()===""?this.validationErrors.subject="Subject is required":e.length<5&&(this.validationErrors.subject="Subject must be at least 5 characters");break;case"details":!e||e.trim()===""?this.validationErrors.details="Ticket details are required":e.length<10&&(this.validationErrors.details="Please provide more details (at least 10 characters)");break}}},created(){if(this.auth&&this.auth.user&&(this.form.first_name=this.auth.user.first_name,this.form.last_name=this.auth.user.last_name,this.form.email=this.auth.user.email),this.custom_fields&&Array.isArray(this.custom_fields))for(let r=0;r<this.custom_fields.length;r++)this.custom_fields[r.name]&&(this.form.custom_field[this.custom_fields[r.name]]="")}},ie={class:"relative flex items-center overflow-hidden bg-gradient-to-br from-slate-900 via-primary-900 to-slate-800 py-24 lg:py-32"},le={class:"container relative z-10 py-16"},oe={class:"text-center max-w-4xl mx-auto"},ae={class:"inline-flex items-center gap-2 px-4 py-2 mb-8 text-sm font-medium text-white bg-white/10 rounded-full border border-white/20 shadow-lg",style:{"backdrop-filter":"blur(12px)"}},de={class:"flex flex-wrap items-center justify-center gap-8 text-white/70"},ne={class:"flex items-center gap-2"},me={class:"flex items-center gap-2"},ue={class:"flex items-center gap-2"},ce={class:"relative py-24 lg:py-32 bg-gradient-to-b from-slate-50 via-white to-slate-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900"},fe={class:"container relative z-10"},pe={class:"text-center mb-16"},be={class:"inline-flex items-center gap-2 px-4 py-2 mb-6 text-sm font-semibold text-primary bg-primary/10 rounded-full border border-primary/20"},he={class:"max-w-4xl mx-auto"},xe={class:"bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 px-8 py-8"},ge={class:"flex items-center gap-4"},_e={class:"w-16 h-16 bg-white/10 rounded-2xl flex items-center justify-center"},ye={class:"p-8"},ve={class:"mb-12"},ke={class:"flex items-center gap-3 mb-6"},we={class:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center"},Ee={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Fe={class:"space-y-2"},Se={class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},Ce={key:0,class:"text-red-500 text-sm flex items-center gap-1"},Ve={class:"space-y-2"},je={class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},Te={key:0,class:"text-red-500 text-sm flex items-center gap-1"},qe={class:"space-y-2"},Be={class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},Ue={key:0,class:"text-red-500 text-sm flex items-center gap-1"},Me={class:"mb-6"},Ae={class:"flex items-center gap-3 mb-6"},Ie={class:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center"},Le={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Pe={class:"space-y-2"},ze={class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},Re=["value"],Oe={key:0,class:"text-red-500 text-sm flex items-center gap-1"},De={class:"space-y-2"},Xe={class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},Ne={value:null},He=["value"],Ge={key:0,class:"text-red-500 text-sm"},Qe={key:0,class:"space-y-2"},Ye={class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},Je={value:null},Ke=["value"],We={key:0,class:"text-red-500 text-sm"},Ze={key:1,class:"space-y-2"},$e={class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},et={value:null},tt=["value"],st={key:0,class:"text-red-500 text-sm"},rt={key:2,class:"space-y-2"},it={class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},lt={value:null},ot=["value"],at={key:0,class:"text-red-500 text-sm"},dt={class:"mt-6 space-y-2"},nt={class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},mt={key:0,class:"text-red-500 text-sm flex items-center gap-1"},ut={class:"mb-12"},ct={class:"space-y-2"},ft={class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},pt={key:0,class:"text-red-500 text-sm flex items-center gap-1"},bt={key:0,class:"mb-12"},ht={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},xt=["for"],gt={key:0,class:"text-red-500"},_t={key:1,class:"text-slate-500 text-xs"},yt=["onUpdate:modelValue","onBlur","onInput","type","id","placeholder","required"],vt=["id","onUpdate:modelValue","onBlur","onInput","placeholder"],kt={key:2,class:"text-red-500 text-sm flex items-center gap-1"},wt={key:3,class:"text-slate-500 dark:text-slate-400 text-sm"},Et={class:"mb-12"},Ft={class:"flex items-center gap-3 mb-6"},St={class:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center"},Ct={class:"flex flex-col items-center gap-4"},Vt={class:"w-16 h-16 bg-primary-100 dark:bg-primary-900 rounded-2xl flex items-center justify-center"},jt={class:"text-lg font-semibold text-slate-900 dark:text-white mb-2"},Tt={key:0,class:"mt-6 space-y-3"},qt={class:"flex items-center gap-3"},Bt={class:"font-medium text-slate-900 dark:text-white"},Ut={class:"text-sm text-slate-500 dark:text-slate-400"},Mt={key:0,class:"text-red-500 text-sm flex items-center gap-1 mt-1"},At=["onClick"],It={class:"mb-8"},Lt={class:"flex items-center h-5 mt-1"},Pt={for:"terms",class:"text-sm font-medium text-slate-900 dark:text-white"},zt=["href"],Rt={key:0,class:"text-red-500 text-sm flex items-center gap-1 mt-2"},Ot={class:"flex justify-center"},Dt={key:1,class:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"},Xt={key:1,class:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl"},Nt={class:"flex items-start gap-3"},Ht={class:"text-sm text-red-700 dark:text-red-300 space-y-1"};function Gt(r,e,h,k,i,l){const E=p("Head"),F=p("Ticket"),w=p("CheckCircle"),S=p("FileText"),C=p("User"),x=p("AlertCircle"),V=p("Settings"),j=p("RichEditor"),T=p("Upload"),q=p("File"),B=p("X"),U=p("Send"),M=p("loading-button");return o(),a("div",null,[n(E,{title:"Open Ticket"}),t("section",ie,[e[32]||(e[32]=L('<div class="absolute inset-0"><div class="absolute inset-0 bg-gradient-to-br from-primary-600/20 via-transparent to-blue-600/20"></div><div class="absolute inset-0 opacity-30"><div class="absolute inset-0 bg-grid-pattern bg-center bg-repeat" style="background-image:url(&#39;/images/patterns/grid.svg&#39;);mask-image:radial-gradient(ellipse_at_center,white,transparent_70%);"></div></div><div class="absolute top-1/4 left-1/4 w-72 h-72 bg-primary-500/20 rounded-full blur-3xl animate-pulse"></div><div class="absolute top-1/3 right-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-pulse delay-1000"></div><div class="absolute bottom-1/4 left-1/3 w-64 h-64 bg-purple-500/15 rounded-full blur-3xl animate-pulse delay-500"></div><div class="absolute top-20 left-20 w-4 h-4 bg-white/30 rotate-45 animate-spin"></div><div class="absolute top-40 right-32 w-6 h-6 bg-primary-300/40 rounded-full animate-ping"></div><div class="absolute bottom-32 left-16 w-3 h-3 bg-blue-300/50 rotate-12 animate-bounce"></div></div>',1)),t("div",le,[t("div",oe,[t("div",ae,[n(F,{class:"w-4 h-4 text-yellow-300"}),e[26]||(e[26]=t("span",null,"Submit Support Request",-1))]),e[30]||(e[30]=t("h1",{class:"mb-6 text-5xl font-bold leading-tight text-white sm:text-6xl lg:text-7xl"}," Open a Ticket ",-1)),e[31]||(e[31]=t("p",{class:"mb-10 text-xl leading-relaxed text-white/80 sm:text-2xl max-w-3xl mx-auto"}," Need help? Submit a support ticket and our team will get back to you as soon as possible. ",-1)),t("div",de,[t("div",ne,[n(w,{class:"w-4 h-4 text-green-400"}),e[27]||(e[27]=t("span",{class:"text-sm font-medium"},"Quick Response",-1))]),t("div",me,[n(w,{class:"w-4 h-4 text-green-400"}),e[28]||(e[28]=t("span",{class:"text-sm font-medium"},"Expert Support",-1))]),t("div",ue,[n(w,{class:"w-4 h-4 text-green-400"}),e[29]||(e[29]=t("span",{class:"text-sm font-medium"},"24/7 Available",-1))])])])]),e[33]||(e[33]=t("div",{class:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce"},[t("div",{class:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center"},[t("div",{class:"w-1 h-3 bg-white/50 rounded-full mt-2 animate-pulse"})])],-1))]),t("section",ce,[e[55]||(e[55]=t("div",{class:"absolute inset-0 overflow-hidden"},[t("div",{class:"absolute top-0 left-0 w-full h-full opacity-5",style:{"background-image":"url('/images/patterns/grid.svg')","background-position":"center","background-repeat":"repeat"}}),t("div",{class:"absolute top-1/4 right-0 w-96 h-96 bg-primary-500/10 rounded-full blur-3xl"}),t("div",{class:"absolute bottom-1/4 left-0 w-80 h-80 bg-blue-500/10 rounded-full blur-3xl"})],-1)),t("div",fe,[t("div",pe,[t("div",be,[n(S,{class:"w-4 h-4 text-primary"}),e[34]||(e[34]=u(" Support Request Form ",-1))]),e[35]||(e[35]=t("h2",{class:"mb-6 text-4xl font-bold text-slate-900 dark:text-white sm:text-5xl lg:text-6xl"}," Submit Your Request ",-1)),e[36]||(e[36]=t("p",{class:"text-xl leading-relaxed text-slate-600 dark:text-slate-300 max-w-3xl mx-auto"}," Fill out the form below with your details and we'll get back to you as soon as possible. ",-1))]),t("div",he,[t("form",{onSubmit:e[25]||(e[25]=P((...s)=>l.store&&l.store(...s),["prevent"])),enctype:"multipart/form-data",class:"bg-white dark:bg-slate-800 rounded-3xl shadow-2xl border border-slate-100 dark:border-slate-700 overflow-hidden"},[t("div",xe,[t("div",ge,[t("div",_e,[n(F,{class:"w-8 h-8 text-white"})]),e[37]||(e[37]=t("div",null,[t("h3",{class:"text-3xl font-bold text-white"},"Support Ticket"),t("p",{class:"text-white/80 text-lg"},"Please provide as much detail as possible")],-1))])]),t("div",ye,[t("div",ve,[t("div",ke,[t("div",we,[n(C,{class:"w-5 h-5 text-primary"})]),e[38]||(e[38]=t("h4",{class:"text-xl font-semibold text-slate-900 dark:text-white"},"Personal Information",-1))]),t("div",Ee,[t("div",Fe,[t("label",Se,[u(d(r.$t("First name"))+" ",1),e[39]||(e[39]=t("span",{class:"text-red-500"},"*",-1))]),b(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>i.form.first_name=s),onBlur:e[1]||(e[1]=s=>l.validateField("first_name",i.form.first_name)),onInput:e[2]||(e[2]=s=>l.clearValidationError("first_name")),class:f(["w-full px-4 py-3 text-slate-900 dark:text-white bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300",{"border-red-500":l.hasFieldError("first_name")}]),required:""},null,34),[[y,i.form.first_name]]),l.getFieldError("first_name")?(o(),a("p",Ce,[n(x,{class:"w-4 h-4"}),u(" "+d(l.getFieldError("first_name")),1)])):m("",!0)]),t("div",Ve,[t("label",je,[u(d(r.$t("Last name"))+" ",1),e[40]||(e[40]=t("span",{class:"text-red-500"},"*",-1))]),b(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=s=>i.form.last_name=s),onBlur:e[4]||(e[4]=s=>l.validateField("last_name",i.form.last_name)),onInput:e[5]||(e[5]=s=>l.clearValidationError("last_name")),class:f(["w-full px-4 py-3 text-slate-900 dark:text-white bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300",{"border-red-500":l.hasFieldError("last_name")}]),required:""},null,34),[[y,i.form.last_name]]),l.getFieldError("last_name")?(o(),a("p",Te,[n(x,{class:"w-4 h-4"}),u(" "+d(l.getFieldError("last_name")),1)])):m("",!0)]),t("div",qe,[t("label",Be,[u(d(r.$t("Email Address"))+" ",1),e[41]||(e[41]=t("span",{class:"text-red-500"},"*",-1))]),b(t("input",{type:"email","onUpdate:modelValue":e[6]||(e[6]=s=>i.form.email=s),onBlur:e[7]||(e[7]=s=>l.validateField("email",i.form.email)),onInput:e[8]||(e[8]=s=>l.clearValidationError("email")),class:f(["w-full px-4 py-3 text-slate-900 dark:text-white bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300",{"border-red-500":l.hasFieldError("email")}]),required:""},null,34),[[y,i.form.email]]),l.getFieldError("email")?(o(),a("p",Ue,[n(x,{class:"w-4 h-4"}),u(" "+d(l.getFieldError("email")),1)])):m("",!0)])])]),t("div",Me,[t("div",Ae,[t("div",Ie,[n(V,{class:"w-5 h-5 text-primary"})]),e[42]||(e[42]=t("h4",{class:"text-xl font-semibold text-slate-900 dark:text-white"},"Ticket Details",-1))]),t("div",Le,[t("div",Pe,[t("label",ze,[u(d(r.$t("Priority"))+" ",1),e[43]||(e[43]=t("span",{class:"text-red-500"},"*",-1))]),b(t("select",{"onUpdate:modelValue":e[9]||(e[9]=s=>i.form.priority_id=s),onChange:e[10]||(e[10]=s=>l.clearValidationError("priority_id")),class:f(["w-full px-4 py-3 text-slate-900 dark:text-white bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300",{"border-red-500":l.hasFieldError("priority_id")}]),required:""},[e[44]||(e[44]=t("option",{value:null},"Select Priority",-1)),(o(!0),a(g,null,_(h.priorities,s=>(o(),a("option",{key:s.id,value:s.id},d(s.name),9,Re))),128))],34),[[v,i.form.priority_id]]),l.getFieldError("priority_id")?(o(),a("p",Oe,[n(x,{class:"w-4 h-4"}),u(" "+d(l.getFieldError("priority_id")),1)])):m("",!0)]),t("div",De,[t("label",Xe,d(r.$t("Type")),1),b(t("select",{"onUpdate:modelValue":e[11]||(e[11]=s=>i.form.type_id=s),class:f(["w-full px-4 py-3 text-slate-900 dark:text-white bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300",{"border-red-500":i.form.errors.type_id}])},[t("option",Ne,d(r.$t("Select a type")),1),(o(!0),a(g,null,_(h.types,s=>(o(),a("option",{key:s.id,value:s.id},d(s.name),9,He))),128))],2),[[v,i.form.type_id]]),i.form.errors.type_id?(o(),a("p",Ge,d(i.form.errors.type_id),1)):m("",!0)]),h.hide_ticket_fields.includes("department")?m("",!0):(o(),a("div",Qe,[t("label",Ye,d(r.$t("Department")),1),b(t("select",{onChange:e[12]||(e[12]=s=>l.getCategories()),"onUpdate:modelValue":e[13]||(e[13]=s=>i.form.department_id=s),class:f(["w-full px-4 py-3 text-slate-900 dark:text-white bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300",{"border-red-500":i.form.errors.department_id}])},[t("option",Je,d(r.$t("Select a department")),1),(o(!0),a(g,null,_(h.departments,s=>(o(),a("option",{key:s.id,value:s.id},d(s.name),9,Ke))),128))],34),[[v,i.form.department_id]]),i.form.errors.department_id?(o(),a("p",We,d(i.form.errors.department_id),1)):m("",!0)])),i.form.department_id?(o(),a("div",Ze,[t("label",$e,d(r.$t("Category")),1),b(t("select",{ref:"category",onChange:e[14]||(e[14]=s=>l.getSubCategories()),"onUpdate:modelValue":e[15]||(e[15]=s=>i.form.category_id=s),class:f(["w-full px-4 py-3 text-slate-900 dark:text-white bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300",{"border-red-500":i.form.errors.category_id}])},[t("option",et,d(r.$t("Select a category")),1),(o(!0),a(g,null,_(i.categories,s=>(o(),a("option",{key:s.id,value:s.id},d(s.name),9,tt))),128))],34),[[v,i.form.category_id]]),i.form.errors.category_id?(o(),a("p",st,d(i.form.errors.category_id),1)):m("",!0)])):m("",!0),i.form.category_id?(o(),a("div",rt,[t("label",it,d(r.$t("Sub Category")),1),b(t("select",{ref:"sub_category","onUpdate:modelValue":e[16]||(e[16]=s=>i.form.sub_category_id=s),class:f(["w-full px-4 py-3 text-slate-900 dark:text-white bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300",{"border-red-500":i.form.errors.sub_category_id}])},[t("option",lt,d(r.$t("Select a sub category")),1),(o(!0),a(g,null,_(i.sub_categories,s=>(o(),a("option",{key:s.id,value:s.id},d(s.name),9,ot))),128))],2),[[v,i.form.sub_category_id]]),i.form.errors.sub_category_id?(o(),a("p",at,d(i.form.errors.sub_category_id),1)):m("",!0)])):m("",!0)]),t("div",dt,[t("label",nt,[u(d(r.$t("Subject"))+" ",1),e[45]||(e[45]=t("span",{class:"text-red-500"},"*",-1))]),b(t("input",{type:"text","onUpdate:modelValue":e[17]||(e[17]=s=>i.form.subject=s),onBlur:e[18]||(e[18]=s=>l.validateField("subject",i.form.subject)),onInput:e[19]||(e[19]=s=>l.clearValidationError("subject")),class:f(["w-full px-4 py-3 text-slate-900 dark:text-white bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300",{"border-red-500":l.hasFieldError("subject")}]),placeholder:"Brief description of your issue",required:""},null,34),[[y,i.form.subject]]),l.getFieldError("subject")?(o(),a("p",mt,[n(x,{class:"w-4 h-4"}),u(" "+d(l.getFieldError("subject")),1)])):m("",!0)])]),t("div",ut,[t("div",ct,[t("label",ft,[u(d(r.$t("Request Details"))+" ",1),e[46]||(e[46]=t("span",{class:"text-red-500"},"*",-1))]),t("div",{class:f(["border border-slate-200 dark:border-slate-600 rounded-xl overflow-hidden",{"border-red-500":l.hasFieldError("details")}])},[n(j,{modelValue:i.form.details,"onUpdate:modelValue":e[20]||(e[20]=s=>i.form.details=s),enableMedia:!1,class:"mt-1"},null,8,["modelValue"])],2),l.getFieldError("details")?(o(),a("p",pt,[n(x,{class:"w-4 h-4"}),u(" "+d(l.getFieldError("details")),1)])):m("",!0)])]),h.custom_fields.length?(o(),a("div",bt,[e[47]||(e[47]=t("h4",{class:"text-2xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-3"},[t("div",{class:"w-2 h-8 bg-gradient-to-b from-purple-500 to-purple-600 rounded-full"}),u(" Additional Information ")],-1)),t("div",ht,[(o(!0),a(g,null,_(h.custom_fields,s=>(o(),a("div",{key:s.id,class:"space-y-2"},[t("label",{for:["checkbox"].includes(s.type)?null:"ticket_field_"+s.id,class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},[u(d(s.label)+" ",1),s.required?(o(),a("span",gt,"*")):(o(),a("span",_t,"(optional)"))],8,xt),["text","email","number"].includes(s.type)?b((o(),a("input",{key:0,"onUpdate:modelValue":c=>i.form.custom_field[s.name]=c,onBlur:c=>l.validateField(`custom_field_${s.name}`,i.form.custom_field[s.name]),onInput:c=>l.clearValidationError(`custom_field_${s.name}`),type:s.type,id:"ticket_field_"+s.id,placeholder:s.placeholder,required:s.required,class:f(["w-full px-4 py-3 text-slate-900 dark:text-white bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300",{"border-red-500":l.hasFieldError(`custom_field_${s.name}`)}])},null,42,yt)),[[z,i.form.custom_field[s.name]]]):m("",!0),s.type==="textarea"?b((o(),a("textarea",{key:1,id:"ticket_field_"+s.id,rows:"3","onUpdate:modelValue":c=>i.form.custom_field[s.name]=c,onBlur:c=>l.validateField(`custom_field_${s.name}`,i.form.custom_field[s.name]),onInput:c=>l.clearValidationError(`custom_field_${s.name}`),class:f(["w-full px-4 py-3 text-slate-900 dark:text-white bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300 resize-none",{"border-red-500":l.hasFieldError(`custom_field_${s.name}`)}]),placeholder:s.placeholder},null,42,vt)),[[y,i.form.custom_field[s.name]]]):m("",!0),l.getFieldError(`custom_field_${s.name}`)?(o(),a("p",kt,[n(x,{class:"w-4 h-4"}),u(" "+d(l.getFieldError(`custom_field_${s.name}`)),1)])):s.hint?(o(),a("p",wt,d(s.hint),1)):m("",!0)]))),128))])])):m("",!0),t("div",Et,[t("div",Ft,[t("div",St,[n(S,{class:"w-5 h-5 text-primary"})]),e[48]||(e[48]=t("h4",{class:"text-xl font-semibold text-slate-900 dark:text-white"},"Attachments",-1)),e[49]||(e[49]=t("span",{class:"text-sm text-slate-500"},"(Optional)",-1))]),t("input",{ref:"file",type:"file",accept:".xlsx,.xls,image/*,.doc, .docx,.ppt, .pptx,.txt,.pdf, .zip",class:"hidden",multiple:"multiple",onChange:e[21]||(e[21]=(...s)=>l.fileInputChange&&l.fileInputChange(...s))},null,544),t("div",{class:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-2xl p-8 text-center hover:border-primary-400 transition-colors duration-300 cursor-pointer",onClick:e[22]||(e[22]=(...s)=>l.fileBrowse&&l.fileBrowse(...s))},[t("div",Ct,[t("div",Vt,[n(T,{class:"w-8 h-8 text-primary-600"})]),t("div",null,[t("h5",jt,d(r.$t("Attach files")),1),e[50]||(e[50]=t("p",{class:"text-slate-600 dark:text-slate-400"},"Click to browse or drag and drop files here",-1)),e[51]||(e[51]=t("p",{class:"text-xs text-slate-500 dark:text-slate-500 mt-1"},"Supports: Images, PDF, DOC, XLS, PPT, TXT, ZIP (Max 10MB each)",-1))])])]),i.form.files.length?(o(),a("div",Tt,[(o(!0),a(g,null,_(i.form.files,(s,c)=>(o(),a("div",{key:c,class:f(["flex items-center justify-between bg-slate-50 dark:bg-slate-700 rounded-xl p-4",{"border border-red-500":l.hasFieldError(`file_${c}`)}])},[t("div",qt,[n(q,{class:"w-5 h-5 text-slate-500"}),t("div",null,[t("p",Bt,d(s.name),1),t("p",Ut,d(l.getFileSize(s.size)),1),l.getFieldError(`file_${c}`)?(o(),a("p",Mt,[n(x,{class:"w-3 h-3"}),u(" "+d(l.getFieldError(`file_${c}`)),1)])):m("",!0)])]),t("button",{type:"button",onClick:Qt=>l.fileRemove(s,c),class:"text-red-500 hover:text-red-700 transition-colors duration-300"},[n(B,{class:"w-5 h-5"})],8,At)],2))),128))])):m("",!0)]),t("div",It,[t("div",{class:f(["flex items-start gap-4 p-6 bg-slate-50 dark:bg-slate-700 rounded-2xl",{"border border-red-500":l.hasFieldError("terms")}])},[t("div",Lt,[b(t("input",{id:"terms",type:"checkbox","onUpdate:modelValue":e[23]||(e[23]=s=>i.accept_terms=s),onChange:e[24]||(e[24]=s=>l.clearValidationError("terms")),class:"w-5 h-5 text-primary-600 bg-slate-100 border-slate-300 rounded focus:ring-primary-500 focus:ring-2",required:""},null,544),[[R,i.accept_terms]])]),t("div",null,[t("label",Pt,[u(d(r.$t("I agree to the"))+" ",1),t("a",{href:this.route("terms_service"),target:"_blank",class:"text-primary-600 hover:text-primary-700 underline font-semibold"},d(r.$t("terms and conditions")),9,zt)]),e[52]||(e[52]=t("p",{class:"text-xs text-slate-500 dark:text-slate-400 mt-1"},"By submitting this ticket, you agree to our terms of service and privacy policy.",-1)),l.getFieldError("terms")?(o(),a("p",Rt,[n(x,{class:"w-4 h-4"}),u(" "+d(l.getFieldError("terms")),1)])):m("",!0)])],2)]),t("div",Ot,[n(M,{loading:i.isSubmitting,class:"group relative inline-flex items-center gap-3 px-12 py-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-bold rounded-2xl hover:from-primary-700 hover:to-primary-800 transition-all duration-300 hover:scale-105 hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-primary-300 text-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",type:"submit",disabled:i.isSubmitting},{default:O(()=>[i.isSubmitting?(o(),a("div",Dt)):(o(),D(U,{key:0,class:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300"})),t("span",null,d(i.isSubmitting?"Submitting...":r.$t("Submit Ticket")),1)]),_:1},8,["loading","disabled"])]),Object.keys(i.validationErrors).length>0?(o(),a("div",Xt,[t("div",Nt,[n(x,{class:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),t("div",null,[e[54]||(e[54]=t("h4",{class:"text-sm font-semibold text-red-800 dark:text-red-200 mb-2"},"Please fix the following errors:",-1)),t("ul",Ht,[(o(!0),a(g,null,_(i.validationErrors,(s,c)=>(o(),a("li",{key:c,class:"flex items-center gap-2"},[e[53]||(e[53]=t("span",{class:"w-1 h-1 bg-red-500 rounded-full"},null,-1)),u(" "+d(s),1)]))),128))])])])])):m("",!0)])],32)])])])])}const ls=G(re,[["render",Gt]]);export{ls as default};
