import{i as y,h as q}from"./InstallerApi-Dj1wJ3Su.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{ArrowRight as j,LucideX as E,Check as I,LucideRocket as L}from"./ui-DZ0wy3Ge.js";import{D as u,l,u as n,m as e,o as k,E as x,M as m,z as i,F as b,t as _,y as M,i as v,f as C,e as P,H as V}from"./vendor-LkufkiF7.js";import"./utils-Cv2kkzzw.js";const S={name:"InstallerWelcome",components:{Rocket:L,Check:I,X:E,ArrowRight:j},emits:["next"],setup(){const r=v({php:!1,extensions:{OpenSSL:!1,PDO:!1,Mbstring:!1,Tokenizer:!1,XML:!1,Ctype:!1,JSON:!1,cURL:!1,Intl:!1},permissions:{"storage/":!1,"storage/framework/":!1,"storage/logs/":!1,"bootstrap/cache/":!1,"public/":!1}}),t=v({software:"",memoryLimit:"",maxExecutionTime:""}),f=C(""),s=P(()=>r.php&&Object.values(r.extensions).every(o=>o)&&Object.values(r.permissions).every(o=>o)),h=async()=>{try{const o=await y("/install/check-requirements"),a=await q(o);f.value=a.phpVersion,r.php=a.requirements.php,r.extensions=a.requirements.extensions,r.permissions=a.requirements.permissions,t.software=a.serverInfo.software,t.memoryLimit=a.serverInfo.memoryLimit,t.maxExecutionTime=a.serverInfo.maxExecutionTime}catch(o){console.error("Error checking requirements:",o),g()}},g=()=>{f.value="8.2.0",r.php=!0,Object.keys(r.extensions).forEach(o=>{r.extensions[o]=!0}),Object.keys(r.permissions).forEach(o=>{r.permissions[o]=!0}),t.software="Apache/Nginx",t.memoryLimit="256M",t.maxExecutionTime="300"};return V(()=>{h()}),{requirements:r,serverInfo:t,phpVersion:f,allRequirementsMet:s}}},T={class:"animate-fade-in-up"},A={class:"text-center mb-8"},O={class:"w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-6"},B={class:"space-y-6"},D={class:"bg-slate-50 dark:bg-slate-700/50 rounded-xl p-6"},H={class:"flex items-center justify-between"},N={class:"flex items-center space-x-3"},X={class:"text-sm text-slate-600 dark:text-slate-400"},z={class:"bg-slate-50 dark:bg-slate-700/50 rounded-xl p-6"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},W={class:"flex items-center space-x-2"},J={class:"text-sm font-medium text-slate-700 dark:text-slate-300"},U={class:"bg-slate-50 dark:bg-slate-700/50 rounded-xl p-6"},Y={class:"space-y-3"},G={class:"flex items-center space-x-2"},K={class:"text-sm font-medium text-slate-700 dark:text-slate-300"},Q={class:"bg-slate-50 dark:bg-slate-700/50 rounded-xl p-6"},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$={class:"space-y-2"},ee={class:"flex justify-between"},te={class:"text-sm font-medium text-slate-900 dark:text-white"},se={class:"flex justify-between"},re={class:"text-sm font-medium text-slate-900 dark:text-white"},oe={class:"space-y-2"},ne={class:"flex justify-between"},ae={class:"text-sm font-medium text-slate-900 dark:text-white"},ie={class:"flex justify-between"},le={class:"text-sm font-medium text-slate-900 dark:text-white"},de={class:"flex justify-between items-center mt-8 pt-6 border-t border-slate-200 dark:border-slate-700"},me={class:"text-sm text-slate-500 dark:text-slate-400"},ce={key:0,class:"text-red-600 dark:text-red-400"},xe={key:1,class:"text-green-600 dark:text-green-400"},fe=["disabled"];function ue(r,t,f,s,h,g){const o=u("Rocket"),a=u("Check"),p=u("X"),w=u("ArrowRight");return n(),l("div",T,[e("div",A,[e("div",O,[k(o,{class:"w-10 h-10 text-white"})]),t[1]||(t[1]=e("h2",{class:"text-3xl font-bold text-slate-900 dark:text-white mb-4"}," System Requirements Check ",-1)),t[2]||(t[2]=e("p",{class:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto"}," Before we begin, let's make sure your server meets all the requirements for running HelpDesk. ",-1))]),e("div",B,[e("div",D,[e("div",H,[e("div",N,[e("div",{class:x(["w-8 h-8 rounded-full flex items-center justify-center",s.requirements.php?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"])},[s.requirements.php?(n(),m(a,{key:0,class:"w-5 h-5 text-green-600 dark:text-green-400"})):(n(),m(p,{key:1,class:"w-5 h-5 text-red-600 dark:text-red-400"}))],2),e("div",null,[t[3]||(t[3]=e("h3",{class:"font-semibold text-slate-900 dark:text-white"},"PHP Version",-1)),e("p",X," Current: "+i(s.phpVersion)+" | Required: 8.1+ ",1)])]),e("div",{class:x(["px-3 py-1 rounded-full text-sm font-medium",s.requirements.php?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"])},i(s.requirements.php?"Passed":"Failed"),3)])]),e("div",z,[t[4]||(t[4]=e("h3",{class:"font-semibold text-slate-900 dark:text-white mb-4"},"PHP Extensions",-1)),e("div",F,[(n(!0),l(b,null,_(s.requirements.extensions,(d,c)=>(n(),l("div",{key:c,class:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg"},[e("div",W,[d?(n(),m(a,{key:0,class:"w-4 h-4 text-green-600 dark:text-green-400"})):(n(),m(p,{key:1,class:"w-4 h-4 text-red-600 dark:text-red-400"})),e("span",J,i(c),1)]),e("div",{class:x(["w-2 h-2 rounded-full",d?"bg-green-500":"bg-red-500"])},null,2)]))),128))])]),e("div",U,[t[5]||(t[5]=e("h3",{class:"font-semibold text-slate-900 dark:text-white mb-4"},"Directory Permissions",-1)),e("div",Y,[(n(!0),l(b,null,_(s.requirements.permissions,(d,c)=>(n(),l("div",{key:c,class:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg"},[e("div",G,[d?(n(),m(a,{key:0,class:"w-4 h-4 text-green-600 dark:text-green-400"})):(n(),m(p,{key:1,class:"w-4 h-4 text-red-600 dark:text-red-400"})),e("span",K,i(c),1)]),e("div",{class:x(["w-2 h-2 rounded-full",d?"bg-green-500":"bg-red-500"])},null,2)]))),128))])]),e("div",Q,[t[10]||(t[10]=e("h3",{class:"font-semibold text-slate-900 dark:text-white mb-4"},"Server Information",-1)),e("div",Z,[e("div",$,[e("div",ee,[t[6]||(t[6]=e("span",{class:"text-sm text-slate-600 dark:text-slate-400"},"Server Software:",-1)),e("span",te,i(s.serverInfo.software),1)]),e("div",se,[t[7]||(t[7]=e("span",{class:"text-sm text-slate-600 dark:text-slate-400"},"PHP Version:",-1)),e("span",re,i(s.phpVersion),1)])]),e("div",oe,[e("div",ne,[t[8]||(t[8]=e("span",{class:"text-sm text-slate-600 dark:text-slate-400"},"Memory Limit:",-1)),e("span",ae,i(s.serverInfo.memoryLimit),1)]),e("div",ie,[t[9]||(t[9]=e("span",{class:"text-sm text-slate-600 dark:text-slate-400"},"Max Execution Time:",-1)),e("span",le,i(s.serverInfo.maxExecutionTime)+"s",1)])])])])]),e("div",de,[e("div",me,[s.allRequirementsMet?(n(),l("p",xe," All requirements are met! You can proceed with the installation. ")):(n(),l("p",ce," Please fix the requirements above before continuing. "))]),e("button",{onClick:t[0]||(t[0]=d=>r.$emit("next")),disabled:!s.allRequirementsMet,class:x(["px-8 py-3 rounded-lg font-semibold transition-all duration-200 transform",s.allRequirementsMet?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white hover:scale-105 shadow-lg hover:shadow-xl":"bg-slate-300 dark:bg-slate-600 text-slate-500 dark:text-slate-400 cursor-not-allowed"])},[t[11]||(t[11]=M(" Continue Installation ",-1)),k(w,{class:"w-4 h-4 ml-2 inline"})],10,fe)])])}const _e=R(S,[["render",ue]]);export{_e as default};
