import{X as I,C as j,D as m,l as d,u as l,o as b,m as e,M as g,A as u,z as r,y as _,F as x,t as k,K as c,a8 as v,N as B,P as h}from"./vendor-LkufkiF7.js";import{L as D}from"./Layout-B-7SKJ8y.js";import{I as M}from"./LogoutButton-C42r2dkh.js";import{_ as H}from"./DeleteConfirmation-CLnw7UU1.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{Hash as U,LucideUpload as V,CheckSquare as w,FileText as S,LucideType as y,FormInput as R,LucidePlus as z,LucideSave as K,LucideTrash2 as X,Edit as Y,Eye as $}from"./ui-DZ0wy3Ge.js";import"./utils-Cv2kkzzw.js";import"./Logo-CwTRbPbO.js";import"./FlashMessages-Bge5XBye.js";import"./app-DgNNGg9T.js";const G={metaInfo:{title:"Ticket Form Builder"},components:{DeleteConfirmation:H,Link:j,Head:I,Icon:M,Eye:$,Edit:Y,Trash2:X,Save:K,Plus:z,FormInput:R,Type:y,FileText:S,CheckSquare:w,Upload:V,Hash:U},layout:D,props:{title:{type:String},fields:{type:Object}},data(){return{delete_element:!1,modify_input:!1,input_types:["text","textarea","select","checkbox","file","email","number"],new_input:{type:"text",required:0,label:"",name:"",placeholder:"",id:null,options:[{name:"",value:""}],hint:""},form:this.$inertia.form({type:"text",required:0,label:"",name:"",placeholder:"",id:null,options:[{name:"",value:""}],hint:""})}},methods:{getFieldIcon(s){return{text:y,email:y,number:U,textarea:S,select:w,checkbox:w,file:V}[s]||y},deleteClose(){this.delete_element=!1},submitField(s){["select","checkbox"].includes(this.form.type)||(this.form.options=null),this.modify_input?this.form.put(this.route("ticket-fields.update",this.form.id),{onSuccess:()=>{this.resetForm()}}):this.form.post(this.route("ticket-fields.store"),{onSuccess:()=>{this.resetForm()}})},resetForm(){Object.assign(this.form,this.new_input),this.modify_input=!1},modifyField(s){Object.assign(this.form,s),this.modify_input=!0},deleteField(s){this.delete_element=s.id},addOption(){this.form.options.push({name:"",value:""})},deleteOption(s,a){s.splice(a,1)}},created(){}},J={class:"min-h-screen bg-slate-50 dark:bg-slate-900"},Q={class:"bg-white dark:bg-slate-800 shadow-sm border-b border-slate-200 dark:border-slate-700"},W={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Z={class:"py-6"},ee={class:"flex items-center justify-between"},te={class:"text-2xl font-bold text-slate-900 dark:text-white"},se={class:"mt-1 text-sm text-slate-500 dark:text-slate-400"},le={class:"flex items-center gap-3"},oe={class:"text-sm text-slate-500 dark:text-slate-400"},re={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},de={class:"grid grid-cols-1 xl:grid-cols-2 gap-8"},ae={class:"space-y-6"},ie={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden"},ne={class:"px-6 py-4 border-b border-slate-200 dark:border-slate-700"},ue={class:"flex items-center justify-between"},ce={class:"text-lg font-semibold text-slate-900 dark:text-white"},me={class:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400"},pe={class:"p-6"},be={key:0,class:"space-y-6"},he=["for"],fe={key:0,class:"text-slate-400 dark:text-slate-500 ml-1"},_e={key:1,class:"text-red-500 ml-1"},xe=["type","id","placeholder","required"],ke=["id"],ge={value:"",disabled:""},ye=["value"],ve={key:2,class:"space-y-2"},we=["id","value"],Fe=["for"],Ce=["id","placeholder"],qe={key:4,class:"space-y-2"},Ue=["id"],Ve={key:5,class:"mt-2 text-xs text-slate-500 dark:text-slate-400"},Se={class:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200"},Te={class:"flex gap-1"},Ee=["onClick","title"],Le=["onClick","title"],Oe={key:1,class:"text-center py-12"},Pe={class:"text-lg font-medium text-slate-900 dark:text-white mb-2"},Ne={class:"text-slate-500 dark:text-slate-400"},Ie={class:"space-y-6"},je={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden"},Be={class:"px-6 py-4 border-b border-slate-200 dark:border-slate-700"},De={class:"text-lg font-semibold text-slate-900 dark:text-white"},Me={class:"p-6 space-y-6"},He={class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3"},Ae={class:"grid grid-cols-2 gap-3"},Re=["id","value"],ze=["for"],Ke={class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3"},Xe={class:"flex gap-4"},Ye={class:"flex items-center cursor-pointer"},$e={class:"ml-2 text-sm text-slate-700 dark:text-slate-300"},Ge={class:"flex items-center cursor-pointer"},Je={class:"ml-2 text-sm text-slate-700 dark:text-slate-300"},Qe={class:"space-y-4"},We={for:"label_name_new",class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},Ze=["placeholder"],et={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},tt={for:"name_new",class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},st=["placeholder"],lt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},ot={key:0},rt={for:"placeholder_new",class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},dt=["placeholder"],at={key:1},it={class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},nt={class:"space-y-2"},ut=["onUpdate:modelValue","placeholder"],ct=["onUpdate:modelValue","placeholder"],mt=["onClick","title"],pt={key:2},bt={for:"hints_new",class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},ht=["placeholder"];function ft(s,a,f,_t,o,p){var q;const T=m("Head"),E=m("Eye"),L=m("Edit"),F=m("Trash2"),O=m("FormInput"),C=m("Plus"),P=m("Save"),N=m("DeleteConfirmation");return l(),d("div",J,[b(T,{title:s.$t(f.title)},null,8,["title"]),e("div",Q,[e("div",W,[e("div",Z,[e("div",ee,[e("div",null,[e("h1",te,r(s.$t("Ticket Form Builder")),1),e("p",se,r(s.$t("Create custom fields for your ticket forms")),1)]),e("div",le,[e("span",oe,r(s.$t("Fields"))+": "+r(((q=f.fields.data)==null?void 0:q.length)||0),1)])])])])]),e("div",re,[e("div",de,[e("div",ae,[e("div",ie,[e("div",ne,[e("div",ue,[e("h2",ce,r(s.$t("Form Preview")),1),e("div",me,[b(E,{class:"w-4 h-4"}),_(" "+r(s.$t("Live Preview")),1)])])]),e("div",pe,[f.fields.data&&f.fields.data.length>0?(l(),d("div",be,[(l(!0),d(x,null,k(f.fields.data,t=>(l(),d("div",{key:t.id,class:"group relative p-4 border border-slate-200 dark:border-slate-600 rounded-lg hover:border-blue-300 dark:hover:border-blue-500 transition-colors duration-200"},[e("label",{for:["time_picker","date_picker","checkbox"].includes(t.type)?null:"ticket_field_"+t.id,class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},[_(r(t.label)+" ",1),t.required?(l(),d("span",_e,"*")):(l(),d("span",fe,"("+r(s.$t("optional"))+")",1))],8,he),["text","email","number"].includes(t.type)?(l(),d("input",{key:0,type:t.type,id:"ticket_field_"+t.id,placeholder:t.placeholder,required:t.required,class:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-white dark:placeholder-slate-400"},null,8,xe)):u("",!0),t.type==="select"?(l(),d("select",{key:1,id:"ticket_field_"+t.id,class:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-white"},[e("option",ge,r(t.placeholder),1),(l(!0),d(x,null,k(t.options,(i,n)=>(l(),d("option",{value:i.value,key:n},r(i.name),9,ye))),128))],8,ke)):u("",!0),t.type==="checkbox"?(l(),d("div",ve,[(l(!0),d(x,null,k(t.options,(i,n)=>(l(),d("div",{key:n,class:"flex items-center"},[e("input",{id:"ticket_checkbox_"+t.id+"_field_"+n,type:"checkbox",value:i.value,class:"w-4 h-4 text-blue-600 bg-slate-100 border-slate-300 rounded focus:ring-blue-500 dark:ring-offset-slate-800 dark:bg-slate-700 dark:border-slate-600"},null,8,we),e("label",{for:"ticket_checkbox_"+t.id+"_field_"+n,class:"ml-2 text-sm text-slate-700 dark:text-slate-300"},r(i.name),9,Fe)]))),128))])):u("",!0),t.type==="textarea"?(l(),d("textarea",{key:3,id:"ticket_field_"+t.id,rows:"3",class:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-white dark:placeholder-slate-400",placeholder:t.placeholder},null,8,Ce)):u("",!0),t.type==="file"?(l(),d("div",qe,[e("input",{id:"ticket_field_"+t.id,type:"file",class:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-slate-700 dark:file:text-slate-300"},null,8,Ue)])):u("",!0),t.hint?(l(),d("p",Ve,r(t.hint),1)):u("",!0),e("div",Se,[e("div",Te,[e("button",{onClick:i=>p.modifyField(t),class:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors duration-200",title:s.$t("Edit field")},[b(L,{class:"w-4 h-4"})],8,Ee),e("button",{onClick:i=>p.deleteField(t),class:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors duration-200",title:s.$t("Delete field")},[b(F,{class:"w-4 h-4"})],8,Le)])])]))),128))])):(l(),d("div",Oe,[b(O,{class:"w-12 h-12 text-slate-400 dark:text-slate-500 mx-auto mb-4"}),e("h3",Pe,r(s.$t("No fields yet")),1),e("p",Ne,r(s.$t("Start by adding your first custom field")),1)]))])])]),e("div",Ie,[e("div",je,[e("div",Be,[e("h2",De,r(o.modify_input?s.$t("Edit Field"):s.$t("Add New Field")),1)]),e("div",Me,[e("div",null,[e("label",He,r(s.$t("Field Type")),1),e("div",Ae,[(l(!0),d(x,null,k(o.input_types,(t,i)=>(l(),d("div",{key:i,class:"relative"},[c(e("input",{id:"input_type_name_"+i,name:"input_type","onUpdate:modelValue":a[0]||(a[0]=n=>o.form.type=n),value:t,type:"radio",class:"sr-only peer"},null,8,Re),[[v,o.form.type]]),e("label",{for:"input_type_name_"+i,class:"flex items-center justify-center p-3 text-sm font-medium text-slate-700 dark:text-slate-300 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg cursor-pointer peer-checked:bg-blue-50 peer-checked:border-blue-500 peer-checked:text-blue-700 dark:peer-checked:bg-blue-900/20 dark:peer-checked:border-blue-400 dark:peer-checked:text-blue-300 hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors duration-200"},[(l(),g(B(p.getFieldIcon(t)),{class:"w-4 h-4 mr-2"})),_(" "+r(t.replace("_"," ").replace(/\b\w/g,n=>n.toUpperCase())),1)],8,ze)]))),128))])]),e("div",null,[e("label",Ke,r(s.$t("Required Field")),1),e("div",Xe,[e("label",Ye,[c(e("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>o.form.required=t),value:1,type:"radio",name:"is_required",class:"w-4 h-4 text-blue-600 bg-slate-100 border-slate-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-slate-800 dark:bg-slate-700 dark:border-slate-600"},null,512),[[v,o.form.required]]),e("span",$e,r(s.$t("Yes")),1)]),e("label",Ge,[c(e("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>o.form.required=t),value:0,type:"radio",name:"is_required",class:"w-4 h-4 text-blue-600 bg-slate-100 border-slate-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-slate-800 dark:bg-slate-700 dark:border-slate-600"},null,512),[[v,o.form.required]]),e("span",Je,r(s.$t("No")),1)])])]),e("div",Qe,[e("div",null,[e("label",We,r(s.$t("Field Label")),1),c(e("input",{"onUpdate:modelValue":a[3]||(a[3]=t=>o.form.label=t),type:"text",id:"label_name_new",class:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-white dark:placeholder-slate-400",placeholder:s.$t("e.g. Full Name"),required:""},null,8,Ze),[[h,o.form.label]]),o.form.errors.label?(l(),d("p",et,r(o.form.errors.label),1)):u("",!0)]),e("div",null,[e("label",tt,r(s.$t("Field Name")),1),c(e("input",{"onUpdate:modelValue":a[4]||(a[4]=t=>o.form.name=t),type:"text",id:"name_new",class:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-white dark:placeholder-slate-400",placeholder:s.$t("e.g. full_name"),required:""},null,8,st),[[h,o.form.name]]),o.form.errors.name?(l(),d("p",lt,r(o.form.errors.name),1)):u("",!0)]),["checkbox","file"].includes(o.form.type)?u("",!0):(l(),d("div",ot,[e("label",rt,r(s.$t("Placeholder Text")),1),c(e("input",{"onUpdate:modelValue":a[5]||(a[5]=t=>o.form.placeholder=t),type:"text",id:"placeholder_new",class:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-white dark:placeholder-slate-400",placeholder:s.$t("e.g. Enter your full name")},null,8,dt),[[h,o.form.placeholder]])])),["checkbox","select"].includes(o.form.type)?(l(),d("div",at,[e("label",it,r(s.$t("Options")),1),e("div",nt,[(l(!0),d(x,null,k(o.form.options,(t,i)=>(l(),d("div",{key:i,class:"flex gap-2 items-center"},[c(e("input",{type:"text","onUpdate:modelValue":n=>t.name=n,class:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-white dark:placeholder-slate-400",placeholder:s.$t("Option label")},null,8,ut),[[h,t.name]]),c(e("input",{type:"text","onUpdate:modelValue":n=>t.value=n,class:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-white dark:placeholder-slate-400",placeholder:s.$t("Option value")},null,8,ct),[[h,t.value]]),i>0?(l(),d("button",{key:0,onClick:n=>p.deleteOption(o.form.options,i),type:"button",class:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors duration-200",title:s.$t("Remove option")},[b(F,{class:"w-4 h-4"})],8,mt)):u("",!0)]))),128)),e("button",{onClick:a[6]||(a[6]=t=>p.addOption()),type:"button",class:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 font-medium"},[b(C,{class:"w-4 h-4"}),_(" "+r(s.$t("Add Option")),1)])])])):u("",!0),o.form.type==="file"?(l(),d("div",pt,[e("label",bt,r(s.$t("File Hint")),1),c(e("input",{"onUpdate:modelValue":a[7]||(a[7]=t=>o.form.hint=t),type:"text",id:"hints_new",class:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-white dark:placeholder-slate-400",placeholder:s.$t("e.g. Max file size: 5MB")},null,8,ht),[[h,o.form.hint]])])):u("",!0)]),e("button",{onClick:a[8]||(a[8]=t=>p.submitField(o.form)),type:"button",class:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors duration-200 shadow-sm hover:shadow-md"},[o.modify_input?(l(),g(P,{key:0,class:"w-4 h-4"})):(l(),g(C,{key:1,class:"w-4 h-4"})),_(" "+r(o.modify_input?s.$t("Update Field"):s.$t("Add Field")),1)])])])])])]),o.delete_element?(l(),g(N,{key:0,data:{id:o.delete_element},url:"ticket-fields.delete",name:"the field",onClosePopup:p.deleteClose},null,8,["data","onClosePopup"])):u("",!0)])}const Vt=A(G,[["render",ft]]);export{Vt as default};
